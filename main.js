var NE=Object.create;var ds=Object.defineProperty;var bE=Object.getOwnPropertyDescriptor;var ME=Object.getOwnPropertyNames;var IE=Object.getPrototypeOf,DE=Object.prototype.hasOwnProperty;var kE=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nu=(e,t)=>()=>(e&&(t=e(e=0)),t);var on=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xe=(e,t)=>{for(var n in t)ds(e,n,{get:t[n],enumerable:!0})},Tm=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ME(t))!DE.call(e,o)&&o!==n&&ds(e,o,{get:()=>t[o],enumerable:!(i=bE(t,o))||i.enumerable});return e};var F=(e,t,n)=>(n=e!=null?NE(IE(e)):{},Tm(t||!e||!e.__esModule?ds(n,"default",{value:e,enumerable:!0}):n,e)),UE=e=>Tm(ds({},"__esModule",{value:!0}),e);var bu=(e,t,n)=>(kE(e,typeof t!="symbol"?t+"":t,n),n);var Im=on(q=>{"use strict";var Du=Symbol.for("react.transitional.element"),LE=Symbol.for("react.portal"),PE=Symbol.for("react.fragment"),HE=Symbol.for("react.strict_mode"),GE=Symbol.for("react.profiler"),qE=Symbol.for("react.consumer"),VE=Symbol.for("react.context"),zE=Symbol.for("react.forward_ref"),OE=Symbol.for("react.suspense"),BE=Symbol.for("react.memo"),xm=Symbol.for("react.lazy"),FE=Symbol.for("react.activity"),Em=Symbol.iterator;function $E(e){return e===null||typeof e!="object"?null:(e=Em&&e[Em]||e["@@iterator"],typeof e=="function"?e:null)}var wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rm=Object.assign,Nm={};function io(e,t,n){this.props=e,this.context=t,this.refs=Nm,this.updater=n||wm}io.prototype.isReactComponent={};io.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};io.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bm(){}bm.prototype=io.prototype;function ku(e,t,n){this.props=e,this.context=t,this.refs=Nm,this.updater=n||wm}var Uu=ku.prototype=new bm;Uu.constructor=ku;Rm(Uu,io.prototype);Uu.isPureReactComponent=!0;var _m=Array.isArray;function Iu(){}var ye={H:null,A:null,T:null,S:null},Mm=Object.prototype.hasOwnProperty;function Lu(e,t,n){var i=n.ref;return{$$typeof:Du,type:e,key:t,ref:i!==void 0?i:null,props:n}}function YE(e,t){return Lu(e.type,t,e.props)}function Pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Du}function JE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cm=/\/+/g;function Mu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JE(""+e.key):t.toString(36)}function KE(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Iu,Iu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function no(e,t,n,i,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Du:case LE:l=!0;break;case xm:return l=e._init,no(l(e._payload),t,n,i,o)}}if(l)return o=o(e),l=i===""?"."+Mu(e,0):i,_m(o)?(n="",l!=null&&(n=l.replace(Cm,"$&/")+"/"),no(o,t,n,"",function(f){return f})):o!=null&&(Pu(o)&&(o=YE(o,n+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace(Cm,"$&/")+"/")+l)),t.push(o)),1;l=0;var a=i===""?".":i+":";if(_m(e))for(var c=0;c<e.length;c++)i=e[c],s=a+Mu(i,c),l+=no(i,t,n,s,o);else if(c=$E(e),typeof c=="function")for(e=c.call(e),c=0;!(i=e.next()).done;)i=i.value,s=a+Mu(i,c++),l+=no(i,t,n,s,o);else if(s==="object"){if(typeof e.then=="function")return no(KE(e),t,n,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Dl(e,t,n){if(e==null)return e;var i=[],o=0;return no(e,i,"","",function(s){return t.call(n,s,o++)}),i}function XE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Am=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},QE={map:Dl,forEach:function(e,t,n){Dl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dl(e,function(){t++}),t},toArray:function(e){return Dl(e,function(t){return t})||[]},only:function(e){if(!Pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Activity=FE;q.Children=QE;q.Component=io;q.Fragment=PE;q.Profiler=GE;q.PureComponent=ku;q.StrictMode=HE;q.Suspense=OE;q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;q.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ye.H.useMemoCache(e)}};q.cache=function(e){return function(){return e.apply(null,arguments)}};q.cacheSignal=function(){return null};q.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Rm({},e.props),o=e.key;if(t!=null)for(s in t.key!==void 0&&(o=""+t.key),t)!Mm.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),a=0;a<s;a++)l[a]=arguments[a+2];i.children=l}return Lu(e.type,o,i)};q.createContext=function(e){return e={$$typeof:VE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:qE,_context:e},e};q.createElement=function(e,t,n){var i,o={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Mm.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=t[i]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];o.children=a}if(e&&e.defaultProps)for(i in l=e.defaultProps,l)o[i]===void 0&&(o[i]=l[i]);return Lu(e,s,o)};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:zE,render:e}};q.isValidElement=Pu;q.lazy=function(e){return{$$typeof:xm,_payload:{_status:-1,_result:e},_init:XE}};q.memo=function(e,t){return{$$typeof:BE,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=ye.T,n={};ye.T=n;try{var i=e(),o=ye.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Iu,Am)}catch(s){Am(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),ye.T=t}};q.unstable_useCacheRefresh=function(){return ye.H.useCacheRefresh()};q.use=function(e){return ye.H.use(e)};q.useActionState=function(e,t,n){return ye.H.useActionState(e,t,n)};q.useCallback=function(e,t){return ye.H.useCallback(e,t)};q.useContext=function(e){return ye.H.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e,t){return ye.H.useDeferredValue(e,t)};q.useEffect=function(e,t){return ye.H.useEffect(e,t)};q.useEffectEvent=function(e){return ye.H.useEffectEvent(e)};q.useId=function(){return ye.H.useId()};q.useImperativeHandle=function(e,t,n){return ye.H.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return ye.H.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return ye.H.useLayoutEffect(e,t)};q.useMemo=function(e,t){return ye.H.useMemo(e,t)};q.useOptimistic=function(e,t){return ye.H.useOptimistic(e,t)};q.useReducer=function(e,t,n){return ye.H.useReducer(e,t,n)};q.useRef=function(e){return ye.H.useRef(e)};q.useState=function(e){return ye.H.useState(e)};q.useSyncExternalStore=function(e,t,n){return ye.H.useSyncExternalStore(e,t,n)};q.useTransition=function(){return ye.H.useTransition()};q.version="19.2.3"});var Mt=on((nD,Dm)=>{"use strict";Dm.exports=Im()});var Om=on(_e=>{"use strict";function Vu(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(0<kl(o,t))e[i]=t,e[n]=o,n=i;else break e}}function sn(e){return e.length===0?null:e[0]}function Ll(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var l=2*(i+1)-1,a=e[l],c=l+1,f=e[c];if(0>kl(a,n))c<o&&0>kl(f,a)?(e[i]=f,e[c]=n,i=c):(e[i]=a,e[l]=n,i=l);else if(c<o&&0>kl(f,n))e[i]=f,e[c]=n,i=c;else break e}}return t}function kl(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}_e.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(km=performance,_e.unstable_now=function(){return km.now()}):(Hu=Date,Um=Hu.now(),_e.unstable_now=function(){return Hu.now()-Um});var km,Hu,Um,mn=[],zn=[],ZE=1,It=null,Ze=3,zu=!1,ps=!1,ms=!1,Ou=!1,Hm=typeof setTimeout=="function"?setTimeout:null,Gm=typeof clearTimeout=="function"?clearTimeout:null,Lm=typeof setImmediate<"u"?setImmediate:null;function Ul(e){for(var t=sn(zn);t!==null;){if(t.callback===null)Ll(zn);else if(t.startTime<=e)Ll(zn),t.sortIndex=t.expirationTime,Vu(mn,t);else break;t=sn(zn)}}function Bu(e){if(ms=!1,Ul(e),!ps)if(sn(mn)!==null)ps=!0,so||(so=!0,oo());else{var t=sn(zn);t!==null&&Fu(Bu,t.startTime-e)}}var so=!1,hs=-1,qm=5,Vm=-1;function zm(){return Ou?!0:!(_e.unstable_now()-Vm<qm)}function Gu(){if(Ou=!1,so){var e=_e.unstable_now();Vm=e;var t=!0;try{e:{ps=!1,ms&&(ms=!1,Gm(hs),hs=-1),zu=!0;var n=Ze;try{t:{for(Ul(e),It=sn(mn);It!==null&&!(It.expirationTime>e&&zm());){var i=It.callback;if(typeof i=="function"){It.callback=null,Ze=It.priorityLevel;var o=i(It.expirationTime<=e);if(e=_e.unstable_now(),typeof o=="function"){It.callback=o,Ul(e),t=!0;break t}It===sn(mn)&&Ll(mn),Ul(e)}else Ll(mn);It=sn(mn)}if(It!==null)t=!0;else{var s=sn(zn);s!==null&&Fu(Bu,s.startTime-e),t=!1}}break e}finally{It=null,Ze=n,zu=!1}t=void 0}}finally{t?oo():so=!1}}}var oo;typeof Lm=="function"?oo=function(){Lm(Gu)}:typeof MessageChannel<"u"?(qu=new MessageChannel,Pm=qu.port2,qu.port1.onmessage=Gu,oo=function(){Pm.postMessage(null)}):oo=function(){Hm(Gu,0)};var qu,Pm;function Fu(e,t){hs=Hm(function(){e(_e.unstable_now())},t)}_e.unstable_IdlePriority=5;_e.unstable_ImmediatePriority=1;_e.unstable_LowPriority=4;_e.unstable_NormalPriority=3;_e.unstable_Profiling=null;_e.unstable_UserBlockingPriority=2;_e.unstable_cancelCallback=function(e){e.callback=null};_e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qm=0<e?Math.floor(1e3/e):5};_e.unstable_getCurrentPriorityLevel=function(){return Ze};_e.unstable_next=function(e){switch(Ze){case 1:case 2:case 3:var t=3;break;default:t=Ze}var n=Ze;Ze=t;try{return e()}finally{Ze=n}};_e.unstable_requestPaint=function(){Ou=!0};_e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Ze;Ze=e;try{return t()}finally{Ze=n}};_e.unstable_scheduleCallback=function(e,t,n){var i=_e.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?i+n:i):n=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:ZE++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>i?(e.sortIndex=n,Vu(zn,e),sn(mn)===null&&e===sn(zn)&&(ms?(Gm(hs),hs=-1):ms=!0,Fu(Bu,n-i))):(e.sortIndex=o,Vu(mn,e),ps||zu||(ps=!0,so||(so=!0,oo()))),e};_e.unstable_shouldYield=zm;_e.unstable_wrapCallback=function(e){var t=Ze;return function(){var n=Ze;Ze=t;try{return e.apply(this,arguments)}finally{Ze=n}}}});var Fm=on((oD,Bm)=>{"use strict";Bm.exports=Om()});var Ym=on(et=>{"use strict";var WE=Mt();function $m(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function On(){}var je={d:{f:On,r:function(){throw Error($m(522))},D:On,C:On,L:On,m:On,X:On,S:On,M:On},p:0,findDOMNode:null},jE=Symbol.for("react.portal");function e_(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jE,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var gs=WE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Pl(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error($m(299));return e_(e,t,null,n)};et.flushSync=function(e){var t=gs.T,n=je.p;try{if(gs.T=null,je.p=2,e)return e()}finally{gs.T=t,je.p=n,je.d.f()}};et.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,je.d.C(e,t))};et.prefetchDNS=function(e){typeof e=="string"&&je.d.D(e)};et.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Pl(n,t.crossOrigin),o=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?je.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:s}):n==="script"&&je.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};et.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Pl(t.as,t.crossOrigin);je.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&je.d.M(e)};et.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Pl(n,t.crossOrigin);je.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};et.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Pl(t.as,t.crossOrigin);je.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else je.d.m(e)};et.requestFormReset=function(e){je.d.r(e)};et.unstable_batchedUpdates=function(e,t){return e(t)};et.useFormState=function(e,t,n){return gs.H.useFormState(e,t,n)};et.useFormStatus=function(){return gs.H.useHostTransitionStatus()};et.version="19.2.3"});var Xm=on((lD,Km)=>{"use strict";function Jm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jm)}catch(e){console.error(e)}}Jm(),Km.exports=Ym()});var r0=on(ra=>{"use strict";var Ge=Fm(),Eg=Mt(),t_=Xm();function w(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ag(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qm(e){if(nl(e)!==e)throw Error(w(188))}function n_(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(w(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Qm(o),e;if(s===i)return Qm(o),t;s=s.sibling}throw Error(w(188))}if(n.return!==i.return)n=o,i=s;else{for(var l=!1,a=o.child;a;){if(a===n){l=!0,n=o,i=s;break}if(a===i){l=!0,i=o,n=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===n){l=!0,n=s,i=o;break}if(a===i){l=!0,i=s,n=o;break}a=a.sibling}if(!l)throw Error(w(189))}}if(n.alternate!==i)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?e:t}function xg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=xg(e),t!==null)return t;e=e.sibling}return null}var Te=Object.assign,i_=Symbol.for("react.element"),Hl=Symbol.for("react.transitional.element"),As=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),Ac=Symbol.for("react.profiler"),Rg=Symbol.for("react.consumer"),_n=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy");Symbol.for("react.scope");var Rc=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var o_=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var Zm=Symbol.iterator;function ys(e){return e===null||typeof e!="object"?null:(e=Zm&&e[Zm]||e["@@iterator"],typeof e=="function"?e:null)}var s_=Symbol.for("react.client.reference");function Nc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===s_?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fo:return"Fragment";case Ac:return"Profiler";case wg:return"StrictMode";case xc:return"Suspense";case wc:return"SuspenseList";case Rc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case As:return"Portal";case _n:return e.displayName||"Context";case Rg:return(e._context.displayName||"Context")+".Consumer";case Tf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ef:return t=e.displayName||null,t!==null?t:Nc(e.type)||"Memo";case Bn:t=e._payload,e=e._init;try{return Nc(e(t))}catch{}}return null}var xs=Array.isArray,L=Eg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ri={pending:!1,data:null,method:null,action:null},bc=[],po=-1;function cn(e){return{current:e}}function ze(e){0>po||(e.current=bc[po],bc[po]=null,po--)}function me(e,t){po++,bc[po]=e.current,e.current=t}var un=cn(null),Os=cn(null),ei=cn(null),gr=cn(null);function yr(e,t){switch(me(ei,t),me(Os,e),me(un,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?og(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=og(t),e=Jv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ze(un),me(un,e)}function Io(){ze(un),ze(Os),ze(ei)}function Mc(e){e.memoizedState!==null&&me(gr,e);var t=un.current,n=Jv(t,e.type);t!==n&&(me(Os,e),me(un,n))}function vr(e){Os.current===e&&(ze(un),ze(Os)),gr.current===e&&(ze(gr),js._currentValue=Ri)}var $u,Wm;function Ci(e){if($u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$u=t&&t[1]||"",Wm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$u+e+Wm}var Yu=!1;function Ju(e,t){if(!e||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(h){var m=h}Reflect.construct(e,[],p)}else{try{p.call()}catch(h){m=h}e.call(p.prototype)}}else{try{throw Error()}catch(h){m=h}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),l=s[0],a=s[1];if(l&&a){var c=l.split(`
`),f=a.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ci(n):""}function l_(e,t){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return e.child!==t&&t!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Ju(e.type,!1);case 11:return Ju(e.type.render,!1);case 1:return Ju(e.type,!0);case 31:return Ci("Activity");default:return""}}function jm(e){try{var t="",n=null;do t+=l_(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ic=Object.prototype.hasOwnProperty,_f=Ge.unstable_scheduleCallback,Ku=Ge.unstable_cancelCallback,r_=Ge.unstable_shouldYield,a_=Ge.unstable_requestPaint,Et=Ge.unstable_now,u_=Ge.unstable_getCurrentPriorityLevel,Ng=Ge.unstable_ImmediatePriority,bg=Ge.unstable_UserBlockingPriority,Sr=Ge.unstable_NormalPriority,c_=Ge.unstable_LowPriority,Mg=Ge.unstable_IdlePriority,f_=Ge.log,d_=Ge.unstable_setDisableYieldValue,il=null,_t=null;function Xn(e){if(typeof f_=="function"&&d_(e),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(il,e)}catch{}}var Ct=Math.clz32?Math.clz32:h_,p_=Math.log,m_=Math.LN2;function h_(e){return e>>>=0,e===0?32:31-(p_(e)/m_|0)|0}var Gl=256,ql=262144,Vl=4194304;function Ai(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $r(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=i&134217727;return a!==0?(i=a&~s,i!==0?o=Ai(i):(l&=a,l!==0?o=Ai(l):n||(n=a&~e,n!==0&&(o=Ai(n))))):(a=i&~s,a!==0?o=Ai(a):l!==0?o=Ai(l):n||(n=i&~e,n!==0&&(o=Ai(n)))),o===0?0:t!==0&&t!==o&&(t&s)===0&&(s=o&-o,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:o}function ol(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function g_(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ig(){var e=Vl;return Vl<<=1,(Vl&62914560)===0&&(Vl=4194304),e}function Xu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function y_(e,t,n,i,o,s){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,c=e.expirationTimes,f=e.hiddenUpdates;for(n=l&~n;0<n;){var d=31-Ct(n),p=1<<d;a[d]=0,c[d]=-1;var m=f[d];if(m!==null)for(f[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~p}i!==0&&Dg(e,i,0),s!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function Dg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ct(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function kg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ct(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Ug(e,t){var n=t&-t;return n=(n&42)!==0?1:Cf(n),(n&(e.suspendedLanes|t))!==0?0:n}function Cf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Af(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lg(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:o0(e.type))}function eh(e,t){var n=ne.p;try{return ne.p=e,t()}finally{ne.p=n}}var pi=Math.random().toString(36).slice(2),Fe="__reactFiber$"+pi,dt="__reactProps$"+pi,Oo="__reactContainer$"+pi,Dc="__reactEvents$"+pi,v_="__reactListeners$"+pi,S_="__reactHandles$"+pi,th="__reactResources$"+pi,ll="__reactMarker$"+pi;function xf(e){delete e[Fe],delete e[dt],delete e[Dc],delete e[v_],delete e[S_]}function mo(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oo]||n[Fe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ug(e);e!==null;){if(n=e[Fe])return n;e=ug(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){if(e=e[Fe]||e[Oo]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ws(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(w(33))}function Ao(e){var t=e[th];return t||(t=e[th]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ve(e){e[ll]=!0}var Pg=new Set,Hg={};function Hi(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(Hg[e]=t,e=0;e<t.length;e++)Pg.add(t[e])}var T_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nh={},ih={};function E_(e){return Ic.call(ih,e)?!0:Ic.call(nh,e)?!1:T_.test(e)?ih[e]=!0:(nh[e]=!0,!1)}function tr(e,t,n){if(E_(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function __(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kc(e){if(!e._valueTracker){var t=Gg(e)?"checked":"value";e._valueTracker=__(e,t,""+e[t])}}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Gg(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Tr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var C_=/[\n"\\]/g;function Pt(e){return e.replace(C_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uc(e,t,n,i,o,s,l,a){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Lc(e,l,kt(t)):n!=null?Lc(e,l,kt(n)):i!=null&&e.removeAttribute("value"),o==null&&s!=null&&(e.defaultChecked=!!s),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.name=""+kt(a):e.removeAttribute("name")}function Vg(e,t,n,i,o,s,l,a){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){kc(e);return}n=n!=null?""+kt(n):"",t=t!=null?""+kt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),kc(e)}function Lc(e,t,n){t==="number"&&Tr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xo(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+kt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function zg(e,t,n){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+kt(n):""}function Og(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(w(92));if(xs(i)){if(1<i.length)throw Error(w(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=kt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),kc(e)}function ko(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var A_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oh(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||A_.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Bg(e,t,n){if(t!=null&&typeof t!="object")throw Error(w(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&oh(e,o,i)}else for(var s in t)t.hasOwnProperty(s)&&oh(e,s,t[s])}function wf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(e){return w_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var Pc=null;function Rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ho=null,wo=null;function sh(e){var t=Bo(e);if(t&&(e=t.stateNode)){var n=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Uc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[dt]||null;if(!o)throw Error(w(90));Uc(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&qg(i)}break e;case"textarea":zg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&xo(e,!!n.multiple,t,!1)}}}var Qu=!1;function Fg(e,t,n){if(Qu)return e(t,n);Qu=!0;try{var i=e(t);return i}finally{if(Qu=!1,(ho!==null||wo!==null)&&(ia(),ho&&(t=ho,e=wo,wo=ho=null,sh(t),e)))for(t=0;t<e.length;t++)sh(e[t])}}function Bs(e,t){var n=e.stateNode;if(n===null)return null;var i=n[dt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(w(231,t,typeof n));return n}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=!1;if(Nn)try{lo={},Object.defineProperty(lo,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Hc=!1}var lo,Qn=null,Nf=null,ir=null;function $g(){if(ir)return ir;var e,t=Nf,n=t.length,i,o="value"in Qn?Qn.value:Qn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===o[s-i];i++);return ir=o.slice(e,1<i?1-i:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ol(){return!0}function lh(){return!1}function pt(e){function t(n,i,o,s,l){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ol:lh,this.isPropagationStopped=lh,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ol)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ol)},persist:function(){},isPersistent:Ol}),t}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=pt(Gi),rl=Te({},Gi,{view:0,detail:0}),R_=pt(rl),Zu,Wu,vs,Jr=Te({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(Zu=e.screenX-vs.screenX,Wu=e.screenY-vs.screenY):Wu=Zu=0,vs=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:Wu}}),rh=pt(Jr),N_=Te({},Jr,{dataTransfer:0}),b_=pt(N_),M_=Te({},rl,{relatedTarget:0}),ju=pt(M_),I_=Te({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),D_=pt(I_),k_=Te({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U_=pt(k_),L_=Te({},Gi,{data:0}),ah=pt(L_),P_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G_[e])?!!t[e]:!1}function bf(){return q_}var V_=Te({},rl,{key:function(e){if(e.key){var t=P_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z_=pt(V_),O_=Te({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=pt(O_),B_=Te({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),F_=pt(B_),$_=Te({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y_=pt($_),J_=Te({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K_=pt(J_),X_=Te({},Gi,{newState:0,oldState:0}),Q_=pt(X_),Z_=[9,13,27,32],Mf=Nn&&"CompositionEvent"in window,bs=null;Nn&&"documentMode"in document&&(bs=document.documentMode);var W_=Nn&&"TextEvent"in window&&!bs,Yg=Nn&&(!Mf||bs&&8<bs&&11>=bs),ch=String.fromCharCode(32),fh=!1;function Jg(e,t){switch(e){case"keyup":return Z_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var go=!1;function j_(e,t){switch(e){case"compositionend":return Kg(t);case"keypress":return t.which!==32?null:(fh=!0,ch);case"textInput":return e=t.data,e===ch&&fh?null:e;default:return null}}function eC(e,t){if(go)return e==="compositionend"||!Mf&&Jg(e,t)?(e=$g(),ir=Nf=Qn=null,go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yg&&t.locale!=="ko"?null:t.data;default:return null}}var tC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tC[e.type]:t==="textarea"}function Xg(e,t,n,i){ho?wo?wo.push(i):wo=[i]:ho=i,t=Gr(t,"onChange"),0<t.length&&(n=new Yr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ms=null,Fs=null;function nC(e){Fv(e,0)}function Kr(e){var t=ws(e);if(qg(t))return e}function ph(e,t){if(e==="change")return t}var Qg=!1;Nn&&(Nn?(Fl="oninput"in document,Fl||(ec=document.createElement("div"),ec.setAttribute("oninput","return;"),Fl=typeof ec.oninput=="function"),Bl=Fl):Bl=!1,Qg=Bl&&(!document.documentMode||9<document.documentMode));var Bl,Fl,ec;function mh(){Ms&&(Ms.detachEvent("onpropertychange",Zg),Fs=Ms=null)}function Zg(e){if(e.propertyName==="value"&&Kr(Fs)){var t=[];Xg(t,Fs,e,Rf(e)),Fg(nC,t)}}function iC(e,t,n){e==="focusin"?(mh(),Ms=t,Fs=n,Ms.attachEvent("onpropertychange",Zg)):e==="focusout"&&mh()}function oC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kr(Fs)}function sC(e,t){if(e==="click")return Kr(t)}function lC(e,t){if(e==="input"||e==="change")return Kr(t)}function rC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:rC;function $s(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Ic.call(t,o)||!xt(e[o],t[o]))return!1}return!0}function hh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gh(e,t){var n=hh(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hh(n)}}function Wg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Tr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tr(e.document)}return t}function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var aC=Nn&&"documentMode"in document&&11>=document.documentMode,yo=null,Gc=null,Is=null,qc=!1;function yh(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qc||yo==null||yo!==Tr(i)||(i=yo,"selectionStart"in i&&If(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Is&&$s(Is,i)||(Is=i,i=Gr(Gc,"onSelect"),0<i.length&&(t=new Yr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=yo)))}function _i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vo={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},tc={},ey={};Nn&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function qi(e){if(tc[e])return tc[e];if(!vo[e])return e;var t=vo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ey)return tc[e]=t[n];return e}var ty=qi("animationend"),ny=qi("animationiteration"),iy=qi("animationstart"),uC=qi("transitionrun"),cC=qi("transitionstart"),fC=qi("transitioncancel"),oy=qi("transitionend"),sy=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function $t(e,t){sy.set(e,t),Hi(t,[e])}var Er=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],So=0,Df=0;function Xr(){for(var e=So,t=Df=So=0;t<e;){var n=Dt[t];Dt[t++]=null;var i=Dt[t];Dt[t++]=null;var o=Dt[t];Dt[t++]=null;var s=Dt[t];if(Dt[t++]=null,i!==null&&o!==null){var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}s!==0&&ly(n,o,s)}}function Qr(e,t,n,i){Dt[So++]=e,Dt[So++]=t,Dt[So++]=n,Dt[So++]=i,Df|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function kf(e,t,n,i){return Qr(e,t,n,i),_r(e)}function Vi(e,t){return Qr(e,null,null,t),_r(e)}function ly(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(o=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,o&&t!==null&&(o=31-Ct(n),e=s.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),s):null}function _r(e){if(50<Vs)throw Vs=0,af=null,Error(w(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var To={};function dC(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,i){return new dC(e,t,n,i)}function Uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ry(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sr(e,t,n,i,o,s){var l=0;if(i=e,typeof e=="function")Uf(e)&&(l=1);else if(typeof e=="string")l=hA(e,n,un.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Rc:return e=St(31,n,t,o),e.elementType=Rc,e.lanes=s,e;case fo:return Ni(n.children,o,s,t);case wg:l=8,o|=24;break;case Ac:return e=St(12,n,t,o|2),e.elementType=Ac,e.lanes=s,e;case xc:return e=St(13,n,t,o),e.elementType=xc,e.lanes=s,e;case wc:return e=St(19,n,t,o),e.elementType=wc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _n:l=10;break e;case Rg:l=9;break e;case Tf:l=11;break e;case Ef:l=14;break e;case Bn:l=16,i=null;break e}l=29,n=Error(w(130,e===null?"null":typeof e,"")),i=null}return t=St(l,n,t,o),t.elementType=e,t.type=i,t.lanes=s,t}function Ni(e,t,n,i){return e=St(7,e,i,t),e.lanes=n,e}function nc(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function ay(e){var t=St(18,null,null,0);return t.stateNode=e,t}function ic(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var vh=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=vh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:jm(t)},vh.set(e,t),t)}return{value:e,source:t,stack:jm(t)}}var Eo=[],_o=0,Cr=null,Ys=0,Ut=[],Lt=0,ui=null,ln=1,rn="";function Tn(e,t){Eo[_o++]=Ys,Eo[_o++]=Cr,Cr=e,Ys=t}function uy(e,t,n){Ut[Lt++]=ln,Ut[Lt++]=rn,Ut[Lt++]=ui,ui=e;var i=ln;e=rn;var o=32-Ct(i)-1;i&=~(1<<o),n+=1;var s=32-Ct(t)+o;if(30<s){var l=o-o%5;s=(i&(1<<l)-1).toString(32),i>>=l,o-=l,ln=1<<32-Ct(t)+o|n<<o|i,rn=s+e}else ln=1<<s|n<<o|i,rn=e}function Lf(e){e.return!==null&&(Tn(e,1),uy(e,1,0))}function Pf(e){for(;e===Cr;)Cr=Eo[--_o],Eo[_o]=null,Ys=Eo[--_o],Eo[_o]=null;for(;e===ui;)ui=Ut[--Lt],Ut[Lt]=null,rn=Ut[--Lt],Ut[Lt]=null,ln=Ut[--Lt],Ut[Lt]=null}function cy(e,t){Ut[Lt++]=ln,Ut[Lt++]=rn,Ut[Lt++]=ui,ln=t.id,rn=t.overflow,ui=e}var $e=null,Se=null,X=!1,ti=null,Gt=!1,zc=Error(w(519));function ci(e){var t=Error(w(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Js(Ht(t,e)),zc}function Sh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Fe]=e,t[dt]=i,n){case"dialog":$("cancel",t),$("close",t);break;case"iframe":case"object":case"embed":$("load",t);break;case"video":case"audio":for(n=0;n<Zs.length;n++)$(Zs[n],t);break;case"source":$("error",t);break;case"img":case"image":case"link":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"input":$("invalid",t),Vg(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":$("invalid",t);break;case"textarea":$("invalid",t),Og(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Yv(t.textContent,n)?(i.popover!=null&&($("beforetoggle",t),$("toggle",t)),i.onScroll!=null&&$("scroll",t),i.onScrollEnd!=null&&$("scrollend",t),i.onClick!=null&&(t.onclick=Cn),t=!0):t=!1,t||ci(e,!0)}function Th(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:$e=$e.return}}function ro(e){if(e!==$e)return!1;if(!X)return Th(e),X=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||pf(e.type,e.memoizedProps)),n=!n),n&&Se&&ci(e),Th(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));Se=ag(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(317));Se=ag(e)}else t===27?(t=Se,mi(e.type)?(e=yf,yf=null,Se=e):Se=t):Se=$e?Vt(e.stateNode.nextSibling):null;return!0}function Di(){Se=$e=null,X=!1}function oc(){var e=ti;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),ti=null),e}function Js(e){ti===null?ti=[e]:ti.push(e)}var Oc=cn(null),zi=null,An=null;function $n(e,t,n){me(Oc,t._currentValue),t._currentValue=n}function wn(e){e._currentValue=Oc.current,ze(Oc)}function Bc(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Fc(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){var l=o.child;s=s.firstContext;e:for(;s!==null;){var a=s;s=o;for(var c=0;c<t.length;c++)if(a.context===t[c]){s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Bc(s.return,n,e),i||(l=null);break e}s=a.next}}else if(o.tag===18){if(l=o.return,l===null)throw Error(w(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Bc(l,n,e),l=null}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}}function Fo(e,t,n,i){e=null;for(var o=t,s=!1;o!==null;){if(!s){if((o.flags&524288)!==0)s=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var l=o.alternate;if(l===null)throw Error(w(387));if(l=l.memoizedProps,l!==null){var a=o.type;xt(o.pendingProps.value,l.value)||(e!==null?e.push(a):e=[a])}}else if(o===gr.current){if(l=o.alternate,l===null)throw Error(w(387));l.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(js):e=[js])}o=o.return}e!==null&&Fc(t,e,n,i),t.flags|=262144}function Ar(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){zi=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return fy(zi,e)}function $l(e,t){return zi===null&&ki(e),fy(e,t)}function fy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},An===null){if(e===null)throw Error(w(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return n}var pC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},mC=Ge.unstable_scheduleCallback,hC=Ge.unstable_NormalPriority,ke={$$typeof:_n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new pC,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&mC(hC,function(){e.controller.abort()})}var Ds=null,$c=0,Uo=0,Ro=null;function gC(e,t){if(Ds===null){var n=Ds=[];$c=0,Uo=ad(),Ro={status:"pending",value:void 0,then:function(i){n.push(i)}}}return $c++,t.then(Eh,Eh),t}function Eh(){if(--$c===0&&Ds!==null){Ro!==null&&(Ro.status="fulfilled");var e=Ds;Ds=null,Uo=0,Ro=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function yC(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var _h=L.S;L.S=function(e,t){xv=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&gC(e,t),_h!==null&&_h(e,t)};var bi=cn(null);function Gf(){var e=bi.current;return e!==null?e:pe.pooledCache}function lr(e,t){t===null?me(bi,bi.current):me(bi,t.pool)}function dy(){var e=Gf();return e===null?null:{parent:ke._currentValue,pool:e}}var $o=Error(w(460)),qf=Error(w(474)),Zr=Error(w(542)),xr={then:function(){}};function Ch(e){return e=e.status,e==="fulfilled"||e==="rejected"}function py(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Cn,Cn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xh(e),e;default:if(typeof t.status=="string")t.then(Cn,Cn);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(w(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xh(e),e}throw Mi=t,$o}}function xi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Mi=n,$o):n}}var Mi=null;function Ah(){if(Mi===null)throw Error(w(459));var e=Mi;return Mi=null,e}function xh(e){if(e===$o||e===Zr)throw Error(w(483))}var No=null,Ks=0;function Yl(e){var t=Ks;return Ks+=1,No===null&&(No=[]),py(No,e,t)}function Ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Jl(e,t){throw t.$$typeof===i_?Error(w(525)):(e=Object.prototype.toString.call(t),Error(w(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function my(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function i(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(g,y){return g=xn(g,y),g.index=0,g.sibling=null,g}function s(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=67108866,y):v):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function l(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function a(g,y,v,E){return y===null||y.tag!==6?(y=nc(v,g.mode,E),y.return=g,y):(y=o(y,v),y.return=g,y)}function c(g,y,v,E){var A=v.type;return A===fo?d(g,y,v.props.children,E,v.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bn&&xi(A)===y.type)?(y=o(y,v.props),Ss(y,v),y.return=g,y):(y=sr(v.type,v.key,v.props,null,g.mode,E),Ss(y,v),y.return=g,y)}function f(g,y,v,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ic(v,g.mode,E),y.return=g,y):(y=o(y,v.children||[]),y.return=g,y)}function d(g,y,v,E,A){return y===null||y.tag!==7?(y=Ni(v,g.mode,E,A),y.return=g,y):(y=o(y,v),y.return=g,y)}function p(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=nc(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hl:return v=sr(y.type,y.key,y.props,null,g.mode,v),Ss(v,y),v.return=g,v;case As:return y=ic(y,g.mode,v),y.return=g,y;case Bn:return y=xi(y),p(g,y,v)}if(xs(y)||ys(y))return y=Ni(y,g.mode,v,null),y.return=g,y;if(typeof y.then=="function")return p(g,Yl(y),v);if(y.$$typeof===_n)return p(g,$l(g,y),v);Jl(g,y)}return null}function m(g,y,v,E){var A=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:a(g,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hl:return v.key===A?c(g,y,v,E):null;case As:return v.key===A?f(g,y,v,E):null;case Bn:return v=xi(v),m(g,y,v,E)}if(xs(v)||ys(v))return A!==null?null:d(g,y,v,E,null);if(typeof v.then=="function")return m(g,y,Yl(v),E);if(v.$$typeof===_n)return m(g,y,$l(g,v),E);Jl(g,v)}return null}function h(g,y,v,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return g=g.get(v)||null,a(y,g,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hl:return g=g.get(E.key===null?v:E.key)||null,c(y,g,E,A);case As:return g=g.get(E.key===null?v:E.key)||null,f(y,g,E,A);case Bn:return E=xi(E),h(g,y,v,E,A)}if(xs(E)||ys(E))return g=g.get(v)||null,d(y,g,E,A,null);if(typeof E.then=="function")return h(g,y,v,Yl(E),A);if(E.$$typeof===_n)return h(g,y,v,$l(y,E),A);Jl(y,E)}return null}function S(g,y,v,E){for(var A=null,N=null,x=y,I=y=0,C=null;x!==null&&I<v.length;I++){x.index>I?(C=x,x=null):C=x.sibling;var R=m(g,x,v[I],E);if(R===null){x===null&&(x=C);break}e&&x&&R.alternate===null&&t(g,x),y=s(R,y,I),N===null?A=R:N.sibling=R,N=R,x=C}if(I===v.length)return n(g,x),X&&Tn(g,I),A;if(x===null){for(;I<v.length;I++)x=p(g,v[I],E),x!==null&&(y=s(x,y,I),N===null?A=x:N.sibling=x,N=x);return X&&Tn(g,I),A}for(x=i(x);I<v.length;I++)C=h(x,g,I,v[I],E),C!==null&&(e&&C.alternate!==null&&x.delete(C.key===null?I:C.key),y=s(C,y,I),N===null?A=C:N.sibling=C,N=C);return e&&x.forEach(function(z){return t(g,z)}),X&&Tn(g,I),A}function T(g,y,v,E){if(v==null)throw Error(w(151));for(var A=null,N=null,x=y,I=y=0,C=null,R=v.next();x!==null&&!R.done;I++,R=v.next()){x.index>I?(C=x,x=null):C=x.sibling;var z=m(g,x,R.value,E);if(z===null){x===null&&(x=C);break}e&&x&&z.alternate===null&&t(g,x),y=s(z,y,I),N===null?A=z:N.sibling=z,N=z,x=C}if(R.done)return n(g,x),X&&Tn(g,I),A;if(x===null){for(;!R.done;I++,R=v.next())R=p(g,R.value,E),R!==null&&(y=s(R,y,I),N===null?A=R:N.sibling=R,N=R);return X&&Tn(g,I),A}for(x=i(x);!R.done;I++,R=v.next())R=h(x,g,I,R.value,E),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?I:R.key),y=s(R,y,I),N===null?A=R:N.sibling=R,N=R);return e&&x.forEach(function(Ae){return t(g,Ae)}),X&&Tn(g,I),A}function _(g,y,v,E){if(typeof v=="object"&&v!==null&&v.type===fo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Hl:e:{for(var A=v.key;y!==null;){if(y.key===A){if(A=v.type,A===fo){if(y.tag===7){n(g,y.sibling),E=o(y,v.props.children),E.return=g,g=E;break e}}else if(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Bn&&xi(A)===y.type){n(g,y.sibling),E=o(y,v.props),Ss(E,v),E.return=g,g=E;break e}n(g,y);break}else t(g,y);y=y.sibling}v.type===fo?(E=Ni(v.props.children,g.mode,E,v.key),E.return=g,g=E):(E=sr(v.type,v.key,v.props,null,g.mode,E),Ss(E,v),E.return=g,g=E)}return l(g);case As:e:{for(A=v.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),E=o(y,v.children||[]),E.return=g,g=E;break e}else{n(g,y);break}else t(g,y);y=y.sibling}E=ic(v,g.mode,E),E.return=g,g=E}return l(g);case Bn:return v=xi(v),_(g,y,v,E)}if(xs(v))return S(g,y,v,E);if(ys(v)){if(A=ys(v),typeof A!="function")throw Error(w(150));return v=A.call(v),T(g,y,v,E)}if(typeof v.then=="function")return _(g,y,Yl(v),E);if(v.$$typeof===_n)return _(g,y,$l(g,v),E);Jl(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),E=o(y,v),E.return=g,g=E):(n(g,y),E=nc(v,g.mode,E),E.return=g,g=E),l(g)):n(g,y)}return function(g,y,v,E){try{Ks=0;var A=_(g,y,v,E);return No=null,A}catch(x){if(x===$o||x===Zr)throw x;var N=St(29,x,null,g.mode);return N.lanes=E,N.return=g,N}finally{}}}var Ui=my(!0),hy=my(!1),Fn=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(te&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=_r(e),ly(e,null,n),t}return Qr(e,i,t,n),_r(e)}function ks(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,kg(e,n)}}function sc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Jc=!1;function Us(){if(Jc){var e=Ro;if(e!==null)throw e}}function Ls(e,t,n,i){Jc=!1;var o=e.updateQueue;Fn=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,f=c.next;c.next=null,l===null?s=f:l.next=f,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==l&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=c))}if(s!==null){var p=o.baseState;l=0,d=f=c=null,a=s;do{var m=a.lane&-536870913,h=m!==a.lane;if(h?(J&m)===m:(i&m)===m){m!==0&&m===Uo&&(Jc=!0),d!==null&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var S=e,T=a;m=t;var _=n;switch(T.tag){case 1:if(S=T.payload,typeof S=="function"){p=S.call(_,p,m);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=T.payload,m=typeof S=="function"?S.call(_,p,m):S,m==null)break e;p=Te({},p,m);break e;case 2:Fn=!0}}m=a.callback,m!==null&&(e.flags|=64,h&&(e.flags|=8192),h=o.callbacks,h===null?o.callbacks=[m]:h.push(m))}else h={lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=h,c=p):d=d.next=h,l|=m;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);d===null&&(c=p),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,s===null&&(o.shared.lanes=0),di|=l,e.lanes=l,e.memoizedState=p}}function gy(e,t){if(typeof e!="function")throw Error(w(191,e));e.call(t)}function yy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gy(n[e],t)}var Lo=cn(null),wr=cn(0);function wh(e,t){e=Dn,me(wr,e),me(Lo,t),Dn=e|t.baseLanes}function Kc(){me(wr,Dn),me(Lo,Lo.current)}function zf(){Dn=wr.current,ze(Lo),ze(wr)}var wt=cn(null),qt=null;function Yn(e){var t=e.alternate;me(be,be.current&1),me(wt,e),qt===null&&(t===null||Lo.current!==null||t.memoizedState!==null)&&(qt=e)}function Xc(e){me(be,be.current),me(wt,e),qt===null&&(qt=e)}function vy(e){e.tag===22?(me(be,be.current),me(wt,e),qt===null&&(qt=e)):Jn(e)}function Jn(){me(be,be.current),me(wt,wt.current)}function vt(e){ze(wt),qt===e&&(qt=null),ze(be)}var be=cn(0);function Rr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hf(n)||gf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bn=0,V=null,fe=null,Ie=null,Nr=!1,bo=!1,Li=!1,br=0,Xs=0,Mo=null,vC=0;function we(){throw Error(w(321))}function Of(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Bf(e,t,n,i,o,s){return bn=s,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Xy:ed,Li=!1,s=n(i,o),Li=!1,bo&&(s=Ty(t,n,i,o)),Sy(e),s}function Sy(e){L.H=Qs;var t=fe!==null&&fe.next!==null;if(bn=0,Ie=fe=V=null,Nr=!1,Xs=0,Mo=null,t)throw Error(w(300));e===null||Ue||(e=e.dependencies,e!==null&&Ar(e)&&(Ue=!0))}function Ty(e,t,n,i){V=e;var o=0;do{if(bo&&(Mo=null),Xs=0,bo=!1,25<=o)throw Error(w(301));if(o+=1,Ie=fe=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}L.H=Qy,s=t(n,i)}while(bo);return s}function SC(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?ul(t):t,e=e.useState()[0],(fe!==null?fe.memoizedState:null)!==e&&(V.flags|=1024),t}function Ff(){var e=br!==0;return br=0,e}function $f(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yf(e){if(Nr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nr=!1}bn=0,Ie=fe=V=null,bo=!1,Xs=br=0,Mo=null}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?V.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Me(){if(fe===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=Ie===null?V.memoizedState:Ie.next;if(t!==null)Ie=t,fe=e;else{if(e===null)throw V.alternate===null?Error(w(467)):Error(w(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Ie===null?V.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Wr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var t=Xs;return Xs+=1,Mo===null&&(Mo=[]),e=py(Mo,e,t),t=V,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Xy:ed),e}function jr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===_n)return Ye(e)}throw Error(w(438,String(e)))}function Jf(e){var t=null,n=V.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=V.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Wr(),V.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=o_;return t.index++,n}function Mn(e,t){return typeof t=="function"?t(e):t}function rr(e){var t=Me();return Kf(t,fe,e)}function Kf(e,t,n){var i=e.queue;if(i===null)throw Error(w(311));i.lastRenderedReducer=n;var o=e.baseQueue,s=i.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}t.baseQueue=o=s,i.pending=null}if(s=e.baseState,o===null)e.memoizedState=s;else{t=o.next;var a=l=null,c=null,f=t,d=!1;do{var p=f.lane&-536870913;if(p!==f.lane?(J&p)===p:(bn&p)===p){var m=f.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),p===Uo&&(d=!0);else if((bn&m)===m){f=f.next,m===Uo&&(d=!0);continue}else p={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(a=c=p,l=s):c=c.next=p,V.lanes|=m,di|=m;p=f.action,Li&&n(s,p),s=f.hasEagerState?f.eagerState:n(s,p)}else m={lane:p,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(a=c=m,l=s):c=c.next=m,V.lanes|=p,di|=p;f=f.next}while(f!==null&&f!==t);if(c===null?l=s:c.next=a,!xt(s,e.memoizedState)&&(Ue=!0,d&&(n=Ro,n!==null)))throw n;e.memoizedState=s,e.baseState=l,e.baseQueue=c,i.lastRenderedState=s}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function lc(e){var t=Me(),n=t.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);xt(s,t.memoizedState)||(Ue=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function Ey(e,t,n){var i=V,o=Me(),s=X;if(s){if(n===void 0)throw Error(w(407));n=n()}else n=t();var l=!xt((fe||o).memoizedState,n);if(l&&(o.memoizedState=n,Ue=!0),o=o.queue,Xf(Ay.bind(null,i,o,e),[e]),o.getSnapshot!==t||l||Ie!==null&&Ie.memoizedState.tag&1){if(i.flags|=2048,Po(9,{destroy:void 0},Cy.bind(null,i,o,n,t),null),pe===null)throw Error(w(349));s||(bn&127)!==0||_y(i,t,n)}return n}function _y(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t=Wr(),V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Cy(e,t,n,i){t.value=n,t.getSnapshot=i,xy(t)&&wy(e)}function Ay(e,t,n){return n(function(){xy(t)&&wy(e)})}function xy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function wy(e){var t=Vi(e,2);t!==null&&ft(t,e,2)}function Qc(e){var t=tt();if(typeof e=="function"){var n=e;if(e=n(),Li){Xn(!0);try{n()}finally{Xn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t}function Ry(e,t,n,i){return e.baseState=n,Kf(e,fe,typeof i=="function"?i:Mn)}function TC(e,t,n,i,o){if(ta(e))throw Error(w(485));if(e=t.action,e!==null){var s={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};L.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,Ny(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Ny(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var s=L.T,l={};L.T=l;try{var a=n(o,i),c=L.S;c!==null&&c(l,a),Rh(e,t,a)}catch(f){Zc(e,t,f)}finally{s!==null&&l.types!==null&&(s.types=l.types),L.T=s}}else try{s=n(o,i),Rh(e,t,s)}catch(f){Zc(e,t,f)}}function Rh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Nh(e,t,i)},function(i){return Zc(e,t,i)}):Nh(e,t,n)}function Nh(e,t,n){t.status="fulfilled",t.value=n,by(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ny(e,n)))}function Zc(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,by(t),t=t.next;while(t!==i)}e.action=null}function by(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function My(e,t){return t}function bh(e,t){if(X){var n=pe.formState;if(n!==null){e:{var i=V;if(X){if(Se){t:{for(var o=Se,s=Gt;o.nodeType!==8;){if(!s){o=null;break t}if(o=Vt(o.nextSibling),o===null){o=null;break t}}s=o.data,o=s==="F!"||s==="F"?o:null}if(o){Se=Vt(o.nextSibling),i=o.data==="F!";break e}}ci(i)}i=!1}i&&(t=n[0])}}return n=tt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:t},n.queue=i,n=Yy.bind(null,V,i),i.dispatch=n,i=Qc(!1),s=jf.bind(null,V,!1,i.queue),i=tt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=TC.bind(null,V,o,s,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Mh(e){var t=Me();return Iy(t,fe,e)}function Iy(e,t,n){if(t=Kf(e,t,My)[0],e=rr(Mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ul(t)}catch(l){throw l===$o?Zr:l}else i=t;t=Me();var o=t.queue,s=o.dispatch;return n!==t.memoizedState&&(V.flags|=2048,Po(9,{destroy:void 0},EC.bind(null,o,n),null)),[i,s,e]}function EC(e,t){e.action=t}function Ih(e){var t=Me(),n=fe;if(n!==null)return Iy(t,n,e);Me(),t=t.memoizedState,n=Me();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Po(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=V.updateQueue,t===null&&(t=Wr(),V.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Dy(){return Me().memoizedState}function ar(e,t,n,i){var o=tt();V.flags|=e,o.memoizedState=Po(1|t,{destroy:void 0},n,i===void 0?null:i)}function ea(e,t,n,i){var o=Me();i=i===void 0?null:i;var s=o.memoizedState.inst;fe!==null&&i!==null&&Of(i,fe.memoizedState.deps)?o.memoizedState=Po(t,s,n,i):(V.flags|=e,o.memoizedState=Po(1|t,s,n,i))}function Dh(e,t){ar(8390656,8,e,t)}function Xf(e,t){ea(2048,8,e,t)}function _C(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=Wr(),V.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ky(e){var t=Me().memoizedState;return _C({ref:t,nextImpl:e}),function(){if((te&2)!==0)throw Error(w(440));return t.impl.apply(void 0,arguments)}}function Uy(e,t){return ea(4,2,e,t)}function Ly(e,t){return ea(4,4,e,t)}function Py(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hy(e,t,n){n=n!=null?n.concat([e]):null,ea(4,4,Py.bind(null,t,e),n)}function Qf(){}function Gy(e,t){var n=Me();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Of(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function qy(e,t){var n=Me();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Of(t,i[1]))return i[0];if(i=e(),Li){Xn(!0);try{e()}finally{Xn(!1)}}return n.memoizedState=[i,t],i}function Zf(e,t,n){return n===void 0||(bn&1073741824)!==0&&(J&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Rv(),V.lanes|=e,di|=e,n)}function Vy(e,t,n,i){return xt(n,t)?n:Lo.current!==null?(e=Zf(e,n,i),xt(e,t)||(Ue=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(J&261930)===0?(Ue=!0,e.memoizedState=n):(e=Rv(),V.lanes|=e,di|=e,t)}function zy(e,t,n,i,o){var s=ne.p;ne.p=s!==0&&8>s?s:8;var l=L.T,a={};L.T=a,jf(e,!1,t,n);try{var c=o(),f=L.S;if(f!==null&&f(a,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=yC(c,i);Ps(e,t,d,At(e))}else Ps(e,t,i,At(e))}catch(p){Ps(e,t,{then:function(){},status:"rejected",reason:p},At())}finally{ne.p=s,l!==null&&a.types!==null&&(l.types=a.types),L.T=l}}function CC(){}function Wc(e,t,n,i){if(e.tag!==5)throw Error(w(476));var o=Oy(e).queue;zy(e,o,t,Ri,n===null?CC:function(){return By(e),n(i)})}function Oy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ri,baseState:Ri,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:Ri},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function By(e){var t=Oy(e);t.next===null&&(t=e.alternate.memoizedState),Ps(e,t.next.queue,{},At())}function Wf(){return Ye(js)}function Fy(){return Me().memoizedState}function $y(){return Me().memoizedState}function AC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=At();e=ni(n);var i=ii(t,e,n);i!==null&&(ft(i,t,n),ks(i,t,n)),t={cache:Hf()},e.payload=t;return}t=t.return}}function xC(e,t,n){var i=At();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ta(e)?Jy(t,n):(n=kf(e,t,n,i),n!==null&&(ft(n,e,i),Ky(n,t,i)))}function Yy(e,t,n){var i=At();Ps(e,t,n,i)}function Ps(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ta(e))Jy(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,a=s(l,n);if(o.hasEagerState=!0,o.eagerState=a,xt(a,l))return Qr(e,t,o,0),pe===null&&Xr(),!1}catch{}finally{}if(n=kf(e,t,o,i),n!==null)return ft(n,e,i),Ky(n,t,i),!0}return!1}function jf(e,t,n,i){if(i={lane:2,revertLane:ad(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ta(e)){if(t)throw Error(w(479))}else t=kf(e,n,i,2),t!==null&&ft(t,e,2)}function ta(e){var t=e.alternate;return e===V||t!==null&&t===V}function Jy(e,t){bo=Nr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ky(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,kg(e,n)}}var Qs={readContext:Ye,use:jr,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Qs.useEffectEvent=we;var Xy={readContext:Ye,use:jr,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:Dh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ar(4194308,4,Py.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ar(4194308,4,e,t)},useInsertionEffect:function(e,t){ar(4,2,e,t)},useMemo:function(e,t){var n=tt();t=t===void 0?null:t;var i=e();if(Li){Xn(!0);try{e()}finally{Xn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=tt();if(n!==void 0){var o=n(t);if(Li){Xn(!0);try{n(t)}finally{Xn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=xC.bind(null,V,e),[i.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,n=Yy.bind(null,V,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qf,useDeferredValue:function(e,t){var n=tt();return Zf(n,e,t)},useTransition:function(){var e=Qc(!1);return e=zy.bind(null,V,e.queue,!0,!1),tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=V,o=tt();if(X){if(n===void 0)throw Error(w(407));n=n()}else{if(n=t(),pe===null)throw Error(w(349));(J&127)!==0||_y(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Dh(Ay.bind(null,i,s,e),[e]),i.flags|=2048,Po(9,{destroy:void 0},Cy.bind(null,i,s,n,t),null),n},useId:function(){var e=tt(),t=pe.identifierPrefix;if(X){var n=rn,i=ln;n=(i&~(1<<32-Ct(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=vC++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Wf,useFormState:bh,useActionState:bh,useOptimistic:function(e){var t=tt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=jf.bind(null,V,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jf,useCacheRefresh:function(){return tt().memoizedState=AC.bind(null,V)},useEffectEvent:function(e){var t=tt(),n={impl:e};return t.memoizedState=n,function(){if((te&2)!==0)throw Error(w(440));return n.impl.apply(void 0,arguments)}}},ed={readContext:Ye,use:jr,useCallback:Gy,useContext:Ye,useEffect:Xf,useImperativeHandle:Hy,useInsertionEffect:Uy,useLayoutEffect:Ly,useMemo:qy,useReducer:rr,useRef:Dy,useState:function(){return rr(Mn)},useDebugValue:Qf,useDeferredValue:function(e,t){var n=Me();return Vy(n,fe.memoizedState,e,t)},useTransition:function(){var e=rr(Mn)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:Ey,useId:Fy,useHostTransitionStatus:Wf,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var n=Me();return Ry(n,fe,e,t)},useMemoCache:Jf,useCacheRefresh:$y};ed.useEffectEvent=ky;var Qy={readContext:Ye,use:jr,useCallback:Gy,useContext:Ye,useEffect:Xf,useImperativeHandle:Hy,useInsertionEffect:Uy,useLayoutEffect:Ly,useMemo:qy,useReducer:lc,useRef:Dy,useState:function(){return lc(Mn)},useDebugValue:Qf,useDeferredValue:function(e,t){var n=Me();return fe===null?Zf(n,e,t):Vy(n,fe.memoizedState,e,t)},useTransition:function(){var e=lc(Mn)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:Ey,useId:Fy,useHostTransitionStatus:Wf,useFormState:Ih,useActionState:Ih,useOptimistic:function(e,t){var n=Me();return fe!==null?Ry(n,fe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:$y};Qy.useEffectEvent=ky;function rc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jc={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=At(),o=ni(i);o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,i),t!==null&&(ft(t,e,i),ks(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=At(),o=ni(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ii(e,o,i),t!==null&&(ft(t,e,i),ks(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=At(),i=ni(n);i.tag=2,t!=null&&(i.callback=t),t=ii(e,i,n),t!==null&&(ft(t,e,n),ks(t,e,n))}};function kh(e,t,n,i,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,l):t.prototype&&t.prototype.isPureReactComponent?!$s(n,i)||!$s(o,s):!0}function Uh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&jc.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Te({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Zy(e){Er(e)}function Wy(e){console.error(e)}function jy(e){Er(e)}function Mr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Lh(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ef(e,t,n){return n=ni(n),n.tag=3,n.payload={element:null},n.callback=function(){Mr(e,t)},n}function ev(e){return e=ni(e),e.tag=3,e}function tv(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var s=i.value;e.payload=function(){return o(s)},e.callback=function(){Lh(t,n,i)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Lh(t,n,i),typeof o!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var a=i.stack;this.componentDidCatch(i.value,{componentStack:a!==null?a:""})})}function wC(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Fo(t,n,o,!0),n=wt.current,n!==null){switch(n.tag){case 31:case 13:return qt===null?Lr():n.alternate===null&&Re===0&&(Re=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===xr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),vc(e,i,o)),!1;case 22:return n.flags|=65536,i===xr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),vc(e,i,o)),!1}throw Error(w(435,n.tag))}return vc(e,i,o),Lr(),!1}if(X)return t=wt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==zc&&(e=Error(w(422),{cause:i}),Js(Ht(e,n)))):(i!==zc&&(t=Error(w(423),{cause:i}),Js(Ht(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Ht(i,n),o=ef(e.stateNode,i,o),sc(e,o),Re!==4&&(Re=2)),!1;var s=Error(w(520),{cause:i});if(s=Ht(s,n),qs===null?qs=[s]:qs.push(s),Re!==4&&(Re=2),t===null)return!0;i=Ht(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=ef(n.stateNode,i,e),sc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(oi===null||!oi.has(s))))return n.flags|=65536,o&=-o,n.lanes|=o,o=ev(o),tv(o,e,n,i),sc(n,o),!1}n=n.return}while(n!==null);return!1}var td=Error(w(461)),Ue=!1;function Be(e,t,n,i){t.child=e===null?hy(t,null,n,i):Ui(t,e.child,n,i)}function Ph(e,t,n,i,o){n=n.render;var s=t.ref;if("ref"in i){var l={};for(var a in i)a!=="ref"&&(l[a]=i[a])}else l=i;return ki(t),i=Bf(e,t,n,l,s,o),a=Ff(),e!==null&&!Ue?($f(e,t,o),In(e,t,o)):(X&&a&&Lf(t),t.flags|=1,Be(e,t,i,o),t.child)}function Hh(e,t,n,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!Uf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,nv(e,t,s,i,o)):(e=sr(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!nd(e,o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:$s,n(l,i)&&e.ref===t.ref)return In(e,t,o)}return t.flags|=1,e=xn(s,i),e.ref=t.ref,e.return=t,t.child=e}function nv(e,t,n,i,o){if(e!==null){var s=e.memoizedProps;if($s(s,i)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=i=s,nd(e,o))(e.flags&131072)!==0&&(Ue=!0);else return t.lanes=e.lanes,In(e,t,o)}return tf(e,t,n,i,o)}function iv(e,t,n,i){var o=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~s}else i=0,t.child=null;return Gh(e,t,s,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&lr(t,s!==null?s.cachePool:null),s!==null?wh(t,s):Kc(),vy(t);else return i=t.lanes=536870912,Gh(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(lr(t,s.cachePool),wh(t,s),Jn(t),t.memoizedState=null):(e!==null&&lr(t,null),Kc(),Jn(t));return Be(e,t,o,n),t.child}function Rs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gh(e,t,n,i,o){var s=Gf();return s=s===null?null:{parent:ke._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&lr(t,null),Kc(),vy(t),e!==null&&Fo(e,t,i,!0),t.childLanes=o,null}function ur(e,t){return t=Ir({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qh(e,t,n){return Ui(t,e.child,null,n),e=ur(t,t.pendingProps),e.flags|=2,vt(t),t.memoizedState=null,e}function RC(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(X){if(i.mode==="hidden")return e=ur(t,i),t.lanes=536870912,Rs(null,e);if(Xc(t),(e=Se)?(e=Xv(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:ln,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=ay(e),n.return=t,t.child=n,$e=t,Se=null)):e=null,e===null)throw ci(t);return t.lanes=536870912,null}return ur(t,i)}var s=e.memoizedState;if(s!==null){var l=s.dehydrated;if(Xc(t),o)if(t.flags&256)t.flags&=-257,t=qh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(w(558));else if(Ue||Fo(e,t,n,!1),o=(n&e.childLanes)!==0,Ue||o){if(i=pe,i!==null&&(l=Ug(i,n),l!==0&&l!==s.retryLane))throw s.retryLane=l,Vi(e,l),ft(i,e,l),td;Lr(),t=qh(e,t,n)}else e=s.treeContext,Se=Vt(l.nextSibling),$e=t,X=!0,ti=null,Gt=!1,e!==null&&cy(t,e),t=ur(t,i),t.flags|=4096;return t}return e=xn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(w(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function tf(e,t,n,i,o){return ki(t),n=Bf(e,t,n,i,void 0,o),i=Ff(),e!==null&&!Ue?($f(e,t,o),In(e,t,o)):(X&&i&&Lf(t),t.flags|=1,Be(e,t,n,o),t.child)}function Vh(e,t,n,i,o,s){return ki(t),t.updateQueue=null,n=Ty(t,i,n,o),Sy(e),i=Ff(),e!==null&&!Ue?($f(e,t,s),In(e,t,s)):(X&&i&&Lf(t),t.flags|=1,Be(e,t,n,s),t.child)}function zh(e,t,n,i,o){if(ki(t),t.stateNode===null){var s=To,l=n.contextType;typeof l=="object"&&l!==null&&(s=Ye(l)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Vf(t),l=n.contextType,s.context=typeof l=="object"&&l!==null?Ye(l):To,s.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(rc(t,n,l,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&jc.enqueueReplaceState(s,s.state,null),Ls(t,i,s,o),Us(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var a=t.memoizedProps,c=Pi(n,a);s.props=c;var f=s.context,d=n.contextType;l=To,typeof d=="object"&&d!==null&&(l=Ye(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",a=t.pendingProps!==a,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a||f!==l)&&Uh(t,s,i,l),Fn=!1;var m=t.memoizedState;s.state=m,Ls(t,i,s,o),Us(),f=t.memoizedState,a||m!==f||Fn?(typeof p=="function"&&(rc(t,n,p,i),f=t.memoizedState),(c=Fn||kh(t,n,c,i,m,f,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Yc(e,t),l=t.memoizedProps,d=Pi(n,l),s.props=d,p=t.pendingProps,m=s.context,f=n.contextType,c=To,typeof f=="object"&&f!==null&&(c=Ye(f)),a=n.getDerivedStateFromProps,(f=typeof a=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==c)&&Uh(t,s,i,c),Fn=!1,m=t.memoizedState,s.state=m,Ls(t,i,s,o),Us();var h=t.memoizedState;l!==p||m!==h||Fn||e!==null&&e.dependencies!==null&&Ar(e.dependencies)?(typeof a=="function"&&(rc(t,n,a,i),h=t.memoizedState),(d=Fn||kh(t,n,d,i,m,h,c)||e!==null&&e.dependencies!==null&&Ar(e.dependencies))?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,h,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=c,i=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,cr(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ui(t,e.child,null,o),t.child=Ui(t,null,n,o)):Be(e,t,n,o),t.memoizedState=s.state,e=t.child):e=In(e,t,o),e}function Oh(e,t,n,i){return Di(),t.flags|=256,Be(e,t,n,i),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:dy()}}function cc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Tt),e}function ov(e,t,n){var i=t.pendingProps,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),l&&(o=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(X){if(o?Yn(t):Jn(t),(e=Se)?(e=Xv(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:ln,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},n=ay(e),n.return=t,t.child=n,$e=t,Se=null)):e=null,e===null)throw ci(t);return gf(e)?t.lanes=32:t.lanes=536870912,null}var a=i.children;return i=i.fallback,o?(Jn(t),o=t.mode,a=Ir({mode:"hidden",children:a},o),i=Ni(i,o,n,null),a.return=t,i.return=t,a.sibling=i,t.child=a,i=t.child,i.memoizedState=uc(n),i.childLanes=cc(e,l,n),t.memoizedState=ac,Rs(null,i)):(Yn(t),nf(t,a))}var c=e.memoizedState;if(c!==null&&(a=c.dehydrated,a!==null)){if(s)t.flags&256?(Yn(t),t.flags&=-257,t=fc(e,t,n)):t.memoizedState!==null?(Jn(t),t.child=e.child,t.flags|=128,t=null):(Jn(t),a=i.fallback,o=t.mode,i=Ir({mode:"visible",children:i.children},o),a=Ni(a,o,n,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,Ui(t,e.child,null,n),i=t.child,i.memoizedState=uc(n),i.childLanes=cc(e,l,n),t.memoizedState=ac,t=Rs(null,i));else if(Yn(t),gf(a)){if(l=a.nextSibling&&a.nextSibling.dataset,l)var f=l.dgst;l=f,i=Error(w(419)),i.stack="",i.digest=l,Js({value:i,source:null,stack:null}),t=fc(e,t,n)}else if(Ue||Fo(e,t,n,!1),l=(n&e.childLanes)!==0,Ue||l){if(l=pe,l!==null&&(i=Ug(l,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,Vi(e,i),ft(l,e,i),td;hf(a)||Lr(),t=fc(e,t,n)}else hf(a)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Se=Vt(a.nextSibling),$e=t,X=!0,ti=null,Gt=!1,e!==null&&cy(t,e),t=nf(t,i.children),t.flags|=4096);return t}return o?(Jn(t),a=i.fallback,o=t.mode,c=e.child,f=c.sibling,i=xn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?a=xn(f,a):(a=Ni(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,Rs(null,i),i=t.child,a=e.child.memoizedState,a===null?a=uc(n):(o=a.cachePool,o!==null?(c=ke._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=dy(),a={baseLanes:a.baseLanes|n,cachePool:o}),i.memoizedState=a,i.childLanes=cc(e,l,n),t.memoizedState=ac,Rs(e.child,i)):(Yn(t),n=e.child,e=n.sibling,n=xn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function nf(e,t){return t=Ir({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ir(e,t){return e=St(22,e,null,t),e.lanes=0,e}function fc(e,t,n){return Ui(t,e.child,null,n),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Bc(e.return,t,n)}function dc(e,t,n,i,o,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=o,l.treeForkCount=s)}function sv(e,t,n){var i=t.pendingProps,o=i.revealOrder,s=i.tail;i=i.children;var l=be.current,a=(l&2)!==0;if(a?(l=l&1|2,t.flags|=128):l&=1,me(be,l),Be(e,t,i,n),i=X?Ys:0,!a&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,n,t);else if(e.tag===19)Bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Rr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),dc(t,!1,o,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Rr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}dc(t,!0,n,null,s,i);break;case"together":dc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function In(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Fo(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(w(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function nd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ar(e)))}function NC(e,t,n){switch(t.tag){case 3:yr(t,t.stateNode.containerInfo),$n(t,ke,e.memoizedState.cache),Di();break;case 27:case 5:Mc(t);break;case 4:yr(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Xc(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Yn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ov(e,t,n):(Yn(t),e=In(e,t,n),e!==null?e.sibling:null);Yn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Fo(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return sv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),me(be,be.current),i)break;return null;case 22:return t.lanes=0,iv(e,t,n,t.pendingProps);case 24:$n(t,ke,e.memoizedState.cache)}return In(e,t,n)}function lv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ue=!0;else{if(!nd(e,n)&&(t.flags&128)===0)return Ue=!1,NC(e,t,n);Ue=(e.flags&131072)!==0}else Ue=!1,X&&(t.flags&1048576)!==0&&uy(t,Ys,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=xi(t.elementType),t.type=e,typeof e=="function")Uf(e)?(i=Pi(e,i),t.tag=1,t=zh(null,t,e,i,n)):(t.tag=0,t=tf(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Tf){t.tag=11,t=Ph(null,t,e,i,n);break e}else if(o===Ef){t.tag=14,t=Hh(null,t,e,i,n);break e}}throw t=Nc(e)||e,Error(w(306,t,""))}}return t;case 0:return tf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Pi(i,t.pendingProps),zh(e,t,i,o,n);case 3:e:{if(yr(t,t.stateNode.containerInfo),e===null)throw Error(w(387));i=t.pendingProps;var s=t.memoizedState;o=s.element,Yc(e,t),Ls(t,i,null,n);var l=t.memoizedState;if(i=l.cache,$n(t,ke,i),i!==s.cache&&Fc(t,[ke],n,!0),Us(),i=l.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Oh(e,t,i,n);break e}else if(i!==o){o=Ht(Error(w(424)),t),Js(o),t=Oh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Se=Vt(e.firstChild),$e=t,X=!0,ti=null,Gt=!0,n=hy(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Di(),i===o){t=In(e,t,n);break e}Be(e,t,i,n)}t=t.child}return t;case 26:return cr(e,t),e===null?(n=fg(t.type,null,t.pendingProps,null))?t.memoizedState=n:X||(n=t.type,e=t.pendingProps,i=qr(ei.current).createElement(n),i[Fe]=t,i[dt]=e,Je(i,n,e),Ve(i),t.stateNode=i):t.memoizedState=fg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Mc(t),e===null&&X&&(i=t.stateNode=Qv(t.type,t.pendingProps,ei.current),$e=t,Gt=!0,o=Se,mi(t.type)?(yf=o,Se=Vt(i.firstChild)):Se=o),Be(e,t,t.pendingProps.children,n),cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&X&&((o=i=Se)&&(i=nA(i,t.type,t.pendingProps,Gt),i!==null?(t.stateNode=i,$e=t,Se=Vt(i.firstChild),Gt=!1,o=!0):o=!1),o||ci(t)),Mc(t),o=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,pf(o,s)?i=null:l!==null&&pf(o,l)&&(t.flags|=32),t.memoizedState!==null&&(o=Bf(e,t,SC,null,null,n),js._currentValue=o),cr(e,t),Be(e,t,i,n),t.child;case 6:return e===null&&X&&((e=n=Se)&&(n=iA(n,t.pendingProps,Gt),n!==null?(t.stateNode=n,$e=t,Se=null,e=!0):e=!1),e||ci(t)),null;case 13:return ov(e,t,n);case 4:return yr(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ui(t,null,i,n):Be(e,t,i,n),t.child;case 11:return Ph(e,t,t.type,t.pendingProps,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,$n(t,t.type,i.value),Be(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ki(t),o=Ye(o),i=i(o),t.flags|=1,Be(e,t,i,n),t.child;case 14:return Hh(e,t,t.type,t.pendingProps,n);case 15:return nv(e,t,t.type,t.pendingProps,n);case 19:return sv(e,t,n);case 31:return RC(e,t,n);case 22:return iv(e,t,n,t.pendingProps);case 24:return ki(t),i=Ye(ke),e===null?(o=Gf(),o===null&&(o=pe,s=Hf(),o.pooledCache=s,s.refCount++,s!==null&&(o.pooledCacheLanes|=n),o=s),t.memoizedState={parent:i,cache:o},Vf(t),$n(t,ke,o)):((e.lanes&n)!==0&&(Yc(e,t),Ls(t,null,null,n),Us()),o=e.memoizedState,s=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),$n(t,ke,i)):(i=s.cache,$n(t,ke,i),i!==o.cache&&Fc(t,[ke],n,!0))),Be(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(w(156,t.tag))}function gn(e){e.flags|=4}function pc(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Mv())e.flags|=8192;else throw Mi=xr,qf}else e.flags&=-16777217}function Fh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jv(t))if(Mv())e.flags|=8192;else throw Mi=xr,qf}function Kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ig():536870912,e.lanes|=t,Ho|=t)}function Ts(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function bC(e,t,n){var i=t.pendingProps;switch(Pf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return ve(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),wn(ke),Io(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ro(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,oc())),ve(t),null;case 26:var o=t.type,s=t.memoizedState;return e===null?(gn(t),s!==null?(ve(t),Fh(t,s)):(ve(t),pc(t,o,null,i,n))):s?s!==e.memoizedState?(gn(t),ve(t),Fh(t,s)):(ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&gn(t),ve(t),pc(t,o,e,i,n)),null;case 27:if(vr(t),n=ei.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&gn(t);else{if(!i){if(t.stateNode===null)throw Error(w(166));return ve(t),null}e=un.current,ro(t)?Sh(t,e):(e=Qv(o,i,n),t.stateNode=e,gn(t))}return ve(t),null;case 5:if(vr(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&gn(t);else{if(!i){if(t.stateNode===null)throw Error(w(166));return ve(t),null}if(s=un.current,ro(t))Sh(t,s);else{var l=qr(ei.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?l.createElement(o,{is:i.is}):l.createElement(o)}}s[Fe]=t,s[dt]=i;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch(Je(s,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&gn(t)}}return ve(t),pc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&gn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(w(166));if(e=ei.current,ro(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=$e,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Yv(e.nodeValue,n)),e||ci(t,!0)}else e=qr(e).createTextNode(i),e[Fe]=t,t.stateNode=e}return ve(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=ro(t),n!==null){if(e===null){if(!i)throw Error(w(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(w(557));e[Fe]=t}else Di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ve(t),e=!1}else n=oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(vt(t),t):(vt(t),null);if((t.flags&128)!==0)throw Error(w(558))}return ve(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ro(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(w(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(w(317));o[Fe]=t}else Di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ve(t),o=!1}else o=oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(vt(t),t):(vt(t),null)}return vt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Kl(t,t.updateQueue),ve(t),null);case 4:return Io(),e===null&&ud(t.stateNode.containerInfo),ve(t),null;case 10:return wn(t.type),ve(t),null;case 19:if(ze(be),i=t.memoizedState,i===null)return ve(t),null;if(o=(t.flags&128)!==0,s=i.rendering,s===null)if(o)Ts(i,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Rr(e),s!==null){for(t.flags|=128,Ts(i,!1),e=s.updateQueue,t.updateQueue=e,Kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ry(n,e),n=n.sibling;return me(be,be.current&1|2),X&&Tn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Et()>kr&&(t.flags|=128,o=!0,Ts(i,!1),t.lanes=4194304)}else{if(!o)if(e=Rr(s),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Kl(t,e),Ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!X)return ve(t),null}else 2*Et()-i.renderingStartTime>kr&&n!==536870912&&(t.flags|=128,o=!0,Ts(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Et(),e.sibling=null,n=be.current,me(be,o?n&1|2:n&1),X&&Tn(t,i.treeForkCount),e):(ve(t),null);case 22:case 23:return vt(t),zf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),n=t.updateQueue,n!==null&&Kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ze(bi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wn(ke),ve(t),null;case 25:return null;case 30:return null}throw Error(w(156,t.tag))}function MC(e,t){switch(Pf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(ke),Io(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vr(t),null;case 31:if(t.memoizedState!==null){if(vt(t),t.alternate===null)throw Error(w(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(w(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(be),null;case 4:return Io(),null;case 10:return wn(t.type),null;case 22:case 23:return vt(t),zf(),e!==null&&ze(bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(ke),null;case 25:return null;default:return null}}function rv(e,t){switch(Pf(t),t.tag){case 3:wn(ke),Io();break;case 26:case 27:case 5:vr(t);break;case 4:Io();break;case 31:t.memoizedState!==null&&vt(t);break;case 13:vt(t);break;case 19:ze(be);break;case 10:wn(t.type);break;case 22:case 23:vt(t),zf(),e!==null&&ze(bi);break;case 24:wn(ke)}}function cl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var s=n.create,l=n.inst;i=s(),l.destroy=i}n=n.next}while(n!==o)}}catch(a){le(t,t.return,a)}}function fi(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var s=o.next;i=s;do{if((i.tag&e)===e){var l=i.inst,a=l.destroy;if(a!==void 0){l.destroy=void 0,o=t;var c=n,f=a;try{f()}catch(d){le(o,c,d)}}}i=i.next}while(i!==s)}}catch(d){le(t,t.return,d)}}function av(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{yy(t,n)}catch(i){le(e,e.return,i)}}}function uv(e,t,n){n.props=Pi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){le(e,t,i)}}function Hs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){le(e,t,o)}}function an(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){le(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){le(e,t,o)}else n.current=null}function cv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){le(e,e.return,o)}}function mc(e,t,n){try{var i=e.stateNode;QC(i,e.type,n,t),i[dt]=t}catch(o){le(e,e.return,o)}}function fv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mi(e.type)||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function of(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cn));else if(i!==4&&(i===27&&mi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(of(e,t,n),e=e.sibling;e!==null;)of(e,t,n),e=e.sibling}function Dr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&mi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Dr(e,t,n),e=e.sibling;e!==null;)Dr(e,t,n),e=e.sibling}function dv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Je(t,i,n),t[Fe]=e,t[dt]=n}catch(s){le(e,e.return,s)}}var En=!1,De=!1,gc=!1,$h=typeof WeakSet=="function"?WeakSet:Set,qe=null;function IC(e,t){if(e=e.containerInfo,ff=Br,e=jg(e),If(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,f=0,d=0,p=e,m=null;t:for(;;){for(var h;p!==n||o!==0&&p.nodeType!==3||(a=l+o),p!==s||i!==0&&p.nodeType!==3||(c=l+i),p.nodeType===3&&(l+=p.nodeValue.length),(h=p.firstChild)!==null;)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++f===o&&(a=l),m===s&&++d===i&&(c=l),(h=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(df={focusedElem:e,selectionRange:n},Br=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){switch(t=qe,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,o=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var S=Pi(n.type,o);e=i.getSnapshotBeforeUpdate(S,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(T){le(n,n.return,T)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)mf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(w(163))}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}}function pv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vn(e,n),i&4&&cl(5,n);break;case 1:if(vn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){le(n,n.return,l)}else{var o=Pi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){le(n,n.return,l)}}i&64&&av(n),i&512&&Hs(n,n.return);break;case 3:if(vn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{yy(e,t)}catch(l){le(n,n.return,l)}}break;case 27:t===null&&i&4&&dv(n);case 26:case 5:vn(e,n),t===null&&i&4&&cv(n),i&512&&Hs(n,n.return);break;case 12:vn(e,n);break;case 31:vn(e,n),i&4&&gv(e,n);break;case 13:vn(e,n),i&4&&yv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=VC.bind(null,n),oA(e,n))));break;case 22:if(i=n.memoizedState!==null||En,!i){t=t!==null&&t.memoizedState!==null||De,o=En;var s=De;En=i,(De=t)&&!s?Sn(e,n,(n.subtreeFlags&8772)!==0):vn(e,n),En=o,De=s}break;case 30:break;default:vn(e,n)}}function mv(e){var t=e.alternate;t!==null&&(e.alternate=null,mv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,ut=!1;function yn(e,t,n){for(n=n.child;n!==null;)hv(e,t,n),n=n.sibling}function hv(e,t,n){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 26:De||an(n,t),yn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:De||an(n,t);var i=Ce,o=ut;mi(n.type)&&(Ce=n.stateNode,ut=!1),yn(e,t,n),zs(n.stateNode),Ce=i,ut=o;break;case 5:De||an(n,t);case 6:if(i=Ce,o=ut,Ce=null,yn(e,t,n),Ce=i,ut=o,Ce!==null)if(ut)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(n.stateNode)}catch(s){le(n,t,s)}else try{Ce.removeChild(n.stateNode)}catch(s){le(n,t,s)}break;case 18:Ce!==null&&(ut?(e=Ce,lg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),zo(e)):lg(Ce,n.stateNode));break;case 4:i=Ce,o=ut,Ce=n.stateNode.containerInfo,ut=!0,yn(e,t,n),Ce=i,ut=o;break;case 0:case 11:case 14:case 15:fi(2,n,t),De||fi(4,n,t),yn(e,t,n);break;case 1:De||(an(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&uv(n,t,i)),yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:De=(i=De)||n.memoizedState!==null,yn(e,t,n),De=i;break;default:yn(e,t,n)}}function gv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{zo(e)}catch(n){le(t,t.return,n)}}}function yv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zo(e)}catch(n){le(t,t.return,n)}}function DC(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $h),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $h),t;default:throw Error(w(435,e.tag))}}function Xl(e,t){var n=DC(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=zC.bind(null,e,i);i.then(o,o)}})}function rt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],s=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 27:if(mi(a.type)){Ce=a.stateNode,ut=!1;break e}break;case 5:Ce=a.stateNode,ut=!1;break e;case 3:case 4:Ce=a.stateNode.containerInfo,ut=!0;break e}a=a.return}if(Ce===null)throw Error(w(160));hv(s,l,o),Ce=null,ut=!1,s=o.alternate,s!==null&&(s.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vv(t,e),t=t.sibling}var Ft=null;function vv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rt(t,e),at(e),i&4&&(fi(3,e,e.return),cl(3,e),fi(5,e,e.return));break;case 1:rt(t,e),at(e),i&512&&(De||n===null||an(n,n.return)),i&64&&En&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Ft;if(rt(t,e),at(e),i&512&&(De||n===null||an(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":s=o.getElementsByTagName("title")[0],(!s||s[ll]||s[Fe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=o.createElement(i),o.head.insertBefore(s,o.querySelector("head > title"))),Je(s,i,n),s[Fe]=e,Ve(s),i=s;break e;case"link":var l=pg("link","href",o).get(i+(n.href||""));if(l){for(var a=0;a<l.length;a++)if(s=l[a],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(a,1);break t}}s=o.createElement(i),Je(s,i,n),o.head.appendChild(s);break;case"meta":if(l=pg("meta","content",o).get(i+(n.content||""))){for(a=0;a<l.length;a++)if(s=l[a],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(a,1);break t}}s=o.createElement(i),Je(s,i,n),o.head.appendChild(s);break;default:throw Error(w(468,i))}s[Fe]=e,Ve(s),i=s}e.stateNode=i}else mg(o,e.type,e.stateNode);else e.stateNode=dg(o,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?mg(o,e.type,e.stateNode):dg(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&mc(e,e.memoizedProps,n.memoizedProps)}break;case 27:rt(t,e),at(e),i&512&&(De||n===null||an(n,n.return)),n!==null&&i&4&&mc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(rt(t,e),at(e),i&512&&(De||n===null||an(n,n.return)),e.flags&32){o=e.stateNode;try{ko(o,"")}catch(S){le(e,e.return,S)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,mc(e,o,n!==null?n.memoizedProps:o)),i&1024&&(gc=!0);break;case 6:if(rt(t,e),at(e),i&4){if(e.stateNode===null)throw Error(w(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(S){le(e,e.return,S)}}break;case 3:if(pr=null,o=Ft,Ft=Vr(t.containerInfo),rt(t,e),Ft=o,at(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{zo(t.containerInfo)}catch(S){le(e,e.return,S)}gc&&(gc=!1,Sv(e));break;case 4:i=Ft,Ft=Vr(e.stateNode.containerInfo),rt(t,e),at(e),Ft=i;break;case 12:rt(t,e),at(e);break;case 31:rt(t,e),at(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xl(e,i)));break;case 13:rt(t,e),at(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(na=Et()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xl(e,i)));break;case 22:o=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=En,d=De;if(En=f||o,De=d||c,rt(t,e),De=d,En=f,at(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||c||En||De||wi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(s=c.stateNode,o)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{a=c.stateNode;var p=c.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;a.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(S){le(c,c.return,S)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(S){le(c,c.return,S)}}}else if(t.tag===18){if(n===null){c=t;try{var h=c.stateNode;o?rg(h,!0):rg(c.stateNode,!1)}catch(S){le(c,c.return,S)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xl(e,n))));break;case 19:rt(t,e),at(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xl(e,i)));break;case 30:break;case 21:break;default:rt(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(fv(i)){n=i;break}i=i.return}if(n==null)throw Error(w(160));switch(n.tag){case 27:var o=n.stateNode,s=hc(e);Dr(e,s,o);break;case 5:var l=n.stateNode;n.flags&32&&(ko(l,""),n.flags&=-33);var a=hc(e);Dr(e,a,l);break;case 3:case 4:var c=n.stateNode.containerInfo,f=hc(e);of(e,f,c);break;default:throw Error(w(161))}}catch(d){le(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pv(e,t.alternate,t),t=t.sibling}function wi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:fi(4,t,t.return),wi(t);break;case 1:an(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&uv(t,t.return,n),wi(t);break;case 27:zs(t.stateNode);case 26:case 5:an(t,t.return),wi(t);break;case 22:t.memoizedState===null&&wi(t);break;case 30:wi(t);break;default:wi(t)}e=e.sibling}}function Sn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:Sn(o,s,n),cl(4,s);break;case 1:if(Sn(o,s,n),i=s,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){le(i,i.return,f)}if(i=s,o=i.updateQueue,o!==null){var a=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)gy(c[o],a)}catch(f){le(i,i.return,f)}}n&&l&64&&av(s),Hs(s,s.return);break;case 27:dv(s);case 26:case 5:Sn(o,s,n),n&&i===null&&l&4&&cv(s),Hs(s,s.return);break;case 12:Sn(o,s,n);break;case 31:Sn(o,s,n),n&&l&4&&gv(o,s);break;case 13:Sn(o,s,n),n&&l&4&&yv(o,s);break;case 22:s.memoizedState===null&&Sn(o,s,n),Hs(s,s.return);break;case 30:break;default:Sn(o,s,n)}t=t.sibling}}function id(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&al(n))}function od(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e))}function Bt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Tv(e,t,n,i),t=t.sibling}function Tv(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Bt(e,t,n,i),o&2048&&cl(9,t);break;case 1:Bt(e,t,n,i);break;case 3:Bt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e)));break;case 12:if(o&2048){Bt(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,a=s.onPostCommit;typeof a=="function"&&a(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){le(t,t.return,c)}}else Bt(e,t,n,i);break;case 31:Bt(e,t,n,i);break;case 13:Bt(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?Bt(e,t,n,i):Gs(e,t):s._visibility&2?Bt(e,t,n,i):(s._visibility|=2,uo(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&id(l,t);break;case 24:Bt(e,t,n,i),o&2048&&od(t.alternate,t);break;default:Bt(e,t,n,i)}}function uo(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,l=t,a=n,c=i,f=l.flags;switch(l.tag){case 0:case 11:case 15:uo(s,l,a,c,o),cl(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?uo(s,l,a,c,o):Gs(s,l):(d._visibility|=2,uo(s,l,a,c,o)),o&&f&2048&&id(l.alternate,l);break;case 24:uo(s,l,a,c,o),o&&f&2048&&od(l.alternate,l);break;default:uo(s,l,a,c,o)}t=t.sibling}}function Gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Gs(n,i),o&2048&&id(i.alternate,i);break;case 24:Gs(n,i),o&2048&&od(i.alternate,i);break;default:Gs(n,i)}t=t.sibling}}var Ns=8192;function ao(e,t,n){if(e.subtreeFlags&Ns)for(e=e.child;e!==null;)Ev(e,t,n),e=e.sibling}function Ev(e,t,n){switch(e.tag){case 26:ao(e,t,n),e.flags&Ns&&e.memoizedState!==null&&gA(n,Ft,e.memoizedState,e.memoizedProps);break;case 5:ao(e,t,n);break;case 3:case 4:var i=Ft;Ft=Vr(e.stateNode.containerInfo),ao(e,t,n),Ft=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ns,Ns=16777216,ao(e,t,n),Ns=i):ao(e,t,n));break;default:ao(e,t,n)}}function _v(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];qe=i,Av(i,e)}_v(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cv(e),e=e.sibling}function Cv(e){switch(e.tag){case 0:case 11:case 15:Es(e),e.flags&2048&&fi(9,e,e.return);break;case 3:Es(e);break;case 12:Es(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fr(e)):Es(e);break;default:Es(e)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];qe=i,Av(i,e)}_v(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:fi(8,t,t.return),fr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,fr(t));break;default:fr(t)}e=e.sibling}}function Av(e,t){for(;qe!==null;){var n=qe;switch(n.tag){case 0:case 11:case 15:fi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:al(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,qe=i;else e:for(n=e;qe!==null;){i=qe;var o=i.sibling,s=i.return;if(mv(i),i===n){qe=null;break e}if(o!==null){o.return=s,qe=o;break e}qe=s}}}var kC={getCacheForType:function(e){var t=Ye(ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ye(ke).controller.signal}},UC=typeof WeakMap=="function"?WeakMap:Map,te=0,pe=null,Y=null,J=0,se=0,yt=null,Zn=!1,Yo=!1,sd=!1,Dn=0,Re=0,di=0,Ii=0,ld=0,Tt=0,Ho=0,qs=null,ct=null,sf=!1,na=0,xv=0,kr=1/0,Ur=null,oi=null,He=0,si=null,Go=null,Rn=0,lf=0,rf=null,wv=null,Vs=0,af=null;function At(){return(te&2)!==0&&J!==0?J&-J:L.T!==null?ad():Lg()}function Rv(){if(Tt===0)if((J&536870912)===0||X){var e=ql;ql<<=1,(ql&3932160)===0&&(ql=262144),Tt=e}else Tt=536870912;return e=wt.current,e!==null&&(e.flags|=32),Tt}function ft(e,t,n){(e===pe&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(qo(e,0),Wn(e,J,Tt,!1)),sl(e,n),((te&2)===0||e!==pe)&&(e===pe&&((te&2)===0&&(Ii|=n),Re===4&&Wn(e,J,Tt,!1)),fn(e))}function Nv(e,t,n){if((te&6)!==0)throw Error(w(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ol(e,t),o=i?HC(e,t):yc(e,t,!0),s=i;do{if(o===0){Yo&&!i&&Wn(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!LC(n)){o=yc(e,t,!1),s=!1;continue}if(o===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var a=e;o=qs;var c=a.current.memoizedState.isDehydrated;if(c&&(qo(a,l).flags|=256),l=yc(a,l,!1),l!==2){if(sd&&!c){a.errorRecoveryDisabledLanes|=s,Ii|=s,o=4;break e}s=ct,ct=o,s!==null&&(ct===null?ct=s:ct.push.apply(ct,s))}o=l}if(s=!1,o!==2)continue}}if(o===1){qo(e,0),Wn(e,t,0,!0);break}e:{switch(i=e,s=o,s){case 0:case 1:throw Error(w(345));case 4:if((t&4194048)!==t)break;case 6:Wn(i,t,Tt,!Zn);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(w(329))}if((t&62914560)===t&&(o=na+300-Et(),10<o)){if(Wn(i,t,Tt,!Zn),$r(i,0,!0)!==0)break e;Rn=t,i.timeoutHandle=Kv(Yh.bind(null,i,n,ct,Ur,sf,t,Tt,Ii,Ho,Zn,s,"Throttled",-0,0),o);break e}Yh(i,n,ct,Ur,sf,t,Tt,Ii,Ho,Zn,s,null,-0,0)}}break}while(1);fn(e)}function Yh(e,t,n,i,o,s,l,a,c,f,d,p,m,h){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},Ev(t,s,p);var S=(s&62914560)===s?na-Et():(s&4194048)===s?xv-Et():0;if(S=yA(p,S),S!==null){Rn=s,e.cancelPendingCommit=S(Kh.bind(null,e,t,s,n,i,o,l,a,c,d,p,null,m,h)),Wn(e,s,l,!f);return}}Kh(e,t,s,n,i,o,l,a,c)}function LC(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!xt(s(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,n,i){t&=~ld,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var s=31-Ct(o),l=1<<s;i[s]=-1,o&=~l}n!==0&&Dg(e,n,t)}function ia(){return(te&6)===0?(fl(0,!1),!1):!0}function rd(){if(Y!==null){if(se===0)var e=Y.return;else e=Y,An=zi=null,Yf(e),No=null,Ks=0,e=Y;for(;e!==null;)rv(e.alternate,e),e=e.return;Y=null}}function qo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jC(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rn=0,rd(),pe=e,Y=n=xn(e.current,null),J=t,se=0,yt=null,Zn=!1,Yo=ol(e,t),sd=!1,Ho=Tt=ld=Ii=di=Re=0,ct=qs=null,sf=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Ct(i),s=1<<o;t|=e[o],i&=~s}return Dn=t,Xr(),n}function bv(e,t){V=null,L.H=Qs,t===$o||t===Zr?(t=Ah(),se=3):t===qf?(t=Ah(),se=4):se=t===td?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,yt=t,Y===null&&(Re=1,Mr(e,Ht(t,e.current)))}function Mv(){var e=wt.current;return e===null?!0:(J&4194048)===J?qt===null:(J&62914560)===J||(J&536870912)!==0?e===qt:!1}function Iv(){var e=L.H;return L.H=Qs,e===null?Qs:e}function Dv(){var e=L.A;return L.A=kC,e}function Lr(){Re=4,Zn||(J&4194048)!==J&&wt.current!==null||(Yo=!0),(di&134217727)===0&&(Ii&134217727)===0||pe===null||Wn(pe,J,Tt,!1)}function yc(e,t,n){var i=te;te|=2;var o=Iv(),s=Dv();(pe!==e||J!==t)&&(Ur=null,qo(e,t)),t=!1;var l=Re;e:do try{if(se!==0&&Y!==null){var a=Y,c=yt;switch(se){case 8:rd(),l=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(t=!0);var f=se;if(se=0,yt=null,Co(e,a,c,f),n&&Yo){l=0;break e}break;default:f=se,se=0,yt=null,Co(e,a,c,f)}}PC(),l=Re;break}catch(d){bv(e,d)}while(1);return t&&e.shellSuspendCounter++,An=zi=null,te=i,L.H=o,L.A=s,Y===null&&(pe=null,J=0,Xr()),l}function PC(){for(;Y!==null;)kv(Y)}function HC(e,t){var n=te;te|=2;var i=Iv(),o=Dv();pe!==e||J!==t?(Ur=null,kr=Et()+500,qo(e,t)):Yo=ol(e,t);e:do try{if(se!==0&&Y!==null){t=Y;var s=yt;t:switch(se){case 1:se=0,yt=null,Co(e,t,s,1);break;case 2:case 9:if(Ch(s)){se=0,yt=null,Jh(t);break}t=function(){se!==2&&se!==9||pe!==e||(se=7),fn(e)},s.then(t,t);break e;case 3:se=7;break e;case 4:se=5;break e;case 7:Ch(s)?(se=0,yt=null,Jh(t)):(se=0,yt=null,Co(e,t,s,7));break;case 5:var l=null;switch(Y.tag){case 26:l=Y.memoizedState;case 5:case 27:var a=Y;if(l?jv(l):a.stateNode.complete){se=0,yt=null;var c=a.sibling;if(c!==null)Y=c;else{var f=a.return;f!==null?(Y=f,oa(f)):Y=null}break t}}se=0,yt=null,Co(e,t,s,5);break;case 6:se=0,yt=null,Co(e,t,s,6);break;case 8:rd(),Re=6;break e;default:throw Error(w(462))}}GC();break}catch(d){bv(e,d)}while(1);return An=zi=null,L.H=i,L.A=o,te=n,Y!==null?0:(pe=null,J=0,Xr(),Re)}function GC(){for(;Y!==null&&!r_();)kv(Y)}function kv(e){var t=lv(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?oa(e):Y=t}function Jh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vh(n,t,t.pendingProps,t.type,void 0,J);break;case 11:t=Vh(n,t,t.pendingProps,t.type.render,t.ref,J);break;case 5:Yf(t);default:rv(n,t),t=Y=ry(t,Dn),t=lv(n,t,Dn)}e.memoizedProps=e.pendingProps,t===null?oa(e):Y=t}function Co(e,t,n,i){An=zi=null,Yf(t),No=null,Ks=0;var o=t.return;try{if(wC(e,o,t,n,J)){Re=1,Mr(e,Ht(n,e.current)),Y=null;return}}catch(s){if(o!==null)throw Y=o,s;Re=1,Mr(e,Ht(n,e.current)),Y=null;return}t.flags&32768?(X||i===1?e=!0:Yo||(J&536870912)!==0?e=!1:(Zn=e=!0,(i===2||i===9||i===3||i===6)&&(i=wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Uv(t,e)):oa(t)}function oa(e){var t=e;do{if((t.flags&32768)!==0){Uv(t,Zn);return}e=t.return;var n=bC(t.alternate,t,Dn);if(n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);Re===0&&(Re=5)}function Uv(e,t){do{var n=MC(e.alternate,e);if(n!==null){n.flags&=32767,Y=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Y=e;return}Y=e=n}while(e!==null);Re=6,Y=null}function Kh(e,t,n,i,o,s,l,a,c){e.cancelPendingCommit=null;do sa();while(He!==0);if((te&6)!==0)throw Error(w(327));if(t!==null){if(t===e.current)throw Error(w(177));if(s=t.lanes|t.childLanes,s|=Df,y_(e,n,s,l,a,c),e===pe&&(Y=pe=null,J=0),Go=t,si=e,Rn=n,lf=s,rf=o,wv=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,OC(Sr,function(){return qv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=L.T,L.T=null,o=ne.p,ne.p=2,l=te,te|=4;try{IC(e,t,n)}finally{te=l,ne.p=o,L.T=i}}He=1,Lv(),Pv(),Hv()}}function Lv(){if(He===1){He=0;var e=si,t=Go,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var i=ne.p;ne.p=2;var o=te;te|=4;try{vv(t,e);var s=df,l=jg(e.containerInfo),a=s.focusedElem,c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&Wg(a.ownerDocument.documentElement,a)){if(c!==null&&If(a)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in a)a.selectionStart=f,a.selectionEnd=Math.min(d,a.value.length);else{var p=a.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var h=m.getSelection(),S=a.textContent.length,T=Math.min(c.start,S),_=c.end===void 0?T:Math.min(c.end,S);!h.extend&&T>_&&(l=_,_=T,T=l);var g=gh(a,T),y=gh(a,_);if(g&&y&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var v=p.createRange();v.setStart(g.node,g.offset),h.removeAllRanges(),T>_?(h.addRange(v),h.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),h.addRange(v))}}}}for(p=[],h=a;h=h.parentNode;)h.nodeType===1&&p.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<p.length;a++){var E=p[a];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Br=!!ff,df=ff=null}finally{te=o,ne.p=i,L.T=n}}e.current=t,He=2}}function Pv(){if(He===2){He=0;var e=si,t=Go,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var i=ne.p;ne.p=2;var o=te;te|=4;try{pv(e,t.alternate,t)}finally{te=o,ne.p=i,L.T=n}}He=3}}function Hv(){if(He===4||He===3){He=0,a_();var e=si,t=Go,n=Rn,i=wv;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?He=5:(He=0,Go=si=null,Gv(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(oi=null),Af(n),t=t.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(il,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=L.T,o=ne.p,ne.p=2,L.T=null;try{for(var s=e.onRecoverableError,l=0;l<i.length;l++){var a=i[l];s(a.value,{componentStack:a.stack})}}finally{L.T=t,ne.p=o}}(Rn&3)!==0&&sa(),fn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===af?Vs++:(Vs=0,af=e):Vs=0,fl(0,!1)}}function Gv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,al(t)))}function sa(){return Lv(),Pv(),Hv(),qv()}function qv(){if(He!==5)return!1;var e=si,t=lf;lf=0;var n=Af(Rn),i=L.T,o=ne.p;try{ne.p=32>n?32:n,L.T=null,n=rf,rf=null;var s=si,l=Rn;if(He=0,Go=si=null,Rn=0,(te&6)!==0)throw Error(w(331));var a=te;if(te|=4,Cv(s.current),Tv(s,s.current,l,n),te=a,fl(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(il,s)}catch{}return!0}finally{ne.p=o,L.T=i,Gv(e,t)}}function Xh(e,t,n){t=Ht(n,t),t=ef(e.stateNode,t,2),e=ii(e,t,2),e!==null&&(sl(e,2),fn(e))}function le(e,t,n){if(e.tag===3)Xh(e,e,n);else for(;t!==null;){if(t.tag===3){Xh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(oi===null||!oi.has(i))){e=Ht(n,e),n=ev(2),i=ii(t,n,2),i!==null&&(tv(n,i,t,e),sl(i,2),fn(i));break}}t=t.return}}function vc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new UC;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(sd=!0,o.add(n),e=qC.bind(null,e,t,n),t.then(e,e))}function qC(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pe===e&&(J&n)===n&&(Re===4||Re===3&&(J&62914560)===J&&300>Et()-na?(te&2)===0&&qo(e,0):ld|=n,Ho===J&&(Ho=0)),fn(e)}function Vv(e,t){t===0&&(t=Ig()),e=Vi(e,t),e!==null&&(sl(e,t),fn(e))}function VC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vv(e,n)}function zC(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(w(314))}i!==null&&i.delete(t),Vv(e,n)}function OC(e,t){return _f(e,t)}var Pr=null,co=null,uf=!1,Hr=!1,Sc=!1,jn=0;function fn(e){e!==co&&e.next===null&&(co===null?Pr=co=e:co=co.next=e),Hr=!0,uf||(uf=!0,FC())}function fl(e,t){if(!Sc&&Hr){Sc=!0;do for(var n=!1,i=Pr;i!==null;){if(!t)if(e!==0){var o=i.pendingLanes;if(o===0)var s=0;else{var l=i.suspendedLanes,a=i.pingedLanes;s=(1<<31-Ct(42|e)+1)-1,s&=o&~(l&~a),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Qh(i,s))}else s=J,s=$r(i,i===pe?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(s&3)===0||ol(i,s)||(n=!0,Qh(i,s));i=i.next}while(n);Sc=!1}}function BC(){zv()}function zv(){Hr=uf=!1;var e=0;jn!==0&&WC()&&(e=jn);for(var t=Et(),n=null,i=Pr;i!==null;){var o=i.next,s=Ov(i,t);s===0?(i.next=null,n===null?Pr=o:n.next=o,o===null&&(co=n)):(n=i,(e!==0||(s&3)!==0)&&(Hr=!0)),i=o}He!==0&&He!==5||fl(e,!1),jn!==0&&(jn=0)}function Ov(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-Ct(s),a=1<<l,c=o[l];c===-1?((a&n)===0||(a&i)!==0)&&(o[l]=g_(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}if(t=pe,n=J,n=$r(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(se===2||se===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ku(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ol(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ku(i),Af(n)){case 2:case 8:n=bg;break;case 32:n=Sr;break;case 268435456:n=Mg;break;default:n=Sr}return i=Bv.bind(null,e),n=_f(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ku(i),e.callbackPriority=2,e.callbackNode=null,2}function Bv(e,t){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sa()&&e.callbackNode!==n)return null;var i=J;return i=$r(e,e===pe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Nv(e,i,t),Ov(e,Et()),e.callbackNode!=null&&e.callbackNode===n?Bv.bind(null,e):null)}function Qh(e,t){if(sa())return null;Nv(e,t,!0)}function FC(){eA(function(){(te&6)!==0?_f(Ng,BC):zv()})}function ad(){if(jn===0){var e=Uo;e===0&&(e=Gl,Gl<<=1,(Gl&261888)===0&&(Gl=256)),jn=e}return jn}function Zh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:nr(""+e)}function Wh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function $C(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var s=Zh((o[dt]||null).action),l=i.submitter;l&&(t=(t=l[dt]||null)?Zh(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var a=new Yr("action","action",null,i,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(jn!==0){var c=l?Wh(o,l):new FormData(o);Wc(n,{pending:!0,data:c,method:o.method,action:s},null,c)}}else typeof s=="function"&&(a.preventDefault(),c=l?Wh(o,l):new FormData(o),Wc(n,{pending:!0,data:c,method:o.method,action:s},s,c))},currentTarget:o}]})}}for(Ql=0;Ql<Vc.length;Ql++)Zl=Vc[Ql],jh=Zl.toLowerCase(),eg=Zl[0].toUpperCase()+Zl.slice(1),$t(jh,"on"+eg);var Zl,jh,eg,Ql;$t(ty,"onAnimationEnd");$t(ny,"onAnimationIteration");$t(iy,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(uC,"onTransitionRun");$t(cC,"onTransitionStart");$t(fC,"onTransitionCancel");$t(oy,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zs));function Fv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var l=i.length-1;0<=l;l--){var a=i[l],c=a.instance,f=a.currentTarget;if(a=a.listener,c!==s&&o.isPropagationStopped())break e;s=a,o.currentTarget=f;try{s(o)}catch(d){Er(d)}o.currentTarget=null,s=c}else for(l=0;l<i.length;l++){if(a=i[l],c=a.instance,f=a.currentTarget,a=a.listener,c!==s&&o.isPropagationStopped())break e;s=a,o.currentTarget=f;try{s(o)}catch(d){Er(d)}o.currentTarget=null,s=c}}}}function $(e,t){var n=t[Dc];n===void 0&&(n=t[Dc]=new Set);var i=e+"__bubble";n.has(i)||($v(t,e,2,!1),n.add(i))}function Tc(e,t,n){var i=0;t&&(i|=4),$v(n,e,i,t)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[Wl]){e[Wl]=!0,Pg.forEach(function(n){n!=="selectionchange"&&(YC.has(n)||Tc(n,!1,e),Tc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wl]||(t[Wl]=!0,Tc("selectionchange",!1,t))}}function $v(e,t,n,i){switch(o0(t)){case 2:var o=TA;break;case 8:o=EA;break;default:o=pd}n=o.bind(null,t,n,e),o=void 0,!Hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ec(e,t,n,i,o){var s=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var a=i.stateNode.containerInfo;if(a===o)break;if(l===4)for(l=i.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===o)return;l=l.return}for(;a!==null;){if(l=mo(a),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){i=s=l;continue e}a=a.parentNode}}i=i.return}Fg(function(){var f=s,d=Rf(n),p=[];e:{var m=sy.get(e);if(m!==void 0){var h=Yr,S=e;switch(e){case"keypress":if(or(n)===0)break e;case"keydown":case"keyup":h=z_;break;case"focusin":S="focus",h=ju;break;case"focusout":S="blur",h=ju;break;case"beforeblur":case"afterblur":h=ju;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=b_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=F_;break;case ty:case ny:case iy:h=D_;break;case oy:h=Y_;break;case"scroll":case"scrollend":h=R_;break;case"wheel":h=K_;break;case"copy":case"cut":case"paste":h=U_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=uh;break;case"toggle":case"beforetoggle":h=Q_}var T=(t&4)!==0,_=!T&&(e==="scroll"||e==="scrollend"),g=T?m!==null?m+"Capture":null:m;T=[];for(var y=f,v;y!==null;){var E=y;if(v=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||v===null||g===null||(E=Bs(y,g),E!=null&&T.push(Ws(y,E,v))),_)break;y=y.return}0<T.length&&(m=new h(m,S,null,n,d),p.push({event:m,listeners:T}))}}if((t&7)===0){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==Pc&&(S=n.relatedTarget||n.fromElement)&&(mo(S)||S[Oo]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(S=n.relatedTarget||n.toElement,h=f,S=S?mo(S):null,S!==null&&(_=nl(S),T=S.tag,S!==_||T!==5&&T!==27&&T!==6)&&(S=null)):(h=null,S=f),h!==S)){if(T=rh,E="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=uh,E="onPointerLeave",g="onPointerEnter",y="pointer"),_=h==null?m:ws(h),v=S==null?m:ws(S),m=new T(E,y+"leave",h,n,d),m.target=_,m.relatedTarget=v,E=null,mo(d)===f&&(T=new T(g,y+"enter",S,n,d),T.target=v,T.relatedTarget=_,E=T),_=E,h&&S)t:{for(T=JC,g=h,y=S,v=0,E=g;E;E=T(E))v++;E=0;for(var A=y;A;A=T(A))E++;for(;0<v-E;)g=T(g),v--;for(;0<E-v;)y=T(y),E--;for(;v--;){if(g===y||y!==null&&g===y.alternate){T=g;break t}g=T(g),y=T(y)}T=null}else T=null;h!==null&&tg(p,m,h,T,!1),S!==null&&_!==null&&tg(p,_,S,T,!0)}}e:{if(m=f?ws(f):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=ph;else if(dh(m))if(Qg)N=lC;else{N=oC;var x=iC}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?f&&wf(f.elementType)&&(N=ph):N=sC;if(N&&(N=N(e,f))){Xg(p,N,n,d);break e}x&&x(e,m,f),e==="focusout"&&f&&m.type==="number"&&f.memoizedProps.value!=null&&Lc(m,"number",m.value)}switch(x=f?ws(f):window,e){case"focusin":(dh(x)||x.contentEditable==="true")&&(yo=x,Gc=f,Is=null);break;case"focusout":Is=Gc=yo=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,yh(p,n,d);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":yh(p,n,d)}var I;if(Mf)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else go?Jg(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Yg&&n.locale!=="ko"&&(go||C!=="onCompositionStart"?C==="onCompositionEnd"&&go&&(I=$g()):(Qn=d,Nf="value"in Qn?Qn.value:Qn.textContent,go=!0)),x=Gr(f,C),0<x.length&&(C=new ah(C,e,null,n,d),p.push({event:C,listeners:x}),I?C.data=I:(I=Kg(n),I!==null&&(C.data=I)))),(I=W_?j_(e,n):eC(e,n))&&(C=Gr(f,"onBeforeInput"),0<C.length&&(x=new ah("onBeforeInput","beforeinput",null,n,d),p.push({event:x,listeners:C}),x.data=I)),$C(p,e,f,n,d)}Fv(p,t)})}function Ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,s=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||s===null||(o=Bs(e,n),o!=null&&i.unshift(Ws(e,o,s)),o=Bs(e,t),o!=null&&i.push(Ws(e,o,s))),e.tag===3)return i;e=e.return}return[]}function JC(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tg(e,t,n,i,o){for(var s=t._reactName,l=[];n!==null&&n!==i;){var a=n,c=a.alternate,f=a.stateNode;if(a=a.tag,c!==null&&c===i)break;a!==5&&a!==26&&a!==27||f===null||(c=f,o?(f=Bs(n,s),f!=null&&l.unshift(Ws(n,f,c))):o||(f=Bs(n,s),f!=null&&l.push(Ws(n,f,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var KC=/\r\n?/g,XC=/\u0000|\uFFFD/g;function ng(e){return(typeof e=="string"?e:""+e).replace(KC,`
`).replace(XC,"")}function Yv(e,t){return t=ng(t),ng(e)===t}function ce(e,t,n,i,o,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ko(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ko(e,""+i);break;case"className":zl(e,"class",i);break;case"tabIndex":zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":zl(e,n,i);break;case"style":Bg(e,i,s);break;case"data":if(t!=="object"){zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=nr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&ce(e,t,"name",o.name,o,null),ce(e,t,"formEncType",o.formEncType,o,null),ce(e,t,"formMethod",o.formMethod,o,null),ce(e,t,"formTarget",o.formTarget,o,null)):(ce(e,t,"encType",o.encType,o,null),ce(e,t,"method",o.method,o,null),ce(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=nr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Cn);break;case"onScroll":i!=null&&$("scroll",e);break;case"onScrollEnd":i!=null&&$("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(w(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(w(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=nr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":$("beforetoggle",e),$("toggle",e),tr(e,"popover",i);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=x_.get(n)||n,tr(e,n,i))}}function cf(e,t,n,i,o,s){switch(n){case"style":Bg(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(w(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(w(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ko(e,i):(typeof i=="number"||typeof i=="bigint")&&ko(e,""+i);break;case"onScroll":i!=null&&$("scroll",e);break;case"onScrollEnd":i!=null&&$("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),s=e[dt]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,o),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):tr(e,n,i)}}}function Je(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",e),$("load",e);var i=!1,o=!1,s;for(s in n)if(n.hasOwnProperty(s)){var l=n[s];if(l!=null)switch(s){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:ce(e,t,s,l,n,null)}}o&&ce(e,t,"srcSet",n.srcSet,n,null),i&&ce(e,t,"src",n.src,n,null);return;case"input":$("invalid",e);var a=s=l=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":s=d;break;case"defaultValue":a=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(w(137,t));break;default:ce(e,t,i,d,n,null)}}Vg(e,s,a,c,f,l,o,!1);return;case"select":$("invalid",e),i=l=s=null;for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"value":s=a;break;case"defaultValue":l=a;break;case"multiple":i=a;default:ce(e,t,o,a,n,null)}t=s,n=l,e.multiple=!!i,t!=null?xo(e,!!i,t,!1):n!=null&&xo(e,!!i,n,!0);return;case"textarea":$("invalid",e),s=o=i=null;for(l in n)if(n.hasOwnProperty(l)&&(a=n[l],a!=null))switch(l){case"value":i=a;break;case"defaultValue":o=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(w(91));break;default:ce(e,t,l,a,n,null)}Og(e,i,o,s);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ce(e,t,c,i,n,null)}return;case"dialog":$("beforetoggle",e),$("toggle",e),$("cancel",e),$("close",e);break;case"iframe":case"object":$("load",e);break;case"video":case"audio":for(i=0;i<Zs.length;i++)$(Zs[i],e);break;case"image":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"embed":case"source":case"link":$("error",e),$("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(w(137,t));default:ce(e,t,f,i,n,null)}return;default:if(wf(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&cf(e,t,d,i,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(i=n[a],i!=null&&ce(e,t,a,i,n,null))}function QC(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,s=null,l=null,a=null,c=null,f=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&p!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=p;default:i.hasOwnProperty(h)||ce(e,t,h,null,i,p)}}for(var m in i){var h=i[m];if(p=n[m],i.hasOwnProperty(m)&&(h!=null||p!=null))switch(m){case"type":s=h;break;case"name":o=h;break;case"checked":f=h;break;case"defaultChecked":d=h;break;case"value":l=h;break;case"defaultValue":a=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(w(137,t));break;default:h!==p&&ce(e,t,m,h,i,p)}}Uc(e,l,a,c,f,d,s,o);return;case"select":h=l=a=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":h=c;default:i.hasOwnProperty(s)||ce(e,t,s,null,i,c)}for(o in i)if(s=i[o],c=n[o],i.hasOwnProperty(o)&&(s!=null||c!=null))switch(o){case"value":m=s;break;case"defaultValue":a=s;break;case"multiple":l=s;default:s!==c&&ce(e,t,o,s,i,c)}t=a,n=l,i=h,m!=null?xo(e,!!n,m,!1):!!i!=!!n&&(t!=null?xo(e,!!n,t,!0):xo(e,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null&&!i.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:ce(e,t,a,null,i,o)}for(l in i)if(o=i[l],s=n[l],i.hasOwnProperty(l)&&(o!=null||s!=null))switch(l){case"value":m=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(w(91));break;default:o!==s&&ce(e,t,l,o,i,s)}zg(e,m,h);return;case"option":for(var S in n)if(m=n[S],n.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:ce(e,t,S,null,i,m)}for(c in i)if(m=i[c],h=n[c],i.hasOwnProperty(c)&&m!==h&&(m!=null||h!=null))switch(c){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ce(e,t,c,m,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T)&&ce(e,t,T,null,i,m);for(f in i)if(m=i[f],h=n[f],i.hasOwnProperty(f)&&m!==h&&(m!=null||h!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(w(137,t));break;default:ce(e,t,f,m,i,h)}return;default:if(wf(t)){for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!==void 0&&!i.hasOwnProperty(_)&&cf(e,t,_,void 0,i,m);for(d in i)m=i[d],h=n[d],!i.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||cf(e,t,d,m,i,h);return}}for(var g in n)m=n[g],n.hasOwnProperty(g)&&m!=null&&!i.hasOwnProperty(g)&&ce(e,t,g,null,i,m);for(p in i)m=i[p],h=n[p],!i.hasOwnProperty(p)||m===h||m==null&&h==null||ce(e,t,p,m,i,h)}function ig(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZC(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],s=o.transferSize,l=o.initiatorType,a=o.duration;if(s&&a&&ig(l)){for(l=0,a=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>a)break;var d=c.transferSize,p=c.initiatorType;d&&ig(p)&&(c=c.responseEnd,l+=d*(c<a?1:(a-f)/(c-f)))}if(--i,t+=8*(s+l)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ff=null,df=null;function qr(e){return e.nodeType===9?e:e.ownerDocument}function og(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=null;function WC(){var e=window.event;return e&&e.type==="popstate"?e===_c?!1:(_c=e,!0):(_c=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,sg=typeof Promise=="function"?Promise:void 0,eA=typeof queueMicrotask=="function"?queueMicrotask:typeof sg<"u"?function(e){return sg.resolve(null).then(e).catch(tA)}:Kv;function tA(e){setTimeout(function(){throw e})}function mi(e){return e==="head"}function lg(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),zo(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")zs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,zs(n);for(var s=n.firstChild;s;){var l=s.nextSibling,a=s.nodeName;s[ll]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}else n==="body"&&zs(e.ownerDocument.body);n=o}while(n);zo(t)}function rg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function mf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mf(n),xf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function nA(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function iA(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function Xv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function hf(e){return e.data==="$?"||e.data==="$~"}function gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oA(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yf=null;function ag(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ug(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Qv(e,t,n){switch(t=qr(n),e){case"html":if(e=t.documentElement,!e)throw Error(w(452));return e;case"head":if(e=t.head,!e)throw Error(w(453));return e;case"body":if(e=t.body,!e)throw Error(w(454));return e;default:throw Error(w(451))}}function zs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xf(e)}var zt=new Map,cg=new Set;function Vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var kn=ne.d;ne.d={f:sA,r:lA,D:rA,C:aA,L:uA,m:cA,X:dA,S:fA,M:pA};function sA(){var e=kn.f(),t=ia();return e||t}function lA(e){var t=Bo(e);t!==null&&t.tag===5&&t.type==="form"?By(t):kn.r(e)}var Jo=typeof document>"u"?null:document;function Zv(e,t,n){var i=Jo;if(i&&typeof t=="string"&&t){var o=Pt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),cg.has(o)||(cg.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),Je(t,"link",e),Ve(t),i.head.appendChild(t)))}}function rA(e){kn.D(e),Zv("dns-prefetch",e,null)}function aA(e,t){kn.C(e,t),Zv("preconnect",e,t)}function uA(e,t,n){kn.L(e,t,n);var i=Jo;if(i&&e&&t){var o='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Pt(n.imageSizes)+'"]')):o+='[href="'+Pt(e)+'"]';var s=o;switch(t){case"style":s=Vo(e);break;case"script":s=Ko(e)}zt.has(s)||(e=Te({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),zt.set(s,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(dl(s))||t==="script"&&i.querySelector(pl(s))||(t=i.createElement("link"),Je(t,"link",e),Ve(t),i.head.appendChild(t)))}}function cA(e,t){kn.m(e,t);var n=Jo;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Pt(i)+'"][href="'+Pt(e)+'"]',s=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Ko(e)}if(!zt.has(s)&&(e=Te({rel:"modulepreload",href:e},t),zt.set(s,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pl(s)))return}i=n.createElement("link"),Je(i,"link",e),Ve(i),n.head.appendChild(i)}}}function fA(e,t,n){kn.S(e,t,n);var i=Jo;if(i&&e){var o=Ao(i).hoistableStyles,s=Vo(e);t=t||"default";var l=o.get(s);if(!l){var a={loading:0,preload:null};if(l=i.querySelector(dl(s)))a.loading=5;else{e=Te({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zt.get(s))&&cd(e,n);var c=l=i.createElement("link");Ve(c),Je(c,"link",e),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){a.loading|=1}),c.addEventListener("error",function(){a.loading|=2}),a.loading|=4,dr(l,t,i)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(s,l)}}}function dA(e,t){kn.X(e,t);var n=Jo;if(n&&e){var i=Ao(n).hoistableScripts,o=Ko(e),s=i.get(o);s||(s=n.querySelector(pl(o)),s||(e=Te({src:e,async:!0},t),(t=zt.get(o))&&fd(e,t),s=n.createElement("script"),Ve(s),Je(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function pA(e,t){kn.M(e,t);var n=Jo;if(n&&e){var i=Ao(n).hoistableScripts,o=Ko(e),s=i.get(o);s||(s=n.querySelector(pl(o)),s||(e=Te({src:e,async:!0,type:"module"},t),(t=zt.get(o))&&fd(e,t),s=n.createElement("script"),Ve(s),Je(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(o,s))}}function fg(e,t,n,i){var o=(o=ei.current)?Vr(o):null;if(!o)throw Error(w(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Vo(n.href),n=Ao(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Vo(n.href);var s=Ao(o).hoistableStyles,l=s.get(e);if(l||(o=o.ownerDocument||o,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=o.querySelector(dl(e)))&&!s._p&&(l.instance=s,l.state.loading=5),zt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zt.set(e,n),s||mA(o,e,n,l.state))),t&&i===null)throw Error(w(528,""));return l}if(t&&i!==null)throw Error(w(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ko(n),n=Ao(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(w(444,e))}}function Vo(e){return'href="'+Pt(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function Wv(e){return Te({},e,{"data-precedence":e.precedence,precedence:null})}function mA(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Je(t,"link",n),Ve(t),e.head.appendChild(t))}function Ko(e){return'[src="'+Pt(e)+'"]'}function pl(e){return"script[async]"+e}function dg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Pt(n.href)+'"]');if(i)return t.instance=i,Ve(i),i;var o=Te({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ve(i),Je(i,"style",o),dr(i,n.precedence,e),t.instance=i;case"stylesheet":o=Vo(n.href);var s=e.querySelector(dl(o));if(s)return t.state.loading|=4,t.instance=s,Ve(s),s;i=Wv(n),(o=zt.get(o))&&cd(i,o),s=(e.ownerDocument||e).createElement("link"),Ve(s);var l=s;return l._p=new Promise(function(a,c){l.onload=a,l.onerror=c}),Je(s,"link",i),t.state.loading|=4,dr(s,n.precedence,e),t.instance=s;case"script":return s=Ko(n.src),(o=e.querySelector(pl(s)))?(t.instance=o,Ve(o),o):(i=n,(o=zt.get(s))&&(i=Te({},n),fd(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ve(o),Je(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(w(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,dr(i,n.precedence,e));return t.instance}function dr(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,s=o,l=0;l<i.length;l++){var a=i[l];if(a.dataset.precedence===t)s=a;else if(s!==o)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function cd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pr=null;function pg(e,t,n){if(pr===null){var i=new Map,o=pr=new Map;o.set(n,i)}else o=pr,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var s=n[o];if(!(s[ll]||s[Fe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var a=i.get(l);a?a.push(s):i.set(l,[s])}}return i}function mg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function hA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gA(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Vo(i.href),s=t.querySelector(dl(o));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Ve(s);return}s=t.ownerDocument||t,i=Wv(i),(o=zt.get(o))&&cd(i,o),s=s.createElement("link"),Ve(s);var l=s;l._p=new Promise(function(a,c){l.onload=a,l.onerror=c}),Je(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=zr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Cc=0;function yA(e,t){return e.stylesheets&&e.count===0&&mr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&mr(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Cc===0&&(Cc=62500*ZC());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&mr(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Cc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function zr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Or=null;function mr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Or=new Map,t.forEach(vA,e),Or=null,zr.call(e))}function vA(e,t){if(!(t.state.loading&4)){var n=Or.get(e);if(n)var i=n.get(null);else{n=new Map,Or.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<o.length;s++){var l=o[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),i=l)}i&&n.set(null,i)}o=t.instance,l=o.getAttribute("data-precedence"),s=n.get(l)||i,s===i&&n.set(null,o),n.set(l,o),this.count++,i=zr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),s?s.parentNode.insertBefore(o,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var js={$$typeof:_n,Provider:null,Consumer:null,_currentValue:Ri,_currentValue2:Ri,_threadCount:0};function SA(e,t,n,i,o,s,l,a,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.hiddenUpdates=Xu(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function e0(e,t,n,i,o,s,l,a,c,f,d,p){return e=new SA(e,t,n,l,c,f,d,p,a),t=1,s===!0&&(t|=24),s=St(3,null,null,t),e.current=s,s.stateNode=e,t=Hf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Vf(s),e}function t0(e){return e?(e=To,e):To}function n0(e,t,n,i,o,s){o=t0(o),i.context===null?i.context=o:i.pendingContext=o,i=ni(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=ii(e,i,t),n!==null&&(ft(n,e,t),ks(n,e,t))}function hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dd(e,t){hg(e,t),(e=e.alternate)&&hg(e,t)}function i0(e){if(e.tag===13||e.tag===31){var t=Vi(e,67108864);t!==null&&ft(t,e,67108864),dd(e,67108864)}}function gg(e){if(e.tag===13||e.tag===31){var t=At();t=Cf(t);var n=Vi(e,t);n!==null&&ft(n,e,t),dd(e,t)}}var Br=!0;function TA(e,t,n,i){var o=L.T;L.T=null;var s=ne.p;try{ne.p=2,pd(e,t,n,i)}finally{ne.p=s,L.T=o}}function EA(e,t,n,i){var o=L.T;L.T=null;var s=ne.p;try{ne.p=8,pd(e,t,n,i)}finally{ne.p=s,L.T=o}}function pd(e,t,n,i){if(Br){var o=vf(i);if(o===null)Ec(e,t,i,Fr,n),yg(e,i);else if(CA(o,e,t,n,i))i.stopPropagation();else if(yg(e,i),t&4&&-1<_A.indexOf(e)){for(;o!==null;){var s=Bo(o);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Ai(s.pendingLanes);if(l!==0){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var c=1<<31-Ct(l);a.entanglements[1]|=c,l&=~c}fn(s),(te&6)===0&&(kr=Et()+500,fl(0,!1))}}break;case 31:case 13:a=Vi(s,2),a!==null&&ft(a,s,2),ia(),dd(s,2)}if(s=vf(i),s===null&&Ec(e,t,i,Fr,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else Ec(e,t,i,null,n)}}function vf(e){return e=Rf(e),md(e)}var Fr=null;function md(e){if(Fr=null,e=mo(e),e!==null){var t=nl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Cg(t),e!==null)return e;e=null}else if(n===31){if(e=Ag(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fr=e,null}function o0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(u_()){case Ng:return 2;case bg:return 8;case Sr:case c_:return 32;case Mg:return 268435456;default:return 32}default:return 32}}var Sf=!1,li=null,ri=null,ai=null,el=new Map,tl=new Map,Kn=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yg(e,t){switch(e){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":el.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(t.pointerId)}}function _s(e,t,n,i,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Bo(t),t!==null&&i0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function CA(e,t,n,i,o){switch(t){case"focusin":return li=_s(li,e,t,n,i,o),!0;case"dragenter":return ri=_s(ri,e,t,n,i,o),!0;case"mouseover":return ai=_s(ai,e,t,n,i,o),!0;case"pointerover":var s=o.pointerId;return el.set(s,_s(el.get(s)||null,e,t,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,tl.set(s,_s(tl.get(s)||null,e,t,n,i,o)),!0}return!1}function s0(e){var t=mo(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=Cg(n),t!==null){e.blockedOn=t,eh(e.priority,function(){gg(n)});return}}else if(t===31){if(t=Ag(n),t!==null){e.blockedOn=t,eh(e.priority,function(){gg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Pc=i,n.target.dispatchEvent(i),Pc=null}else return t=Bo(n),t!==null&&i0(t),e.blockedOn=n,!1;t.shift()}return!0}function vg(e,t,n){hr(e)&&n.delete(t)}function AA(){Sf=!1,li!==null&&hr(li)&&(li=null),ri!==null&&hr(ri)&&(ri=null),ai!==null&&hr(ai)&&(ai=null),el.forEach(vg),tl.forEach(vg)}function jl(e,t){e.blockedOn===t&&(e.blockedOn=null,Sf||(Sf=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,AA)))}var er=null;function Sg(e){er!==e&&(er=e,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,function(){er===e&&(er=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(md(i||n)===null)continue;break}var s=Bo(n);s!==null&&(e.splice(t,3),t-=3,Wc(s,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function zo(e){function t(c){return jl(c,e)}li!==null&&jl(li,e),ri!==null&&jl(ri,e),ai!==null&&jl(ai,e),el.forEach(t),tl.forEach(t);for(var n=0;n<Kn.length;n++){var i=Kn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)s0(n),n.blockedOn===null&&Kn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],s=n[i+1],l=o[dt]||null;if(typeof s=="function")l||Sg(n);else if(l){var a=null;if(s&&s.hasAttribute("formAction")){if(o=s,l=s[dt]||null)a=l.formAction;else if(md(o)!==null)continue}else a=l.action;typeof a=="function"?n[i+1]=a:(n.splice(i,3),i-=3),Sg(n)}}}function l0(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(l){return o=l})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function hd(e){this._internalRoot=e}la.prototype.render=hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(w(409));var n=t.current,i=At();n0(n,i,e,t,null,null)};la.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;n0(e.current,2,null,e,null,null),ia(),t[Oo]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&s0(e)}};var Tg=Eg.version;if(Tg!=="19.2.3")throw Error(w(527,Tg,"19.2.3"));ne.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(w(188)):(e=Object.keys(e).join(","),Error(w(268,e)));return e=n_(t),e=e!==null?xg(e):null,e=e===null?null:e.stateNode,e};var xA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Cs.isDisabled&&Cs.supportsFiber))try{il=Cs.inject(xA),_t=Cs}catch{}var Cs;ra.createRoot=function(e,t){if(!_g(e))throw Error(w(299));var n=!1,i="",o=Zy,s=Wy,l=jy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=e0(e,1,!1,null,null,n,i,null,o,s,l,l0),e[Oo]=t.current,ud(e),new hd(t)};ra.hydrateRoot=function(e,t,n){if(!_g(e))throw Error(w(299));var i=!1,o="",s=Zy,l=Wy,a=jy,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=e0(e,1,!0,t,n??null,i,o,c,s,l,a,l0),t.context=t0(null),n=t.current,i=At(),i=Cf(i),o=ni(i),o.callback=null,ii(n,o,i),n=i,t.current.lanes=n,sl(t,n),fn(t),e[Oo]=t.current,ud(e),new la(t)};ra.version="19.2.3"});var c0=on((aD,u0)=>{"use strict";function a0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a0)}catch(e){console.error(e)}}a0(),u0.exports=r0()});function f0(){try{let e=localStorage.getItem("hermes-files");return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to load files:",e),{}}}function Oi(e){try{localStorage.setItem("hermes-files",JSON.stringify(e))}catch(t){console.warn("Failed to save files:",t)}}var d0=Nu(()=>{});function Rt(){return typeof globalThis.app<"u"&&globalThis.app?.vault!==void 0}function he(){return Rt()?globalThis.app:null}function Oe(e){if(!e||typeof e!="string")return"/";let t=e.startsWith("/")?e.slice(1):e,n=t.lastIndexOf("/");if(n===-1)return"/";let i=t.substring(0,n);return i.startsWith("/")?i:`/${i}/`}var nt=Nu(()=>{});var m0={};xe(m0,{createBinaryFile:()=>Ed,createDirectory:()=>xd,createFile:()=>aa,deleteFile:()=>wd,editFile:()=>Ad,getDirectoryList:()=>Td,getFolderTree:()=>Sd,getVaultFiles:()=>vd,initFileSystem:()=>yd,listDirectory:()=>Un,moveFile:()=>Cd,readFile:()=>mt,renameFile:()=>_d,searchFiles:()=>ml,updateFile:()=>hi});var Nt,p0,re,gd,yd,Un,vd,Sd,Td,mt,Ed,aa,hi,_d,Cd,Ad,xd,wd,ml,Le=Nu(()=>{d0();nt();Nt=Rt(),p0={"first.md":`Green leaves in the wind,
Softly dancing on the branch,
Nature's quiet song.`,"second.md":`Golden sun descends,
Painting clouds in fire light,
Day turns into night.`,"third.md":`Winter's cold embrace,
Snowflakes drift on silent air,
World is white and still.`,"projects/ideas.md":`# Project Ideas
- Voice controlled vault
- Markdown visualizer
- AI Haiku generator`,"projects/tasks.md":`# Task List
- [ ] Implement rename tool
- [ ] Fix markdown rendering
- [ ] Add batch action logic`,"projects/notes.md":`# Research Notes
Vaults are better when they are interactive. Hermes is the messenger.`},re={...p0},gd=!1,yd=async()=>{if(gd)return;if(Nt){gd=!0;return}let e=await f0();e?re=e:await Oi(p0),gd=!0},Un=()=>Nt?he().vault.getMarkdownFiles().map(e=>e.path):Object.keys(re),vd=async e=>{let{limit:t=20,offset:n=0,sortBy:i="mtime",sortOrder:o="desc",filter:s}=e,l=[];if(Nt?l=he().vault.getMarkdownFiles().map(f=>({path:f.path,name:f.name,mtime:f.stat.mtime,size:f.stat.size})):l=Object.keys(re).map(f=>({path:f,name:f.split("/").pop()||f,mtime:Date.now(),size:re[f].length*2})),s){let f=s.toLowerCase();l=l.filter(d=>d.path.toLowerCase().includes(f)||d.name.toLowerCase().includes(f))}l.sort((f,d)=>{let p=f[i],m=d[i];return typeof p=="string"&&(p=p.toLowerCase(),m=m.toLowerCase()),p<m?o==="asc"?-1:1:p>m?o==="asc"?1:-1:0});let a=l.length;return{files:l.slice(n,n+t),total:a}},Sd=()=>{if(Nt)return he().vault.getAllLoadedFiles().filter(t=>t.children!==void 0).map(t=>t.path).sort();{let e=Object.keys(re),t=new Set;return e.forEach(n=>{let i=n.split("/");i.pop();let o="";i.forEach(s=>{o+=(o?"/":"")+s,t.add(o)})}),Array.from(t).sort()}},Td=()=>{if(Nt)return he().vault.getAllLoadedFiles().filter(t=>t.children!==void 0).map(t=>({path:t.path,children:[]}));{let e=Object.keys(re),t=new Map;e.forEach(i=>{let o=i.split("/");o.pop();for(let s=0;s<o.length;s++){let l=o.slice(0,s+1).join("/"),a=s===0?"/":o.slice(0,s).join("/");t.has(a)||t.set(a,new Set),t.get(a).add(l)}});let n=i=>{let o=Array.from(t.get(i)||[]).map(s=>n(s)).sort((s,l)=>s.path.localeCompare(l.path));return{path:i==="/"?"":i,children:o}};return[n("/")]}},mt=async e=>{if(Nt){let n=he().vault.getAbstractFileByPath(e);if(!n)throw new Error(`File not found in vault: ${e}`);return await he().vault.read(n)}let t=re[e.toLowerCase()];if(!t)throw new Error(`File not found: ${e}`);return t},Ed=async(e,t)=>{if(Nt){let i=e.substring(0,e.lastIndexOf("/"));return i&&i.length>0&&(he().vault.getAbstractFileByPath(i)||await he().vault.createFolder(i)),await he().vault.createBinary(e,t),`Created binary file ${e} in vault`}let n=`[Binary file data - ${t.byteLength||t.length} bytes]

This would be a binary file (${e}) in the Obsidian environment.`;return await aa(e,n)},aa=async(e,t)=>{if(Nt){let i=e.substring(0,e.lastIndexOf("/"));return i&&i.length>0&&(he().vault.getAbstractFileByPath(i)||await he().vault.createFolder(i)),await he().vault.create(e,t),`Created ${e} in vault`}let n=e.toLowerCase();if(re[n])throw new Error(`File already exists: ${e}`);return re[n]=t,await Oi(re),`Successfully created ${e}`},hi=async(e,t)=>{if(Nt){let i=he().vault.getAbstractFileByPath(e);if(!i)throw new Error(`File not found: ${e}`);return await he().vault.modify(i,t),`Updated ${e} in vault`}let n=e.toLowerCase();if(!re[n])throw new Error(`File not found: ${e}`);return re[n]=t,await Oi(re),`Successfully updated ${e}`},_d=async(e,t)=>{if(Nt){let s=he().vault.getAbstractFileByPath(e);if(!s)throw new Error(`File not found: ${e}`);return await he().fileManager.renameFile(s,t),`Renamed ${e} to ${t} in vault`}let n=e.toLowerCase(),i=t.toLowerCase();if(!re[n])throw new Error(`File not found: ${e}`);if(re[i])throw new Error(`File already exists: ${t}`);let o=re[n];return delete re[n],re[i]=o,await Oi(re),`Successfully renamed ${e} to ${t}`},Cd=async(e,t)=>{if(Nt){let s=he().vault.getAbstractFileByPath(e);if(!s)throw new Error(`Source file not found: ${e}`);if(he().vault.getAbstractFileByPath(t))throw new Error(`Target file already exists: ${t}`);return await he().fileManager.renameFile(s,t),`Moved ${e} to ${t} in vault`}let n=e.toLowerCase(),i=t.toLowerCase();if(!re[n])throw new Error(`Source file not found: ${e}`);if(re[i])throw new Error(`Target file already exists: ${t}`);let o=re[n];return delete re[n],re[i]=o,await Oi(re),`Successfully moved ${e} to ${t}`},Ad=async(e,t,n,i)=>{let s=(await mt(e)).split(`
`);if(t==="append")s.push(n||"");else if(t==="replace_line"){if(i===void 0||i<1||i>s.length)throw new Error(`Invalid line number: ${i}`);s[i-1]=n||""}else if(t==="remove_line"){if(i===void 0||i<1||i>s.length)throw new Error(`Invalid line number: ${i}`);s.splice(i-1,1)}else throw new Error(`Unknown operation: ${t}`);let l=s.join(`
`);return await hi(e,l),`Successfully performed ${t} on ${e}`},xd=async e=>{if(Nt){if(he().vault.getAbstractFileByPath(e))throw new Error(`Directory already exists: ${e}`);return await he().vault.createFolder(e),`Created directory ${e} in vault`}let t=e.toLowerCase().replace(/\\/g,"/");if(Object.keys(re).filter(i=>i.startsWith(t+"/")).length>0)throw new Error(`Directory already exists or contains files: ${e}`);return`Successfully created directory ${e}`},wd=async e=>{if(Nt){let n=he().vault.getAbstractFileByPath(e);if(!n)throw new Error(`File not found: ${e}`);return await he().vault.delete(n),`Deleted ${e} from vault`}let t=e.toLowerCase();if(!re[t])throw new Error(`File not found: ${e}`);return delete re[t],await Oi(re),`Successfully deleted ${e}`},ml=async(e,t=!1,n="i")=>{let i=Un(),o=[],s=t?new RegExp(e,n):null,l=t?"":e.toLowerCase();for(let a of i){let f=(await mt(a)).split(`
`),d=[];f.forEach((p,m)=>{let h=!1;t&&s?h=s.test(p):h=p.toLowerCase().includes(l),h&&d.push({line:m+1,content:p,contextBefore:f.slice(Math.max(0,m-2),m),contextAfter:f.slice(m+1,Math.min(f.length,m+3))})}),d.length>0&&o.push({filename:a,matches:d})}return o}});var VT=on(mu=>{"use strict";var KM=Symbol.for("react.transitional.element"),XM=Symbol.for("react.fragment");function qT(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var o in t)o!=="key"&&(n[o]=t[o])}else n=t;return t=n.ref,{$$typeof:KM,type:e,key:i,ref:t!==void 0?t:null,props:n}}mu.Fragment=XM;mu.jsx=qT;mu.jsxs=qT});var ae=on((Pk,zT)=>{"use strict";zT.exports=VT()});var ZI={};xe(ZI,{default:()=>xu});module.exports=UE(ZI);var EE=require("obsidian");var vE=F(Mt()),SE=require("obsidian"),TE=F(c0());var B=F(Mt());Le();var Rd="hermes_os_settings",h0="hermes_os_chat_history",Bi=null;var g0=async e=>{try{let t={...e};Bi=t,localStorage.setItem(Rd,JSON.stringify(t))}catch(t){console.error("Failed to save settings",t)}},Nd=()=>{if(Bi)return Bi;let e=localStorage.getItem(Rd);if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error("Failed to load settings",t),null}},y0=async()=>Bi||Nd(),v0=async()=>{Bi=null;let e=localStorage.getItem(Rd);if(!e)return null;try{let t=JSON.parse(e);return Bi=t,t}catch(t){return console.error("Failed to load settings",t),null}},S0=async e=>{try{localStorage.setItem(h0,JSON.stringify(e))}catch(t){console.error("Failed to save chat history",t)}},T0=()=>{let e=localStorage.getItem(h0);if(!e)return[];try{return JSON.parse(e)}catch(t){return console.error("Failed to load chat history",t),[]}};var gi=null,yi=null,E0=e=>{gi=e};var _0=async e=>{try{let t={...e};yi=t,gi&&await gi.saveData(t)}catch(t){console.error("Failed to save settings",t)}},C0=()=>yi||null,bd=async()=>{if(gi)try{return yi=await gi.loadData()||{},yi}catch(e){return console.error("Failed to load settings from Obsidian",e),null}return null},A0=async()=>(yi=null,await bd()),x0=async e=>{try{if(gi){let t=await gi.loadData()||{};t.chatHistory=e,await gi.saveData(t)}}catch(t){console.error("Failed to save chat history",t)}},w0=()=>yi?.chatHistory?yi.chatHistory:[];var Fi=!1,R0=e=>{Fi=!0,E0(e)};var N0=async e=>Fi?_0(e):g0(e),dn=()=>Fi?C0():Nd(),b0=async()=>Fi?bd():y0(),Md=async()=>Fi?A0():v0(),M0=async e=>Fi?x0(e):S0(e),ua=()=>Fi?w0():T0();var NA,bA;function MA(){return{geminiUrl:NA,vertexUrl:bA}}function IA(e,t,n,i){var o,s;if(!e?.baseUrl){let l=MA();return t?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(s=l.geminiUrl)!==null&&s!==void 0?s:i}return e.baseUrl}var Kt=class{};function D(e,t){let n=/\{([^}]+)\}/g;return e.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){let s=t[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(e,t,n){for(let s=0;s<t.length-1;s++){let l=t[s];if(l.endsWith("[]")){let a=l.slice(0,-2);if(!(a in e))if(Array.isArray(n))e[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[a])){let c=e[a];if(Array.isArray(n))for(let f=0;f<c.length;f++){let d=c[f];u(d,t.slice(s+1),n[f])}else for(let f of c)u(f,t.slice(s+1),n)}return}else if(l.endsWith("[0]")){let a=l.slice(0,-3);a in e||(e[a]=[{}]);let c=e[a];u(c[0],t.slice(s+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}let i=t[t.length-1],o=e[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function r(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;let o=t[i];if(o.endsWith("[]")){let s=o.slice(0,-2);if(s in e){let l=e[s];return Array.isArray(l)?l.map(a=>r(a,t.slice(i+1),n)):n}else return n}else e=e[o]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function DA(e,t){for(let[n,i]of Object.entries(t)){let o=n.split("."),s=i.split("."),l=new Set,a=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){a=c;break}if(a!==-1&&s.length>a)for(let c=a;c<s.length;c++){let f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}kd(e,o,s,0,l)}}function kd(e,t,n,i,o){if(i>=t.length||typeof e!="object"||e===null)return;let s=t[i];if(s.endsWith("[]")){let l=s.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(let c of a[l])kd(c,t,n,i+1,o)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let l=e,a=Object.keys(l).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(let f of a)c[f]=l[f];for(let[f,d]of Object.entries(c)){let p=[];for(let m of n.slice(i))m==="*"?p.push(f):p.push(m);u(l,p,d)}for(let f of a)delete l[f]}}else{let l=e;s in l&&kd(l[s],t,n,i+1,o)}}function Rp(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function kA(e){let t={},n=r(e,["operationName"]);n!=null&&u(t,["operationName"],n);let i=r(e,["resourceName"]);return i!=null&&u(t,["_url","resourceName"],i),t}function UA(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response","generateVideoResponse"]);return l!=null&&u(t,["response"],PA(l)),t}function LA(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response"]);return l!=null&&u(t,["response"],HA(l)),t}function PA(e){let t={},n=r(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>GA(l))),u(t,["generatedVideos"],s)}let i=r(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=r(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function HA(e){let t={},n=r(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>qA(l))),u(t,["generatedVideos"],s)}let i=r(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=r(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function GA(e){let t={},n=r(e,["video"]);return n!=null&&u(t,["video"],$A(n)),t}function qA(e){let t={},n=r(e,["_self"]);return n!=null&&u(t,["video"],YA(n)),t}function VA(e){let t={},n=r(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function zA(e){let t={},n=r(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function OA(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response"]);return l!=null&&u(t,["response"],BA(l)),t}function BA(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["parent"]);i!=null&&u(t,["parent"],i);let o=r(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function eT(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response"]);return l!=null&&u(t,["response"],FA(l)),t}function FA(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["parent"]);i!=null&&u(t,["parent"],i);let o=r(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function $A(e){let t={},n=r(e,["uri"]);n!=null&&u(t,["uri"],n);let i=r(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],Rp(i));let o=r(e,["encoding"]);return o!=null&&u(t,["mimeType"],o),t}function YA(e){let t={},n=r(e,["gcsUri"]);n!=null&&u(t,["uri"],n);let i=r(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],Rp(i));let o=r(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}var I0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(I0||(I0={}));var D0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(D0||(D0={}));var k0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(k0||(k0={}));var b;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(b||(b={}));var U0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(U0||(U0={}));var L0;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(L0||(L0={}));var P0;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(P0||(P0={}));var H0;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(H0||(H0={}));var G0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(G0||(G0={}));var q0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(q0||(q0={}));var V0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(V0||(V0={}));var z0;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(z0||(z0={}));var O0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(O0||(O0={}));var B0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(B0||(B0={}));var F0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(F0||(F0={}));var $0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})($0||($0={}));var Y0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Y0||(Y0={}));var J0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(J0||(J0={}));var K0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(K0||(K0={}));var X0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(X0||(X0={}));var Q0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Q0||(Q0={}));var jo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(jo||(jo={}));var Z0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Z0||(Z0={}));var W0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(W0||(W0={}));var j0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(j0||(j0={}));var Ud;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ud||(Ud={}));var eS;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(eS||(eS={}));var tS;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(tS||(tS={}));var Ld;(function(e){e.COLLECTION="COLLECTION"})(Ld||(Ld={}));var nS;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(nS||(nS={}));var iS;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(iS||(iS={}));var oS;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(oS||(oS={}));var sS;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(sS||(sS={}));var lS;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(lS||(lS={}));var rS;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rS||(rS={}));var aS;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(aS||(aS={}));var uS;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(uS||(uS={}));var cS;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(cS||(cS={}));var fS;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(fS||(fS={}));var dS;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(dS||(dS={}));var pS;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(pS||(pS={}));var mS;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(mS||(mS={}));var hS;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(hS||(hS={}));var gS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(gS||(gS={}));var yS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(yS||(yS={}));var vS;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(vS||(vS={}));var SS;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(SS||(SS={}));var TS;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(TS||(TS={}));var ES;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ES||(ES={}));var _S;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(_S||(_S={}));var CS;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(CS||(CS={}));var AS;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(AS||(AS={}));var xS;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(xS||(xS={}));var wS;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wS||(wS={}));var RS;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(RS||(RS={}));var NS;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(NS||(NS={}));var Qo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Qo||(Qo={}));var yl=class{constructor(t){let n={};for(let i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}};var Yi=class{get text(){var t,n,i,o,s,l,a,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1,p=[];for(let m of(c=(a=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(let[h,S]of Object.entries(m))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(h);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,f+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var t,n,i,o,s,l,a,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="",d=[];for(let p of(c=(a=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)!==null&&c!==void 0?c:[]){for(let[m,h]of Object.entries(p))m!=="inlineData"&&(h!==null||h!==void 0)&&d.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,o,s,l,a,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let f=(c=(a=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(f?.length!==0)return f}get executableCode(){var t,n,i,o,s,l,a,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let d=(c=(a=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,o,s,l,a,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let d=(c=(a=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.output}},ya=class{},va=class{},Pd=class{},Hd=class{},Gd=class{},qd=class{},Sa=class{},Ta=class{},Ea=class{},Vd=class{};var es=class{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let i=new es,o,s=t;return n?o=LA(s):o=UA(s),Object.assign(i,o),i}},_a=class{},Ca=class{},Aa=class{},xa=class{},zd=class{},Od=class{},Bd=class{};var vl=class{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let i=new vl,s=OA(t);return Object.assign(i,s),i}},Fd=class{},$d=class{},Yd=class{};var wa=class{};var Jd=class{get text(){var t,n,i;let o="",s=!1,l=[];for(let a of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(let[c,f]of Object.entries(a))c!=="text"&&c!=="thought"&&f!==null&&l.push(c);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;s=!0,o+=a.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var t,n,i;let o="",s=[];for(let l of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(let[a,c]of Object.entries(l))a!=="inlineData"&&c!==null&&s.push(a);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}};var Kd=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Sl=class{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let i=new Sl,s=eT(t);return Object.assign(i,s),i}};function j(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){let n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tT(e,t){let n=j(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function nT(e){return Array.isArray(e)?e.map(t=>Ra(t)):[Ra(e)]}function Ra(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function iT(e){let t=Ra(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function oT(e){let t=Ra(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function bS(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function sT(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>bS(t)):[bS(e)]}function Xd(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function MS(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function IS(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function We(e){if(e==null)throw new Error("ContentUnion is required");return Xd(e)?e:{role:"user",parts:sT(e)}}function Np(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{let i=We(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){let n=We(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>We(n)):[We(t)]}function Ot(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(MS(e)||IS(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[We(e)]}let t=[],n=[],i=Xd(e[0]);for(let o of e){let s=Xd(o);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(MS(o)||IS(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||t.push({role:"user",parts:sT(n)}),t}function JA(e,t){e.includes("null")&&(t.nullable=!0);let n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(b).includes(n[0].toUpperCase())?n[0].toUpperCase():b.TYPE_UNSPECIFIED;else{t.anyOf=[];for(let i of n)t.anyOf.push({type:Object.values(b).includes(i.toUpperCase())?i.toUpperCase():b.TYPE_UNSPECIFIED})}}function Zo(e){let t={},n=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");let s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&JA(e.type,t);for(let[l,a]of Object.entries(e))if(a!=null)if(l=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(b).includes(a.toUpperCase())?a.toUpperCase():b.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Zo(a);else if(i.includes(l)){let c=[];for(let f of a){if(f.type=="null"){t.nullable=!0;continue}c.push(Zo(f))}t[l]=c}else if(o.includes(l)){let c={};for(let[f,d]of Object.entries(a))c[f]=Zo(d);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=a}return t}function bp(e){return Zo(e)}function Mp(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ip(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function os(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Zo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Zo(t.response));return e}function ss(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");let t=[];for(let n of e)t.push(n);return t}function KA(e,t,n,i=1){let o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Hn(e,t){if(typeof t!="string")throw new Error("name must be a string");return KA(e,t,"cachedContents")}function lT(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Si(e){return Rp(e)}function XA(e){return e!=null&&typeof e=="object"&&"name"in e}function QA(e){return e!=null&&typeof e=="object"&&"video"in e}function ZA(e){return e!=null&&typeof e=="object"&&"uri"in e}function rT(e){var t;let n;if(XA(e)&&(n=e.name),!(ZA(e)&&(n=e.uri,n===void 0))&&!(QA(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function aT(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function uT(e){for(let t of["models","tunedModels","publisherModels"])if(WA(e,t))return e[t];return[]}function WA(e,t){return e!==null&&typeof e=="object"&&t in e}function jA(e,t={}){let n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function ex(e,t={}){let n=[],i=new Set;for(let o of e){let s=o.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);let l=jA(o,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function cT(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;let i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tx(e){if(typeof e!="string")return e;let t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function fT(e){if(typeof e!="object"||e===null)return{};let t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;let o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let s=!1;for(let l of o){if(typeof l!="object"||l===null)continue;let c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ls(e,t){let n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dT(e){let t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function nx(e){let t={},n=r(e,["responsesFile"]);n!=null&&u(t,["fileName"],n);let i=r(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Px(l))),u(t,["inlinedResponses"],s)}let o=r(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["inlinedEmbedContentResponses"],s)}return t}function ix(e){let t={},n=r(e,["predictionsFormat"]);n!=null&&u(t,["format"],n);let i=r(e,["gcsDestination","outputUriPrefix"]);i!=null&&u(t,["gcsUri"],i);let o=r(e,["bigqueryDestination","outputUri"]);return o!=null&&u(t,["bigqueryUri"],o),t}function ox(e){let t={},n=r(e,["format"]);n!=null&&u(t,["predictionsFormat"],n);let i=r(e,["gcsUri"]);i!=null&&u(t,["gcsDestination","outputUriPrefix"],i);let o=r(e,["bigqueryUri"]);if(o!=null&&u(t,["bigqueryDestination","outputUri"],o),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function ha(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata","displayName"]);i!=null&&u(t,["displayName"],i);let o=r(e,["metadata","state"]);o!=null&&u(t,["state"],dT(o));let s=r(e,["metadata","createTime"]);s!=null&&u(t,["createTime"],s);let l=r(e,["metadata","endTime"]);l!=null&&u(t,["endTime"],l);let a=r(e,["metadata","updateTime"]);a!=null&&u(t,["updateTime"],a);let c=r(e,["metadata","model"]);c!=null&&u(t,["model"],c);let f=r(e,["metadata","output"]);return f!=null&&u(t,["dest"],nx(fT(f))),t}function Qd(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["displayName"]);i!=null&&u(t,["displayName"],i);let o=r(e,["state"]);o!=null&&u(t,["state"],dT(o));let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["createTime"]);l!=null&&u(t,["createTime"],l);let a=r(e,["startTime"]);a!=null&&u(t,["startTime"],a);let c=r(e,["endTime"]);c!=null&&u(t,["endTime"],c);let f=r(e,["updateTime"]);f!=null&&u(t,["updateTime"],f);let d=r(e,["model"]);d!=null&&u(t,["model"],d);let p=r(e,["inputConfig"]);p!=null&&u(t,["src"],sx(p));let m=r(e,["outputConfig"]);m!=null&&u(t,["dest"],ix(fT(m)));let h=r(e,["completionStats"]);return h!=null&&u(t,["completionStats"],h),t}function sx(e){let t={},n=r(e,["instancesFormat"]);n!=null&&u(t,["format"],n);let i=r(e,["gcsSource","uris"]);i!=null&&u(t,["gcsUri"],i);let o=r(e,["bigquerySource","inputUri"]);return o!=null&&u(t,["bigqueryUri"],o),t}function lx(e,t){let n={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let i=r(t,["fileName"]);i!=null&&u(n,["fileName"],i);let o=r(t,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Lx(e,l))),u(n,["requests","requests"],s)}return n}function rx(e){let t={},n=r(e,["format"]);n!=null&&u(t,["instancesFormat"],n);let i=r(e,["gcsUri"]);i!=null&&u(t,["gcsSource","uris"],i);let o=r(e,["bigqueryUri"]);if(o!=null&&u(t,["bigquerySource","inputUri"],o),r(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function ax(e){let t={},n=r(e,["data"]);if(n!=null&&u(t,["data"],n),r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function ux(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],ls(e,i)),n}function cx(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],ls(e,i)),n}function fx(e){let t={},n=r(e,["content"]);n!=null&&u(t,["content"],n);let i=r(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],dx(i));let o=r(e,["tokenCount"]);o!=null&&u(t,["tokenCount"],o);let s=r(e,["finishReason"]);s!=null&&u(t,["finishReason"],s);let l=r(e,["avgLogprobs"]);l!=null&&u(t,["avgLogprobs"],l);let a=r(e,["groundingMetadata"]);a!=null&&u(t,["groundingMetadata"],a);let c=r(e,["index"]);c!=null&&u(t,["index"],c);let f=r(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);let d=r(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>h)),u(t,["safetyRatings"],m)}let p=r(e,["urlContextMetadata"]);return p!=null&&u(t,["urlContextMetadata"],p),t}function dx(e){let t={},n=r(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["citations"],i)}return t}function pT(e){let t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Bx(s))),u(t,["parts"],o)}let i=r(e,["role"]);return i!=null&&u(t,["role"],i),t}function px(e,t){let n={},i=r(e,["displayName"]);if(t!==void 0&&i!=null&&u(t,["batch","displayName"],i),r(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function mx(e,t){let n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);let o=r(e,["dest"]);return t!==void 0&&o!=null&&u(t,["outputConfig"],ox(tx(o))),n}function DS(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["src"]);o!=null&&u(n,["batch","inputConfig"],lx(e,cT(e,o)));let s=r(t,["config"]);return s!=null&&px(s,n),n}function hx(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["model"],j(e,i));let o=r(t,["src"]);o!=null&&u(n,["inputConfig"],rx(cT(e,o)));let s=r(t,["config"]);return s!=null&&mx(s,n),n}function gx(e,t){let n={},i=r(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["batch","displayName"],i),n}function yx(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["src"]);o!=null&&u(n,["batch","inputConfig"],Ax(e,o));let s=r(t,["config"]);return s!=null&&gx(s,n),n}function vx(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],ls(e,i)),n}function Sx(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],ls(e,i)),n}function Tx(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["name"]);i!=null&&u(t,["name"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);return s!=null&&u(t,["error"],s),t}function Ex(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["name"]);i!=null&&u(t,["name"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);return s!=null&&u(t,["error"],s),t}function _x(e,t){let n={},i=r(t,["contents"]);if(i!=null){let s=Np(e,i);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["requests[]","request","content"],s)}let o=r(t,["config"]);return o!=null&&(u(n,["_self"],Cx(o,n)),DA(n,{"requests[].*":"requests[].request.*"})),n}function Cx(e,t){let n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);let o=r(e,["title"]);t!==void 0&&o!=null&&u(t,["requests[]","title"],o);let s=r(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&u(t,["requests[]","outputDimensionality"],s),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ax(e,t){let n={},i=r(t,["fileName"]);i!=null&&u(n,["file_name"],i);let o=r(t,["inlinedRequests"]);return o!=null&&u(n,["requests"],_x(e,o)),n}function xx(e){let t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=r(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function wx(e){let t={},n=r(e,["id"]);n!=null&&u(t,["id"],n);let i=r(e,["args"]);i!=null&&u(t,["args"],i);let o=r(e,["name"]);if(o!=null&&u(t,["name"],o),r(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Rx(e){let t={},n=r(e,["allowedFunctionNames"]);n!=null&&u(t,["allowedFunctionNames"],n);let i=r(e,["mode"]);if(i!=null&&u(t,["mode"],i),r(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Nx(e,t,n){let i={},o=r(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],pT(We(o)));let s=r(t,["temperature"]);s!=null&&u(i,["temperature"],s);let l=r(t,["topP"]);l!=null&&u(i,["topP"],l);let a=r(t,["topK"]);a!=null&&u(i,["topK"],a);let c=r(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);let f=r(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);let d=r(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);let p=r(t,["responseLogprobs"]);p!=null&&u(i,["responseLogprobs"],p);let m=r(t,["logprobs"]);m!=null&&u(i,["logprobs"],m);let h=r(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);let S=r(t,["frequencyPenalty"]);S!=null&&u(i,["frequencyPenalty"],S);let T=r(t,["seed"]);T!=null&&u(i,["seed"],T);let _=r(t,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);let g=r(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],bp(g));let y=r(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let v=r(t,["safetySettings"]);if(n!==void 0&&v!=null){let ie=v;Array.isArray(ie)&&(ie=ie.map(Xe=>Fx(Xe))),u(n,["safetySettings"],ie)}let E=r(t,["tools"]);if(n!==void 0&&E!=null){let ie=ss(E);Array.isArray(ie)&&(ie=ie.map(Xe=>Yx(os(Xe)))),u(n,["tools"],ie)}let A=r(t,["toolConfig"]);if(n!==void 0&&A!=null&&u(n,["toolConfig"],$x(A)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let N=r(t,["cachedContent"]);n!==void 0&&N!=null&&u(n,["cachedContent"],Hn(e,N));let x=r(t,["responseModalities"]);x!=null&&u(i,["responseModalities"],x);let I=r(t,["mediaResolution"]);I!=null&&u(i,["mediaResolution"],I);let C=r(t,["speechConfig"]);if(C!=null&&u(i,["speechConfig"],Mp(C)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let R=r(t,["thinkingConfig"]);R!=null&&u(i,["thinkingConfig"],R);let z=r(t,["imageConfig"]);z!=null&&u(i,["imageConfig"],Ux(z));let Ae=r(t,["enableEnhancedCivicAnswers"]);if(Ae!=null&&u(i,["enableEnhancedCivicAnswers"],Ae),r(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function bx(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>fx(f))),u(t,["candidates"],c)}let o=r(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);let s=r(e,["promptFeedback"]);s!=null&&u(t,["promptFeedback"],s);let l=r(e,["responseId"]);l!=null&&u(t,["responseId"],l);let a=r(e,["usageMetadata"]);return a!=null&&u(t,["usageMetadata"],a),t}function Mx(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],ls(e,i)),n}function Ix(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],ls(e,i)),n}function Dx(e){let t={};if(r(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=r(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function kx(e){let t={};if(r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=r(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function Ux(e){let t={},n=r(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);let i=r(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),r(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(r(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Lx(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["request","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let a=Ot(o);Array.isArray(a)&&(a=a.map(c=>pT(c))),u(n,["request","contents"],a)}let s=r(t,["metadata"]);s!=null&&u(n,["metadata"],s);let l=r(t,["config"]);return l!=null&&u(n,["request","generationConfig"],Nx(e,l,r(n,["request"],{}))),n}function Px(e){let t={},n=r(e,["response"]);n!=null&&u(t,["response"],bx(n));let i=r(e,["error"]);return i!=null&&u(t,["error"],i),t}function Hx(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);if(t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),r(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Gx(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);t!==void 0&&o!=null&&u(t,["_query","pageToken"],o);let s=r(e,["filter"]);return t!==void 0&&s!=null&&u(t,["_query","filter"],s),n}function qx(e){let t={},n=r(e,["config"]);return n!=null&&Hx(n,t),t}function Vx(e){let t={},n=r(e,["config"]);return n!=null&&Gx(n,t),t}function zx(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>ha(l))),u(t,["batchJobs"],s)}return t}function Ox(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Qd(l))),u(t,["batchJobs"],s)}return t}function Bx(e){let t={},n=r(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=r(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=r(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let s=r(e,["fileData"]);s!=null&&u(t,["fileData"],xx(s));let l=r(e,["functionCall"]);l!=null&&u(t,["functionCall"],wx(l));let a=r(e,["functionResponse"]);a!=null&&u(t,["functionResponse"],a);let c=r(e,["inlineData"]);c!=null&&u(t,["inlineData"],ax(c));let f=r(e,["text"]);f!=null&&u(t,["text"],f);let d=r(e,["thought"]);d!=null&&u(t,["thought"],d);let p=r(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);let m=r(e,["videoMetadata"]);return m!=null&&u(t,["videoMetadata"],m),t}function Fx(e){let t={},n=r(e,["category"]);if(n!=null&&u(t,["category"],n),r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=r(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function $x(e){let t={},n=r(e,["retrievalConfig"]);n!=null&&u(t,["retrievalConfig"],n);let i=r(e,["functionCallingConfig"]);return i!=null&&u(t,["functionCallingConfig"],Rx(i)),t}function Yx(e){let t={};if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=r(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=r(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=r(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=r(e,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}let l=r(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],Dx(l));let a=r(e,["googleSearch"]);a!=null&&u(t,["googleSearch"],kx(a));let c=r(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=r(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}var Ln;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ln||(Ln={}));var Pn=class{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}};var Zd=class extends Kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Ln.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){let n=DS(this.apiClient,t),i=n._url,o=D("{model}:batchGenerateContent",i),a=n.batch.inputConfig.requests,c=a.requests,f=[];for(let d of c){let p=Object.assign({},d);if(p.systemInstruction){let m=p.systemInstruction;delete p.systemInstruction;let h=p.request;h.systemInstruction=m,p.request=h}f.push(p)}return a.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){let i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){let s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${o}`;else if(l)i.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=hx(this.apiClient,t);return a=D("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Qd(d))}else{let f=DS(this.apiClient,t);return a=D("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>ha(d))}}async createEmbeddingsInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=yx(this.apiClient,t);return s=D("{model}:asyncBatchEmbedContent",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>ha(c))}}async get(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=Ix(this.apiClient,t);return a=D("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Qd(d))}else{let f=Mx(this.apiClient,t);return a=D("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>ha(d))}}async cancel(t){var n,i,o,s;let l="",a={};if(this.apiClient.isVertexAI()){let c=cx(this.apiClient,t);l=D("batchPredictionJobs/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{let c=ux(this.apiClient,t);l=D("batches/{name}:cancel",c._url),a=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=Vx(t);return a=D("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=Ox(d),m=new wa;return Object.assign(m,p),m})}else{let f=qx(t);return a=D("batches",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=zx(d),m=new wa;return Object.assign(m,p),m})}}async delete(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=Sx(this.apiClient,t);return a=D("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>Ex(d))}else{let f=vx(this.apiClient,t);return a=D("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>Tx(d))}}};function Jx(e){let t={},n=r(e,["data"]);if(n!=null&&u(t,["data"],n),r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function kS(e){let t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>gw(s))),u(t,["parts"],o)}let i=r(e,["role"]);return i!=null&&u(t,["role"],i),t}function Kx(e,t){let n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=r(e,["expireTime"]);t!==void 0&&o!=null&&u(t,["expireTime"],o);let s=r(e,["displayName"]);t!==void 0&&s!=null&&u(t,["displayName"],s);let l=r(e,["contents"]);if(t!==void 0&&l!=null){let d=Ot(l);Array.isArray(d)&&(d=d.map(p=>kS(p))),u(t,["contents"],d)}let a=r(e,["systemInstruction"]);t!==void 0&&a!=null&&u(t,["systemInstruction"],kS(We(a)));let c=r(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>vw(p))),u(t,["tools"],d)}let f=r(e,["toolConfig"]);if(t!==void 0&&f!=null&&u(t,["toolConfig"],yw(f)),r(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Xx(e,t){let n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=r(e,["expireTime"]);t!==void 0&&o!=null&&u(t,["expireTime"],o);let s=r(e,["displayName"]);t!==void 0&&s!=null&&u(t,["displayName"],s);let l=r(e,["contents"]);if(t!==void 0&&l!=null){let p=Ot(l);Array.isArray(p)&&(p=p.map(m=>m)),u(t,["contents"],p)}let a=r(e,["systemInstruction"]);t!==void 0&&a!=null&&u(t,["systemInstruction"],We(a));let c=r(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>Sw(m))),u(t,["tools"],p)}let f=r(e,["toolConfig"]);t!==void 0&&f!=null&&u(t,["toolConfig"],f);let d=r(e,["kmsKeyName"]);return t!==void 0&&d!=null&&u(t,["encryption_spec","kmsKeyName"],d),n}function Qx(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["model"],tT(e,i));let o=r(t,["config"]);return o!=null&&Kx(o,n),n}function Zx(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["model"],tT(e,i));let o=r(t,["config"]);return o!=null&&Xx(o,n),n}function Wx(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],Hn(e,i)),n}function jx(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],Hn(e,i)),n}function ew(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function tw(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function nw(e){let t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=r(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function iw(e){let t={},n=r(e,["id"]);n!=null&&u(t,["id"],n);let i=r(e,["args"]);i!=null&&u(t,["args"],i);let o=r(e,["name"]);if(o!=null&&u(t,["name"],o),r(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ow(e){let t={},n=r(e,["allowedFunctionNames"]);n!=null&&u(t,["allowedFunctionNames"],n);let i=r(e,["mode"]);if(i!=null&&u(t,["mode"],i),r(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function sw(e){let t={},n=r(e,["description"]);n!=null&&u(t,["description"],n);let i=r(e,["name"]);i!=null&&u(t,["name"],i);let o=r(e,["parameters"]);o!=null&&u(t,["parameters"],o);let s=r(e,["parametersJsonSchema"]);s!=null&&u(t,["parametersJsonSchema"],s);let l=r(e,["response"]);l!=null&&u(t,["response"],l);let a=r(e,["responseJsonSchema"]);if(a!=null&&u(t,["responseJsonSchema"],a),r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function lw(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],Hn(e,i)),n}function rw(e,t){let n={},i=r(t,["name"]);return i!=null&&u(n,["_url","name"],Hn(e,i)),n}function aw(e){let t={};if(r(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=r(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function uw(e){let t={};if(r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=r(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function cw(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function fw(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function dw(e){let t={},n=r(e,["config"]);return n!=null&&cw(n,t),t}function pw(e){let t={},n=r(e,["config"]);return n!=null&&fw(n,t),t}function mw(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["cachedContents"],s)}return t}function hw(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["cachedContents"],s)}return t}function gw(e){let t={},n=r(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=r(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=r(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let s=r(e,["fileData"]);s!=null&&u(t,["fileData"],nw(s));let l=r(e,["functionCall"]);l!=null&&u(t,["functionCall"],iw(l));let a=r(e,["functionResponse"]);a!=null&&u(t,["functionResponse"],a);let c=r(e,["inlineData"]);c!=null&&u(t,["inlineData"],Jx(c));let f=r(e,["text"]);f!=null&&u(t,["text"],f);let d=r(e,["thought"]);d!=null&&u(t,["thought"],d);let p=r(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);let m=r(e,["videoMetadata"]);return m!=null&&u(t,["videoMetadata"],m),t}function yw(e){let t={},n=r(e,["retrievalConfig"]);n!=null&&u(t,["retrievalConfig"],n);let i=r(e,["functionCallingConfig"]);return i!=null&&u(t,["functionCallingConfig"],ow(i)),t}function vw(e){let t={};if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=r(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=r(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=r(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=r(e,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}let l=r(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],aw(l));let a=r(e,["googleSearch"]);a!=null&&u(t,["googleSearch"],uw(a));let c=r(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=r(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function Sw(e){let t={},n=r(e,["retrieval"]);n!=null&&u(t,["retrieval"],n);let i=r(e,["computerUse"]);if(i!=null&&u(t,["computerUse"],i),r(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=r(e,["codeExecution"]);o!=null&&u(t,["codeExecution"],o);let s=r(e,["enterpriseWebSearch"]);s!=null&&u(t,["enterpriseWebSearch"],s);let l=r(e,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>sw(m))),u(t,["functionDeclarations"],p)}let a=r(e,["googleMaps"]);a!=null&&u(t,["googleMaps"],a);let c=r(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],c);let f=r(e,["googleSearchRetrieval"]);f!=null&&u(t,["googleSearchRetrieval"],f);let d=r(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function Tw(e,t){let n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=r(e,["expireTime"]);return t!==void 0&&o!=null&&u(t,["expireTime"],o),n}function Ew(e,t){let n={},i=r(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=r(e,["expireTime"]);return t!==void 0&&o!=null&&u(t,["expireTime"],o),n}function _w(e,t){let n={},i=r(t,["name"]);i!=null&&u(n,["_url","name"],Hn(e,i));let o=r(t,["config"]);return o!=null&&Tw(o,n),n}function Cw(e,t){let n={},i=r(t,["name"]);i!=null&&u(n,["_url","name"],Hn(e,i));let o=r(t,["config"]);return o!=null&&Ew(o,n),n}var Wd=class extends Kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Ln.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=Zx(this.apiClient,t);return a=D("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{let f=Qx(this.apiClient,t);return a=D("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=rw(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{let f=lw(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=jx(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=tw(d),m=new Aa;return Object.assign(m,p),m})}else{let f=Wx(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=ew(d),m=new Aa;return Object.assign(m,p),m})}}async update(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=Cw(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{let f=_w(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=pw(t);return a=D("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=hw(d),m=new xa;return Object.assign(m,p),m})}else{let f=dw(t);return a=D("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=mw(d),m=new xa;return Object.assign(m,p),m})}}};function Na(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function US(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function Yt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(h){return function(S){return Promise.resolve(S).then(h,p)}}function a(h,S){i[h]&&(o[h]=function(T){return new Promise(function(_,g){s.push([h,T,_,g])>1||c(h,T)})},S&&(o[h]=S(o[h])))}function c(h,S){try{f(i[h](S))}catch(T){m(s[0][3],T)}}function f(h){h.value instanceof P?Promise.resolve(h.value.v).then(d,p):m(s[0][2],h)}function d(h){c("next",h)}function p(h){c("throw",h)}function m(h,S){h(S),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Jt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof US=="function"?US(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(l){return new Promise(function(a,c){l=e[s](l),o(a,c,l.done,l.value)})}}function o(s,l,a,c){Promise.resolve(c).then(function(f){s({value:f,done:a})},l)}}function Aw(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;let n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:mT(n)}function mT(e){if(e.parts===void 0||e.parts.length===0)return!1;for(let t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function xw(e){if(e.length!==0){for(let t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function LS(e){if(e===void 0||e.length===0)return[];let t=[],n=e.length,i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{let o=[],s=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),s&&!mT(e[i])&&(s=!1),i++;s?t.push(...o):t.pop()}return t}var jd=class{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new ep(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}},ep=class{constructor(t,n,i,o={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),xw(s)}async sendMessage(t){var n;await this.sendPromise;let i=We(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,a;let c=await o,f=(l=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,m=[];d!=null&&(m=(a=d.slice(p))!==null&&a!==void 0?a:[]);let h=f?[f]:[];this.recordHistory(i,h,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;let i=We(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});let s=await o;return this.processStreamResponse(s,i)}getHistory(t=!1){let n=t?LS(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Yt(this,arguments,function*(){var o,s,l,a,c,f;let d=[];try{for(var p=!0,m=Jt(t),h;h=yield P(m.next()),o=h.done,!o;p=!0){a=h.value,p=!1;let S=a;if(Aw(S)){let T=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;T!==void 0&&d.push(T)}yield yield P(S)}}catch(S){s={error:S}}finally{try{!p&&!o&&(l=m.return)&&(yield P(l.call(m)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...LS(i)):this.history.push(t),this.history.push(...o)}};var Ji=class extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ji.prototype)}};function ww(e){let t={},n=r(e,["file"]);return n!=null&&u(t,["file"],n),t}function Rw(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function Nw(e){let t={},n=r(e,["name"]);return n!=null&&u(t,["_url","file"],rT(n)),t}function bw(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function Mw(e){let t={},n=r(e,["name"]);return n!=null&&u(t,["_url","file"],rT(n)),t}function Iw(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function Dw(e){let t={},n=r(e,["config"]);return n!=null&&Iw(n,t),t}function kw(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["files"],s)}return t}var tp=class extends Kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Ln.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Dw(t);return s=D("files",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=kw(c),d=new Fd;return Object.assign(d,f),d})}}async createInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=ww(t);return s=D("upload/v1beta/files",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=Rw(c),d=new $d;return Object.assign(d,f),d})}}async get(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Mw(t);return s=D("files/{file}",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Nw(t);return s=D("files/{file}",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=bw(c),d=new Yd;return Object.assign(d,f),d})}}};function ga(e){let t={},n=r(e,["data"]);if(n!=null&&u(t,["data"],n),r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Uw(e){let t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Qw(s))),u(t,["parts"],o)}let i=r(e,["role"]);return i!=null&&u(t,["role"],i),t}function Lw(e){let t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=r(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Pw(e){let t={},n=r(e,["id"]);n!=null&&u(t,["id"],n);let i=r(e,["args"]);i!=null&&u(t,["args"],i);let o=r(e,["name"]);if(o!=null&&u(t,["name"],o),r(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Hw(e){let t={},n=r(e,["description"]);n!=null&&u(t,["description"],n);let i=r(e,["name"]);i!=null&&u(t,["name"],i);let o=r(e,["parameters"]);o!=null&&u(t,["parameters"],o);let s=r(e,["parametersJsonSchema"]);s!=null&&u(t,["parametersJsonSchema"],s);let l=r(e,["response"]);l!=null&&u(t,["response"],l);let a=r(e,["responseJsonSchema"]);if(a!=null&&u(t,["responseJsonSchema"],a),r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Gw(e){let t={},n=r(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);let i=r(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);let o=r(e,["audioTimestamp"]);o!=null&&u(t,["audioTimestamp"],o);let s=r(e,["candidateCount"]);s!=null&&u(t,["candidateCount"],s);let l=r(e,["enableAffectiveDialog"]);l!=null&&u(t,["enableAffectiveDialog"],l);let a=r(e,["frequencyPenalty"]);a!=null&&u(t,["frequencyPenalty"],a);let c=r(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);let f=r(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);let d=r(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);let p=r(e,["presencePenalty"]);p!=null&&u(t,["presencePenalty"],p);let m=r(e,["responseLogprobs"]);m!=null&&u(t,["responseLogprobs"],m);let h=r(e,["responseMimeType"]);h!=null&&u(t,["responseMimeType"],h);let S=r(e,["responseModalities"]);S!=null&&u(t,["responseModalities"],S);let T=r(e,["responseSchema"]);T!=null&&u(t,["responseSchema"],T);let _=r(e,["routingConfig"]);_!=null&&u(t,["routingConfig"],_);let g=r(e,["seed"]);g!=null&&u(t,["seed"],g);let y=r(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],y);let v=r(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);let E=r(e,["temperature"]);E!=null&&u(t,["temperature"],E);let A=r(e,["thinkingConfig"]);A!=null&&u(t,["thinkingConfig"],A);let N=r(e,["topK"]);N!=null&&u(t,["topK"],N);let x=r(e,["topP"]);if(x!=null&&u(t,["topP"],x),r(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qw(e){let t={};if(r(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=r(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function Vw(e){let t={};if(r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=r(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function zw(e,t){let n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);let o=r(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);let s=r(e,["temperature"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","temperature"],s);let l=r(e,["topP"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","topP"],l);let a=r(e,["topK"]);t!==void 0&&a!=null&&u(t,["setup","generationConfig","topK"],a);let c=r(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);let f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);let d=r(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);let p=r(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],Ip(p));let m=r(e,["thinkingConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","thinkingConfig"],m);let h=r(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);let S=r(e,["systemInstruction"]);t!==void 0&&S!=null&&u(t,["setup","systemInstruction"],Uw(We(S)));let T=r(e,["tools"]);if(t!==void 0&&T!=null){let N=ss(T);Array.isArray(N)&&(N=N.map(x=>Ww(os(x)))),u(t,["setup","tools"],N)}let _=r(e,["sessionResumption"]);t!==void 0&&_!=null&&u(t,["setup","sessionResumption"],Zw(_));let g=r(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);let y=r(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);let v=r(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);let E=r(e,["contextWindowCompression"]);t!==void 0&&E!=null&&u(t,["setup","contextWindowCompression"],E);let A=r(e,["proactivity"]);if(t!==void 0&&A!=null&&u(t,["setup","proactivity"],A),r(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ow(e,t){let n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],Gw(i));let o=r(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);let s=r(e,["temperature"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","temperature"],s);let l=r(e,["topP"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","topP"],l);let a=r(e,["topK"]);t!==void 0&&a!=null&&u(t,["setup","generationConfig","topK"],a);let c=r(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);let f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);let d=r(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);let p=r(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],Ip(p));let m=r(e,["thinkingConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","thinkingConfig"],m);let h=r(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);let S=r(e,["systemInstruction"]);t!==void 0&&S!=null&&u(t,["setup","systemInstruction"],We(S));let T=r(e,["tools"]);if(t!==void 0&&T!=null){let x=ss(T);Array.isArray(x)&&(x=x.map(I=>jw(os(I)))),u(t,["setup","tools"],x)}let _=r(e,["sessionResumption"]);t!==void 0&&_!=null&&u(t,["setup","sessionResumption"],_);let g=r(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);let y=r(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);let v=r(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);let E=r(e,["contextWindowCompression"]);t!==void 0&&E!=null&&u(t,["setup","contextWindowCompression"],E);let A=r(e,["proactivity"]);t!==void 0&&A!=null&&u(t,["setup","proactivity"],A);let N=r(e,["explicitVadSignal"]);return t!==void 0&&N!=null&&u(t,["setup","explicitVadSignal"],N),n}function Bw(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["setup","model"],j(e,i));let o=r(t,["config"]);return o!=null&&u(n,["config"],zw(o,n)),n}function Fw(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["setup","model"],j(e,i));let o=r(t,["config"]);return o!=null&&u(n,["config"],Ow(o,n)),n}function $w(e){let t={},n=r(e,["musicGenerationConfig"]);return n!=null&&u(t,["musicGenerationConfig"],n),t}function Yw(e){let t={},n=r(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["weightedPrompts"],i)}return t}function Jw(e){let t={},n=r(e,["media"]);if(n!=null){let f=nT(n);Array.isArray(f)&&(f=f.map(d=>ga(d))),u(t,["mediaChunks"],f)}let i=r(e,["audio"]);i!=null&&u(t,["audio"],ga(oT(i)));let o=r(e,["audioStreamEnd"]);o!=null&&u(t,["audioStreamEnd"],o);let s=r(e,["video"]);s!=null&&u(t,["video"],ga(iT(s)));let l=r(e,["text"]);l!=null&&u(t,["text"],l);let a=r(e,["activityStart"]);a!=null&&u(t,["activityStart"],a);let c=r(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function Kw(e){let t={},n=r(e,["media"]);if(n!=null){let f=nT(n);Array.isArray(f)&&(f=f.map(d=>d)),u(t,["mediaChunks"],f)}let i=r(e,["audio"]);i!=null&&u(t,["audio"],oT(i));let o=r(e,["audioStreamEnd"]);o!=null&&u(t,["audioStreamEnd"],o);let s=r(e,["video"]);s!=null&&u(t,["video"],iT(s));let l=r(e,["text"]);l!=null&&u(t,["text"],l);let a=r(e,["activityStart"]);a!=null&&u(t,["activityStart"],a);let c=r(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function Xw(e){let t={},n=r(e,["setupComplete"]);n!=null&&u(t,["setupComplete"],n);let i=r(e,["serverContent"]);i!=null&&u(t,["serverContent"],i);let o=r(e,["toolCall"]);o!=null&&u(t,["toolCall"],o);let s=r(e,["toolCallCancellation"]);s!=null&&u(t,["toolCallCancellation"],s);let l=r(e,["usageMetadata"]);l!=null&&u(t,["usageMetadata"],eR(l));let a=r(e,["goAway"]);a!=null&&u(t,["goAway"],a);let c=r(e,["sessionResumptionUpdate"]);c!=null&&u(t,["sessionResumptionUpdate"],c);let f=r(e,["voiceActivityDetectionSignal"]);f!=null&&u(t,["voiceActivityDetectionSignal"],f);let d=r(e,["voiceActivity"]);return d!=null&&u(t,["voiceActivity"],tR(d)),t}function Qw(e){let t={},n=r(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=r(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=r(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let s=r(e,["fileData"]);s!=null&&u(t,["fileData"],Lw(s));let l=r(e,["functionCall"]);l!=null&&u(t,["functionCall"],Pw(l));let a=r(e,["functionResponse"]);a!=null&&u(t,["functionResponse"],a);let c=r(e,["inlineData"]);c!=null&&u(t,["inlineData"],ga(c));let f=r(e,["text"]);f!=null&&u(t,["text"],f);let d=r(e,["thought"]);d!=null&&u(t,["thought"],d);let p=r(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);let m=r(e,["videoMetadata"]);return m!=null&&u(t,["videoMetadata"],m),t}function Zw(e){let t={},n=r(e,["handle"]);if(n!=null&&u(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ww(e){let t={};if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=r(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=r(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=r(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=r(e,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}let l=r(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],qw(l));let a=r(e,["googleSearch"]);a!=null&&u(t,["googleSearch"],Vw(a));let c=r(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=r(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function jw(e){let t={},n=r(e,["retrieval"]);n!=null&&u(t,["retrieval"],n);let i=r(e,["computerUse"]);if(i!=null&&u(t,["computerUse"],i),r(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=r(e,["codeExecution"]);o!=null&&u(t,["codeExecution"],o);let s=r(e,["enterpriseWebSearch"]);s!=null&&u(t,["enterpriseWebSearch"],s);let l=r(e,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>Hw(m))),u(t,["functionDeclarations"],p)}let a=r(e,["googleMaps"]);a!=null&&u(t,["googleMaps"],a);let c=r(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],c);let f=r(e,["googleSearchRetrieval"]);f!=null&&u(t,["googleSearchRetrieval"],f);let d=r(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function eR(e){let t={},n=r(e,["promptTokenCount"]);n!=null&&u(t,["promptTokenCount"],n);let i=r(e,["cachedContentTokenCount"]);i!=null&&u(t,["cachedContentTokenCount"],i);let o=r(e,["candidatesTokenCount"]);o!=null&&u(t,["responseTokenCount"],o);let s=r(e,["toolUsePromptTokenCount"]);s!=null&&u(t,["toolUsePromptTokenCount"],s);let l=r(e,["thoughtsTokenCount"]);l!=null&&u(t,["thoughtsTokenCount"],l);let a=r(e,["totalTokenCount"]);a!=null&&u(t,["totalTokenCount"],a);let c=r(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(S=>S)),u(t,["promptTokensDetails"],h)}let f=r(e,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(S=>S)),u(t,["cacheTokensDetails"],h)}let d=r(e,["candidatesTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(S=>S)),u(t,["responseTokensDetails"],h)}let p=r(e,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(S=>S)),u(t,["toolUsePromptTokensDetails"],h)}let m=r(e,["trafficType"]);return m!=null&&u(t,["trafficType"],m),t}function tR(e){let t={},n=r(e,["type"]);return n!=null&&u(t,["voiceActivityType"],n),t}function nR(e){let t={},n=r(e,["data"]);if(n!=null&&u(t,["data"],n),r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function iR(e){let t={},n=r(e,["content"]);n!=null&&u(t,["content"],n);let i=r(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],oR(i));let o=r(e,["tokenCount"]);o!=null&&u(t,["tokenCount"],o);let s=r(e,["finishReason"]);s!=null&&u(t,["finishReason"],s);let l=r(e,["avgLogprobs"]);l!=null&&u(t,["avgLogprobs"],l);let a=r(e,["groundingMetadata"]);a!=null&&u(t,["groundingMetadata"],a);let c=r(e,["index"]);c!=null&&u(t,["index"],c);let f=r(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);let d=r(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>h)),u(t,["safetyRatings"],m)}let p=r(e,["urlContextMetadata"]);return p!=null&&u(t,["urlContextMetadata"],p),t}function oR(e){let t={},n=r(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["citations"],i)}return t}function sR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let s=Ot(o);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["contents"],s)}return n}function lR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),u(t,["tokensInfo"],o)}return t}function rR(e){let t={},n=r(e,["values"]);n!=null&&u(t,["values"],n);let i=r(e,["statistics"]);return i!=null&&u(t,["statistics"],aR(i)),t}function aR(e){let t={},n=r(e,["truncated"]);n!=null&&u(t,["truncated"],n);let i=r(e,["token_count"]);return i!=null&&u(t,["tokenCount"],i),t}function Ba(e){let t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>yN(s))),u(t,["parts"],o)}let i=r(e,["role"]);return i!=null&&u(t,["role"],i),t}function uR(e){let t={},n=r(e,["controlType"]);n!=null&&u(t,["controlType"],n);let i=r(e,["enableControlImageComputation"]);return i!=null&&u(t,["computeControl"],i),t}function cR(e){let t={};if(r(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fR(e,t){let n={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],We(i));let o=r(e,["tools"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>vT(a))),u(t,["tools"],l)}let s=r(e,["generationConfig"]);return t!==void 0&&s!=null&&u(t,["generationConfig"],nN(s)),n}function dR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let l=Ot(o);Array.isArray(l)&&(l=l.map(a=>Ba(a))),u(n,["contents"],l)}let s=r(t,["config"]);return s!=null&&cR(s),n}function pR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let l=Ot(o);Array.isArray(l)&&(l=l.map(a=>a)),u(n,["contents"],l)}let s=r(t,["config"]);return s!=null&&fR(s,n),n}function mR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["totalTokens"]);i!=null&&u(t,["totalTokens"],i);let o=r(e,["cachedContentTokenCount"]);return o!=null&&u(t,["cachedContentTokenCount"],o),t}function hR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["totalTokens"]);return i!=null&&u(t,["totalTokens"],i),t}function gR(e,t){let n={},i=r(t,["model"]);return i!=null&&u(n,["_url","name"],j(e,i)),n}function yR(e,t){let n={},i=r(t,["model"]);return i!=null&&u(n,["_url","name"],j(e,i)),n}function vR(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function SR(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function TR(e,t){let n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);let o=r(e,["negativePrompt"]);t!==void 0&&o!=null&&u(t,["parameters","negativePrompt"],o);let s=r(e,["numberOfImages"]);t!==void 0&&s!=null&&u(t,["parameters","sampleCount"],s);let l=r(e,["aspectRatio"]);t!==void 0&&l!=null&&u(t,["parameters","aspectRatio"],l);let a=r(e,["guidanceScale"]);t!==void 0&&a!=null&&u(t,["parameters","guidanceScale"],a);let c=r(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);let f=r(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);let d=r(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);let p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&u(t,["parameters","includeSafetyAttributes"],p);let m=r(e,["includeRaiReason"]);t!==void 0&&m!=null&&u(t,["parameters","includeRaiReason"],m);let h=r(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);let S=r(e,["outputMimeType"]);t!==void 0&&S!=null&&u(t,["parameters","outputOptions","mimeType"],S);let T=r(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&u(t,["parameters","outputOptions","compressionQuality"],T);let _=r(e,["addWatermark"]);t!==void 0&&_!=null&&u(t,["parameters","addWatermark"],_);let g=r(e,["labels"]);t!==void 0&&g!=null&&u(t,["labels"],g);let y=r(e,["editMode"]);t!==void 0&&y!=null&&u(t,["parameters","editMode"],y);let v=r(e,["baseSteps"]);return t!==void 0&&v!=null&&u(t,["parameters","editConfig","baseSteps"],v),n}function ER(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let s=r(t,["referenceImages"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>CN(c))),u(n,["instances[0]","referenceImages"],a)}let l=r(t,["config"]);return l!=null&&TR(l,n),n}function _R(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Fa(s))),u(t,["generatedImages"],o)}return t}function CR(e,t){let n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);let o=r(e,["title"]);t!==void 0&&o!=null&&u(t,["requests[]","title"],o);let s=r(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&u(t,["requests[]","outputDimensionality"],s),r(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function AR(e,t){let n={},i=r(e,["taskType"]);t!==void 0&&i!=null&&u(t,["instances[]","task_type"],i);let o=r(e,["title"]);t!==void 0&&o!=null&&u(t,["instances[]","title"],o);let s=r(e,["outputDimensionality"]);t!==void 0&&s!=null&&u(t,["parameters","outputDimensionality"],s);let l=r(e,["mimeType"]);t!==void 0&&l!=null&&u(t,["instances[]","mimeType"],l);let a=r(e,["autoTruncate"]);return t!==void 0&&a!=null&&u(t,["parameters","autoTruncate"],a),n}function xR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let a=Np(e,o);Array.isArray(a)&&(a=a.map(c=>c)),u(n,["requests[]","content"],a)}let s=r(t,["config"]);s!=null&&CR(s,n);let l=r(t,["model"]);return l!==void 0&&u(n,["requests[]","model"],j(e,l)),n}function wR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let l=Np(e,o);Array.isArray(l)&&(l=l.map(a=>a)),u(n,["instances[]","content"],l)}let s=r(t,["config"]);return s!=null&&AR(s,n),n}function RR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["embeddings"],s)}let o=r(e,["metadata"]);return o!=null&&u(t,["metadata"],o),t}function NR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>rR(l))),u(t,["embeddings"],s)}let o=r(e,["metadata"]);return o!=null&&u(t,["metadata"],o),t}function bR(e){let t={},n=r(e,["endpoint"]);n!=null&&u(t,["name"],n);let i=r(e,["deployedModelId"]);return i!=null&&u(t,["deployedModelId"],i),t}function MR(e){let t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=r(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function IR(e){let t={},n=r(e,["id"]);n!=null&&u(t,["id"],n);let i=r(e,["args"]);i!=null&&u(t,["args"],i);let o=r(e,["name"]);if(o!=null&&u(t,["name"],o),r(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DR(e){let t={},n=r(e,["allowedFunctionNames"]);n!=null&&u(t,["allowedFunctionNames"],n);let i=r(e,["mode"]);if(i!=null&&u(t,["mode"],i),r(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kR(e){let t={},n=r(e,["description"]);n!=null&&u(t,["description"],n);let i=r(e,["name"]);i!=null&&u(t,["name"],i);let o=r(e,["parameters"]);o!=null&&u(t,["parameters"],o);let s=r(e,["parametersJsonSchema"]);s!=null&&u(t,["parametersJsonSchema"],s);let l=r(e,["response"]);l!=null&&u(t,["response"],l);let a=r(e,["responseJsonSchema"]);if(a!=null&&u(t,["responseJsonSchema"],a),r(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function UR(e,t,n){let i={},o=r(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Ba(We(o)));let s=r(t,["temperature"]);s!=null&&u(i,["temperature"],s);let l=r(t,["topP"]);l!=null&&u(i,["topP"],l);let a=r(t,["topK"]);a!=null&&u(i,["topK"],a);let c=r(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);let f=r(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);let d=r(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);let p=r(t,["responseLogprobs"]);p!=null&&u(i,["responseLogprobs"],p);let m=r(t,["logprobs"]);m!=null&&u(i,["logprobs"],m);let h=r(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);let S=r(t,["frequencyPenalty"]);S!=null&&u(i,["frequencyPenalty"],S);let T=r(t,["seed"]);T!=null&&u(i,["seed"],T);let _=r(t,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);let g=r(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],bp(g));let y=r(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let v=r(t,["safetySettings"]);if(n!==void 0&&v!=null){let ie=v;Array.isArray(ie)&&(ie=ie.map(Xe=>AN(Xe))),u(n,["safetySettings"],ie)}let E=r(t,["tools"]);if(n!==void 0&&E!=null){let ie=ss(E);Array.isArray(ie)&&(ie=ie.map(Xe=>IN(os(Xe)))),u(n,["tools"],ie)}let A=r(t,["toolConfig"]);if(n!==void 0&&A!=null&&u(n,["toolConfig"],MN(A)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let N=r(t,["cachedContent"]);n!==void 0&&N!=null&&u(n,["cachedContent"],Hn(e,N));let x=r(t,["responseModalities"]);x!=null&&u(i,["responseModalities"],x);let I=r(t,["mediaResolution"]);I!=null&&u(i,["mediaResolution"],I);let C=r(t,["speechConfig"]);if(C!=null&&u(i,["speechConfig"],Mp(C)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let R=r(t,["thinkingConfig"]);R!=null&&u(i,["thinkingConfig"],R);let z=r(t,["imageConfig"]);z!=null&&u(i,["imageConfig"],rN(z));let Ae=r(t,["enableEnhancedCivicAnswers"]);if(Ae!=null&&u(i,["enableEnhancedCivicAnswers"],Ae),r(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function LR(e,t,n){let i={},o=r(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],We(o));let s=r(t,["temperature"]);s!=null&&u(i,["temperature"],s);let l=r(t,["topP"]);l!=null&&u(i,["topP"],l);let a=r(t,["topK"]);a!=null&&u(i,["topK"],a);let c=r(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);let f=r(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);let d=r(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);let p=r(t,["responseLogprobs"]);p!=null&&u(i,["responseLogprobs"],p);let m=r(t,["logprobs"]);m!=null&&u(i,["logprobs"],m);let h=r(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);let S=r(t,["frequencyPenalty"]);S!=null&&u(i,["frequencyPenalty"],S);let T=r(t,["seed"]);T!=null&&u(i,["seed"],T);let _=r(t,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);let g=r(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],bp(g));let y=r(t,["responseJsonSchema"]);y!=null&&u(i,["responseJsonSchema"],y);let v=r(t,["routingConfig"]);v!=null&&u(i,["routingConfig"],v);let E=r(t,["modelSelectionConfig"]);E!=null&&u(i,["modelConfig"],E);let A=r(t,["safetySettings"]);if(n!==void 0&&A!=null){let Qe=A;Array.isArray(Qe)&&(Qe=Qe.map(tn=>tn)),u(n,["safetySettings"],Qe)}let N=r(t,["tools"]);if(n!==void 0&&N!=null){let Qe=ss(N);Array.isArray(Qe)&&(Qe=Qe.map(tn=>vT(os(tn)))),u(n,["tools"],Qe)}let x=r(t,["toolConfig"]);n!==void 0&&x!=null&&u(n,["toolConfig"],x);let I=r(t,["labels"]);n!==void 0&&I!=null&&u(n,["labels"],I);let C=r(t,["cachedContent"]);n!==void 0&&C!=null&&u(n,["cachedContent"],Hn(e,C));let R=r(t,["responseModalities"]);R!=null&&u(i,["responseModalities"],R);let z=r(t,["mediaResolution"]);z!=null&&u(i,["mediaResolution"],z);let Ae=r(t,["speechConfig"]);Ae!=null&&u(i,["speechConfig"],Mp(Ae));let ie=r(t,["audioTimestamp"]);ie!=null&&u(i,["audioTimestamp"],ie);let Xe=r(t,["thinkingConfig"]);Xe!=null&&u(i,["thinkingConfig"],Xe);let en=r(t,["imageConfig"]);if(en!=null&&u(i,["imageConfig"],aN(en)),r(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let ue=r(t,["modelArmorConfig"]);return n!==void 0&&ue!=null&&u(n,["modelArmorConfig"],ue),i}function PS(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let l=Ot(o);Array.isArray(l)&&(l=l.map(a=>Ba(a))),u(n,["contents"],l)}let s=r(t,["config"]);return s!=null&&u(n,["generationConfig"],UR(e,s,n)),n}function HS(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["contents"]);if(o!=null){let l=Ot(o);Array.isArray(l)&&(l=l.map(a=>a)),u(n,["contents"],l)}let s=r(t,["config"]);return s!=null&&u(n,["generationConfig"],LR(e,s,n)),n}function GS(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>iR(f))),u(t,["candidates"],c)}let o=r(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);let s=r(e,["promptFeedback"]);s!=null&&u(t,["promptFeedback"],s);let l=r(e,["responseId"]);l!=null&&u(t,["responseId"],l);let a=r(e,["usageMetadata"]);return a!=null&&u(t,["usageMetadata"],a),t}function qS(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(t,["candidates"],f)}let o=r(e,["createTime"]);o!=null&&u(t,["createTime"],o);let s=r(e,["modelVersion"]);s!=null&&u(t,["modelVersion"],s);let l=r(e,["promptFeedback"]);l!=null&&u(t,["promptFeedback"],l);let a=r(e,["responseId"]);a!=null&&u(t,["responseId"],a);let c=r(e,["usageMetadata"]);return c!=null&&u(t,["usageMetadata"],c),t}function PR(e,t){let n={};if(r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let i=r(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);let o=r(e,["aspectRatio"]);t!==void 0&&o!=null&&u(t,["parameters","aspectRatio"],o);let s=r(e,["guidanceScale"]);if(t!==void 0&&s!=null&&u(t,["parameters","guidanceScale"],s),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let l=r(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&u(t,["parameters","safetySetting"],l);let a=r(e,["personGeneration"]);t!==void 0&&a!=null&&u(t,["parameters","personGeneration"],a);let c=r(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&u(t,["parameters","includeSafetyAttributes"],c);let f=r(e,["includeRaiReason"]);t!==void 0&&f!=null&&u(t,["parameters","includeRaiReason"],f);let d=r(e,["language"]);t!==void 0&&d!=null&&u(t,["parameters","language"],d);let p=r(e,["outputMimeType"]);t!==void 0&&p!=null&&u(t,["parameters","outputOptions","mimeType"],p);let m=r(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&u(t,["parameters","outputOptions","compressionQuality"],m),r(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let h=r(e,["imageSize"]);if(t!==void 0&&h!=null&&u(t,["parameters","sampleImageSize"],h),r(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function HR(e,t){let n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);let o=r(e,["negativePrompt"]);t!==void 0&&o!=null&&u(t,["parameters","negativePrompt"],o);let s=r(e,["numberOfImages"]);t!==void 0&&s!=null&&u(t,["parameters","sampleCount"],s);let l=r(e,["aspectRatio"]);t!==void 0&&l!=null&&u(t,["parameters","aspectRatio"],l);let a=r(e,["guidanceScale"]);t!==void 0&&a!=null&&u(t,["parameters","guidanceScale"],a);let c=r(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);let f=r(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);let d=r(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);let p=r(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&u(t,["parameters","includeSafetyAttributes"],p);let m=r(e,["includeRaiReason"]);t!==void 0&&m!=null&&u(t,["parameters","includeRaiReason"],m);let h=r(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);let S=r(e,["outputMimeType"]);t!==void 0&&S!=null&&u(t,["parameters","outputOptions","mimeType"],S);let T=r(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&u(t,["parameters","outputOptions","compressionQuality"],T);let _=r(e,["addWatermark"]);t!==void 0&&_!=null&&u(t,["parameters","addWatermark"],_);let g=r(e,["labels"]);t!==void 0&&g!=null&&u(t,["labels"],g);let y=r(e,["imageSize"]);t!==void 0&&y!=null&&u(t,["parameters","sampleImageSize"],y);let v=r(e,["enhancePrompt"]);return t!==void 0&&v!=null&&u(t,["parameters","enhancePrompt"],v),n}function GR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let s=r(t,["config"]);return s!=null&&PR(s,n),n}function qR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let s=r(t,["config"]);return s!=null&&HR(s,n),n}function VR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>WR(l))),u(t,["generatedImages"],s)}let o=r(e,["positivePromptSafetyAttributes"]);return o!=null&&u(t,["positivePromptSafetyAttributes"],gT(o)),t}function zR(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Fa(l))),u(t,["generatedImages"],s)}let o=r(e,["positivePromptSafetyAttributes"]);return o!=null&&u(t,["positivePromptSafetyAttributes"],yT(o)),t}function OR(e,t){let n={},i=r(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i),r(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let o=r(e,["durationSeconds"]);if(t!==void 0&&o!=null&&u(t,["parameters","durationSeconds"],o),r(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=r(e,["aspectRatio"]);t!==void 0&&s!=null&&u(t,["parameters","aspectRatio"],s);let l=r(e,["resolution"]);t!==void 0&&l!=null&&u(t,["parameters","resolution"],l);let a=r(e,["personGeneration"]);if(t!==void 0&&a!=null&&u(t,["parameters","personGeneration"],a),r(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=r(e,["negativePrompt"]);t!==void 0&&c!=null&&u(t,["parameters","negativePrompt"],c);let f=r(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&u(t,["parameters","enhancePrompt"],f),r(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let d=r(e,["lastFrame"]);t!==void 0&&d!=null&&u(t,["instances[0]","lastFrame"],$a(d));let p=r(e,["referenceImages"]);if(t!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>FN(h))),u(t,["instances[0]","referenceImages"],m)}if(r(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function BR(e,t){let n={},i=r(e,["numberOfVideos"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);let o=r(e,["outputGcsUri"]);t!==void 0&&o!=null&&u(t,["parameters","storageUri"],o);let s=r(e,["fps"]);t!==void 0&&s!=null&&u(t,["parameters","fps"],s);let l=r(e,["durationSeconds"]);t!==void 0&&l!=null&&u(t,["parameters","durationSeconds"],l);let a=r(e,["seed"]);t!==void 0&&a!=null&&u(t,["parameters","seed"],a);let c=r(e,["aspectRatio"]);t!==void 0&&c!=null&&u(t,["parameters","aspectRatio"],c);let f=r(e,["resolution"]);t!==void 0&&f!=null&&u(t,["parameters","resolution"],f);let d=r(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);let p=r(e,["pubsubTopic"]);t!==void 0&&p!=null&&u(t,["parameters","pubsubTopic"],p);let m=r(e,["negativePrompt"]);t!==void 0&&m!=null&&u(t,["parameters","negativePrompt"],m);let h=r(e,["enhancePrompt"]);t!==void 0&&h!=null&&u(t,["parameters","enhancePrompt"],h);let S=r(e,["generateAudio"]);t!==void 0&&S!=null&&u(t,["parameters","generateAudio"],S);let T=r(e,["lastFrame"]);t!==void 0&&T!=null&&u(t,["instances[0]","lastFrame"],Qt(T));let _=r(e,["referenceImages"]);if(t!==void 0&&_!=null){let v=_;Array.isArray(v)&&(v=v.map(E=>$N(E))),u(t,["instances[0]","referenceImages"],v)}let g=r(e,["mask"]);t!==void 0&&g!=null&&u(t,["instances[0]","mask"],BN(g));let y=r(e,["compressionQuality"]);return t!==void 0&&y!=null&&u(t,["parameters","compressionQuality"],y),n}function FR(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response","generateVideoResponse"]);return l!=null&&u(t,["response"],KR(l)),t}function $R(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response"]);return l!=null&&u(t,["response"],XR(l)),t}function YR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let s=r(t,["image"]);s!=null&&u(n,["instances[0]","image"],$a(s));let l=r(t,["video"]);l!=null&&u(n,["instances[0]","video"],ST(l));let a=r(t,["source"]);a!=null&&QR(a,n);let c=r(t,["config"]);return c!=null&&OR(c,n),n}function JR(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let s=r(t,["image"]);s!=null&&u(n,["instances[0]","image"],Qt(s));let l=r(t,["video"]);l!=null&&u(n,["instances[0]","video"],TT(l));let a=r(t,["source"]);a!=null&&ZR(a,n);let c=r(t,["config"]);return c!=null&&BR(c,n),n}function KR(e){let t={},n=r(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>eN(l))),u(t,["generatedVideos"],s)}let i=r(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=r(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function XR(e){let t={},n=r(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>tN(l))),u(t,["generatedVideos"],s)}let i=r(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=r(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function QR(e,t){let n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=r(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],$a(o));let s=r(e,["video"]);return t!==void 0&&s!=null&&u(t,["instances[0]","video"],ST(s)),n}function ZR(e,t){let n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=r(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],Qt(o));let s=r(e,["video"]);return t!==void 0&&s!=null&&u(t,["instances[0]","video"],TT(s)),n}function WR(e){let t={},n=r(e,["_self"]);n!=null&&u(t,["image"],uN(n));let i=r(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);let o=r(e,["_self"]);return o!=null&&u(t,["safetyAttributes"],gT(o)),t}function Fa(e){let t={},n=r(e,["_self"]);n!=null&&u(t,["image"],hT(n));let i=r(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);let o=r(e,["_self"]);o!=null&&u(t,["safetyAttributes"],yT(o));let s=r(e,["prompt"]);return s!=null&&u(t,["enhancedPrompt"],s),t}function jR(e){let t={},n=r(e,["_self"]);n!=null&&u(t,["mask"],hT(n));let i=r(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),u(t,["labels"],o)}return t}function eN(e){let t={},n=r(e,["video"]);return n!=null&&u(t,["video"],zN(n)),t}function tN(e){let t={},n=r(e,["_self"]);return n!=null&&u(t,["video"],ON(n)),t}function nN(e){let t={},n=r(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);let i=r(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);let o=r(e,["audioTimestamp"]);o!=null&&u(t,["audioTimestamp"],o);let s=r(e,["candidateCount"]);s!=null&&u(t,["candidateCount"],s);let l=r(e,["enableAffectiveDialog"]);l!=null&&u(t,["enableAffectiveDialog"],l);let a=r(e,["frequencyPenalty"]);a!=null&&u(t,["frequencyPenalty"],a);let c=r(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);let f=r(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);let d=r(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);let p=r(e,["presencePenalty"]);p!=null&&u(t,["presencePenalty"],p);let m=r(e,["responseLogprobs"]);m!=null&&u(t,["responseLogprobs"],m);let h=r(e,["responseMimeType"]);h!=null&&u(t,["responseMimeType"],h);let S=r(e,["responseModalities"]);S!=null&&u(t,["responseModalities"],S);let T=r(e,["responseSchema"]);T!=null&&u(t,["responseSchema"],T);let _=r(e,["routingConfig"]);_!=null&&u(t,["routingConfig"],_);let g=r(e,["seed"]);g!=null&&u(t,["seed"],g);let y=r(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],y);let v=r(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);let E=r(e,["temperature"]);E!=null&&u(t,["temperature"],E);let A=r(e,["thinkingConfig"]);A!=null&&u(t,["thinkingConfig"],A);let N=r(e,["topK"]);N!=null&&u(t,["topK"],N);let x=r(e,["topP"]);if(x!=null&&u(t,["topP"],x),r(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function iN(e,t){let n={},i=r(t,["model"]);return i!=null&&u(n,["_url","name"],j(e,i)),n}function oN(e,t){let n={},i=r(t,["model"]);return i!=null&&u(n,["_url","name"],j(e,i)),n}function sN(e){let t={};if(r(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=r(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function lN(e){let t={};if(r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=r(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function rN(e){let t={},n=r(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);let i=r(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),r(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(r(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function aN(e){let t={},n=r(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);let i=r(e,["imageSize"]);i!=null&&u(t,["imageSize"],i);let o=r(e,["personGeneration"]);o!=null&&u(t,["personGeneration"],o);let s=r(e,["outputMimeType"]);s!=null&&u(t,["imageOutputOptions","mimeType"],s);let l=r(e,["outputCompressionQuality"]);return l!=null&&u(t,["imageOutputOptions","compressionQuality"],l),t}function uN(e){let t={},n=r(e,["bytesBase64Encoded"]);n!=null&&u(t,["imageBytes"],Si(n));let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function hT(e){let t={},n=r(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);let i=r(e,["bytesBase64Encoded"]);i!=null&&u(t,["imageBytes"],Si(i));let o=r(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function $a(e){let t={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=r(e,["imageBytes"]);n!=null&&u(t,["bytesBase64Encoded"],Si(n));let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Qt(e){let t={},n=r(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);let i=r(e,["imageBytes"]);i!=null&&u(t,["bytesBase64Encoded"],Si(i));let o=r(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function cN(e,t,n){let i={},o=r(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);let s=r(t,["pageToken"]);n!==void 0&&s!=null&&u(n,["_query","pageToken"],s);let l=r(t,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);let a=r(t,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],aT(e,a)),i}function fN(e,t,n){let i={},o=r(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);let s=r(t,["pageToken"]);n!==void 0&&s!=null&&u(n,["_query","pageToken"],s);let l=r(t,["filter"]);n!==void 0&&l!=null&&u(n,["_query","filter"],l);let a=r(t,["queryBase"]);return n!==void 0&&a!=null&&u(n,["_url","models_url"],aT(e,a)),i}function dN(e,t){let n={},i=r(t,["config"]);return i!=null&&cN(e,i,n),n}function pN(e,t){let n={},i=r(t,["config"]);return i!=null&&fN(e,i,n),n}function mN(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["_self"]);if(o!=null){let s=uT(o);Array.isArray(s)&&(s=s.map(l=>np(l))),u(t,["models"],s)}return t}function hN(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["_self"]);if(o!=null){let s=uT(o);Array.isArray(s)&&(s=s.map(l=>ip(l))),u(t,["models"],s)}return t}function gN(e){let t={},n=r(e,["maskMode"]);n!=null&&u(t,["maskMode"],n);let i=r(e,["segmentationClasses"]);i!=null&&u(t,["maskClasses"],i);let o=r(e,["maskDilation"]);return o!=null&&u(t,["dilation"],o),t}function np(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["displayName"]);i!=null&&u(t,["displayName"],i);let o=r(e,["description"]);o!=null&&u(t,["description"],o);let s=r(e,["version"]);s!=null&&u(t,["version"],s);let l=r(e,["_self"]);l!=null&&u(t,["tunedModelInfo"],DN(l));let a=r(e,["inputTokenLimit"]);a!=null&&u(t,["inputTokenLimit"],a);let c=r(e,["outputTokenLimit"]);c!=null&&u(t,["outputTokenLimit"],c);let f=r(e,["supportedGenerationMethods"]);f!=null&&u(t,["supportedActions"],f);let d=r(e,["temperature"]);d!=null&&u(t,["temperature"],d);let p=r(e,["maxTemperature"]);p!=null&&u(t,["maxTemperature"],p);let m=r(e,["topP"]);m!=null&&u(t,["topP"],m);let h=r(e,["topK"]);h!=null&&u(t,["topK"],h);let S=r(e,["thinking"]);return S!=null&&u(t,["thinking"],S),t}function ip(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["displayName"]);i!=null&&u(t,["displayName"],i);let o=r(e,["description"]);o!=null&&u(t,["description"],o);let s=r(e,["versionId"]);s!=null&&u(t,["version"],s);let l=r(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>bR(m))),u(t,["endpoints"],p)}let a=r(e,["labels"]);a!=null&&u(t,["labels"],a);let c=r(e,["_self"]);c!=null&&u(t,["tunedModelInfo"],kN(c));let f=r(e,["defaultCheckpointId"]);f!=null&&u(t,["defaultCheckpointId"],f);let d=r(e,["checkpoints"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>m)),u(t,["checkpoints"],p)}return t}function yN(e){let t={},n=r(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=r(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=r(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let s=r(e,["fileData"]);s!=null&&u(t,["fileData"],MR(s));let l=r(e,["functionCall"]);l!=null&&u(t,["functionCall"],IR(l));let a=r(e,["functionResponse"]);a!=null&&u(t,["functionResponse"],a);let c=r(e,["inlineData"]);c!=null&&u(t,["inlineData"],nR(c));let f=r(e,["text"]);f!=null&&u(t,["text"],f);let d=r(e,["thought"]);d!=null&&u(t,["thought"],d);let p=r(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);let m=r(e,["videoMetadata"]);return m!=null&&u(t,["videoMetadata"],m),t}function vN(e){let t={},n=r(e,["productImage"]);return n!=null&&u(t,["image"],Qt(n)),t}function SN(e,t){let n={},i=r(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);let o=r(e,["baseSteps"]);t!==void 0&&o!=null&&u(t,["parameters","baseSteps"],o);let s=r(e,["outputGcsUri"]);t!==void 0&&s!=null&&u(t,["parameters","storageUri"],s);let l=r(e,["seed"]);t!==void 0&&l!=null&&u(t,["parameters","seed"],l);let a=r(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&u(t,["parameters","safetySetting"],a);let c=r(e,["personGeneration"]);t!==void 0&&c!=null&&u(t,["parameters","personGeneration"],c);let f=r(e,["addWatermark"]);t!==void 0&&f!=null&&u(t,["parameters","addWatermark"],f);let d=r(e,["outputMimeType"]);t!==void 0&&d!=null&&u(t,["parameters","outputOptions","mimeType"],d);let p=r(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&u(t,["parameters","outputOptions","compressionQuality"],p);let m=r(e,["enhancePrompt"]);t!==void 0&&m!=null&&u(t,["parameters","enhancePrompt"],m);let h=r(e,["labels"]);return t!==void 0&&h!=null&&u(t,["labels"],h),n}function TN(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["source"]);o!=null&&_N(o,n);let s=r(t,["config"]);return s!=null&&SN(s,n),n}function EN(e){let t={},n=r(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Fa(o))),u(t,["generatedImages"],i)}return t}function _N(e,t){let n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=r(e,["personImage"]);t!==void 0&&o!=null&&u(t,["instances[0]","personImage","image"],Qt(o));let s=r(e,["productImages"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>vN(a))),u(t,["instances[0]","productImages"],l)}return n}function CN(e){let t={},n=r(e,["referenceImage"]);n!=null&&u(t,["referenceImage"],Qt(n));let i=r(e,["referenceId"]);i!=null&&u(t,["referenceId"],i);let o=r(e,["referenceType"]);o!=null&&u(t,["referenceType"],o);let s=r(e,["maskImageConfig"]);s!=null&&u(t,["maskImageConfig"],gN(s));let l=r(e,["controlImageConfig"]);l!=null&&u(t,["controlImageConfig"],uR(l));let a=r(e,["styleImageConfig"]);a!=null&&u(t,["styleImageConfig"],a);let c=r(e,["subjectImageConfig"]);return c!=null&&u(t,["subjectImageConfig"],c),t}function gT(e){let t={},n=r(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);let i=r(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);let o=r(e,["contentType"]);return o!=null&&u(t,["contentType"],o),t}function yT(e){let t={},n=r(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);let i=r(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);let o=r(e,["contentType"]);return o!=null&&u(t,["contentType"],o),t}function AN(e){let t={},n=r(e,["category"]);if(n!=null&&u(t,["category"],n),r(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=r(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function xN(e){let t={},n=r(e,["image"]);return n!=null&&u(t,["image"],Qt(n)),t}function wN(e,t){let n={},i=r(e,["mode"]);t!==void 0&&i!=null&&u(t,["parameters","mode"],i);let o=r(e,["maxPredictions"]);t!==void 0&&o!=null&&u(t,["parameters","maxPredictions"],o);let s=r(e,["confidenceThreshold"]);t!==void 0&&s!=null&&u(t,["parameters","confidenceThreshold"],s);let l=r(e,["maskDilation"]);t!==void 0&&l!=null&&u(t,["parameters","maskDilation"],l);let a=r(e,["binaryColorThreshold"]);t!==void 0&&a!=null&&u(t,["parameters","binaryColorThreshold"],a);let c=r(e,["labels"]);return t!==void 0&&c!=null&&u(t,["labels"],c),n}function RN(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["source"]);o!=null&&bN(o,n);let s=r(t,["config"]);return s!=null&&wN(s,n),n}function NN(e){let t={},n=r(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>jR(o))),u(t,["generatedMasks"],i)}return t}function bN(e,t){let n={},i=r(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=r(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],Qt(o));let s=r(e,["scribbleImage"]);return t!==void 0&&s!=null&&u(t,["instances[0]","scribble"],xN(s)),n}function MN(e){let t={},n=r(e,["retrievalConfig"]);n!=null&&u(t,["retrievalConfig"],n);let i=r(e,["functionCallingConfig"]);return i!=null&&u(t,["functionCallingConfig"],DR(i)),t}function IN(e){let t={};if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=r(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=r(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=r(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=r(e,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}let l=r(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],sN(l));let a=r(e,["googleSearch"]);a!=null&&u(t,["googleSearch"],lN(a));let c=r(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=r(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function vT(e){let t={},n=r(e,["retrieval"]);n!=null&&u(t,["retrieval"],n);let i=r(e,["computerUse"]);if(i!=null&&u(t,["computerUse"],i),r(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=r(e,["codeExecution"]);o!=null&&u(t,["codeExecution"],o);let s=r(e,["enterpriseWebSearch"]);s!=null&&u(t,["enterpriseWebSearch"],s);let l=r(e,["functionDeclarations"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>kR(m))),u(t,["functionDeclarations"],p)}let a=r(e,["googleMaps"]);a!=null&&u(t,["googleMaps"],a);let c=r(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],c);let f=r(e,["googleSearchRetrieval"]);f!=null&&u(t,["googleSearchRetrieval"],f);let d=r(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function DN(e){let t={},n=r(e,["baseModel"]);n!=null&&u(t,["baseModel"],n);let i=r(e,["createTime"]);i!=null&&u(t,["createTime"],i);let o=r(e,["updateTime"]);return o!=null&&u(t,["updateTime"],o),t}function kN(e){let t={},n=r(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(t,["baseModel"],n);let i=r(e,["createTime"]);i!=null&&u(t,["createTime"],i);let o=r(e,["updateTime"]);return o!=null&&u(t,["updateTime"],o),t}function UN(e,t){let n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);let o=r(e,["description"]);t!==void 0&&o!=null&&u(t,["description"],o);let s=r(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&u(t,["defaultCheckpointId"],s),n}function LN(e,t){let n={},i=r(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);let o=r(e,["description"]);t!==void 0&&o!=null&&u(t,["description"],o);let s=r(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&u(t,["defaultCheckpointId"],s),n}function PN(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","name"],j(e,i));let o=r(t,["config"]);return o!=null&&UN(o,n),n}function HN(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["config"]);return o!=null&&LN(o,n),n}function GN(e,t){let n={},i=r(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);let o=r(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&u(t,["parameters","safetySetting"],o);let s=r(e,["personGeneration"]);t!==void 0&&s!=null&&u(t,["parameters","personGeneration"],s);let l=r(e,["includeRaiReason"]);t!==void 0&&l!=null&&u(t,["parameters","includeRaiReason"],l);let a=r(e,["outputMimeType"]);t!==void 0&&a!=null&&u(t,["parameters","outputOptions","mimeType"],a);let c=r(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&u(t,["parameters","outputOptions","compressionQuality"],c);let f=r(e,["enhanceInputImage"]);t!==void 0&&f!=null&&u(t,["parameters","upscaleConfig","enhanceInputImage"],f);let d=r(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&u(t,["parameters","upscaleConfig","imagePreservationFactor"],d);let p=r(e,["labels"]);t!==void 0&&p!=null&&u(t,["labels"],p);let m=r(e,["numberOfImages"]);t!==void 0&&m!=null&&u(t,["parameters","sampleCount"],m);let h=r(e,["mode"]);return t!==void 0&&h!=null&&u(t,["parameters","mode"],h),n}function qN(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["_url","model"],j(e,i));let o=r(t,["image"]);o!=null&&u(n,["instances[0]","image"],Qt(o));let s=r(t,["upscaleFactor"]);s!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],s);let l=r(t,["config"]);return l!=null&&GN(l,n),n}function VN(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Fa(s))),u(t,["generatedImages"],o)}return t}function zN(e){let t={},n=r(e,["uri"]);n!=null&&u(t,["uri"],n);let i=r(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],Si(i));let o=r(e,["encoding"]);return o!=null&&u(t,["mimeType"],o),t}function ON(e){let t={},n=r(e,["gcsUri"]);n!=null&&u(t,["uri"],n);let i=r(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],Si(i));let o=r(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function BN(e){let t={},n=r(e,["image"]);n!=null&&u(t,["_self"],Qt(n));let i=r(e,["maskMode"]);return i!=null&&u(t,["maskMode"],i),t}function FN(e){let t={},n=r(e,["image"]);n!=null&&u(t,["image"],$a(n));let i=r(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function $N(e){let t={},n=r(e,["image"]);n!=null&&u(t,["image"],Qt(n));let i=r(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function ST(e){let t={},n=r(e,["uri"]);n!=null&&u(t,["uri"],n);let i=r(e,["videoBytes"]);i!=null&&u(t,["encodedVideo"],Si(i));let o=r(e,["mimeType"]);return o!=null&&u(t,["encoding"],o),t}function TT(e){let t={},n=r(e,["uri"]);n!=null&&u(t,["gcsUri"],n);let i=r(e,["videoBytes"]);i!=null&&u(t,["bytesBase64Encoded"],Si(i));let o=r(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function YN(e,t){let n={},i=r(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["displayName"],i),n}function JN(e){let t={},n=r(e,["config"]);return n!=null&&YN(n,t),t}function KN(e,t){let n={},i=r(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function XN(e){let t={},n=r(e,["name"]);n!=null&&u(t,["_url","name"],n);let i=r(e,["config"]);return i!=null&&KN(i,t),t}function QN(e){let t={},n=r(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function ZN(e,t){let n={},i=r(e,["customMetadata"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["customMetadata"],s)}let o=r(e,["chunkingConfig"]);return t!==void 0&&o!=null&&u(t,["chunkingConfig"],o),n}function WN(e){let t={},n=r(e,["name"]);n!=null&&u(t,["name"],n);let i=r(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=r(e,["done"]);o!=null&&u(t,["done"],o);let s=r(e,["error"]);s!=null&&u(t,["error"],s);let l=r(e,["response"]);return l!=null&&u(t,["response"],eb(l)),t}function jN(e){let t={},n=r(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);let i=r(e,["fileName"]);i!=null&&u(t,["fileName"],i);let o=r(e,["config"]);return o!=null&&ZN(o,t),t}function eb(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["parent"]);i!=null&&u(t,["parent"],i);let o=r(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function tb(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function nb(e){let t={},n=r(e,["config"]);return n!=null&&tb(n,t),t}function ib(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["fileSearchStores"],s)}return t}function ET(e,t){let n={},i=r(e,["mimeType"]);t!==void 0&&i!=null&&u(t,["mimeType"],i);let o=r(e,["displayName"]);t!==void 0&&o!=null&&u(t,["displayName"],o);let s=r(e,["customMetadata"]);if(t!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(c=>c)),u(t,["customMetadata"],a)}let l=r(e,["chunkingConfig"]);return t!==void 0&&l!=null&&u(t,["chunkingConfig"],l),n}function ob(e){let t={},n=r(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);let i=r(e,["config"]);return i!=null&&ET(i,t),t}function sb(e){let t={},n=r(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}var lb="Content-Type",rb="X-Server-Timeout",ab="User-Agent",op="x-goog-api-client",ub="1.38.0",cb=`google-genai-sdk/${ub}`,fb="v1beta1",db="v1beta",sp=class{constructor(t){var n,i,o;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let a=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!a?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:fb}else{if(!this.clientOptions.apiKey)throw new Ji({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:db,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){let o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ld.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let i=this.shouldPrependVertexProjectPath(t,n),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(let[l,a]of Object.entries(t.queryParams))o.searchParams.append(l,String(a));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),t.abortSignal),this.unaryApiCall(o,s,t.httpMethod)}patchHttpOptions(t,n){let i=JSON.parse(JSON.stringify(t));for(let[o,s]of Object.entries(n))typeof s=="object"?i[o]=Object.assign(Object.assign({},i[o]),s):s!==void 0&&(i[o]=s);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let i=this.shouldPrependVertexProjectPath(t,n),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),t.abortSignal),this.streamApiCall(o,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,o){if(n&&n.timeout||o){let s=new AbortController,l=s.signal;if(n.timeout&&n?.timeout>0){let a=setTimeout(()=>s.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),t.signal=l}return n&&n.extraBody!==null&&pb(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await VS(o),new yl(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await VS(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return Yt(this,arguments,function*(){var i;let o=(i=t?.body)===null||i===void 0?void 0:i.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="",a="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:f,value:d}=yield P(o.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=s.decode(d,{stream:!0});try{let S=JSON.parse(p);if("error"in S){let T=JSON.parse(JSON.stringify(S.error)),_=T.status,g=T.code,y=`got status: ${_}. ${JSON.stringify(S)}`;if(g>=400&&g<600)throw new Ji({message:y,status:g})}}catch(S){if(S.name==="ApiError")throw S}l+=p;let m=-1,h=0;for(;;){m=-1,h=0;for(let _ of c){let g=l.indexOf(_);g!==-1&&(m===-1||g<m)&&(m=g,h=_.length)}if(m===-1)break;let S=l.substring(0,m);l=l.substring(m+h);let T=S.trim();if(T.startsWith(a)){let _=T.substring(a.length).trim();try{let g=new Response(_,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield P(new yl(g))}catch(g){throw new Error(`exception parsing stream chunk ${_}. ${g}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){let t={},n=cb+" "+this.clientOptions.userAgentExtra;return t[ab]=n,t[op]=n,t[lb]="application/json",t}async getHeadersInternal(t,n){let i=new Headers;if(t&&t.headers){for(let[o,s]of Object.entries(t.headers))i.append(o,s);t.timeout&&t.timeout>0&&i.append(rb,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;let o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);let s=this.clientOptions.uploader,l=await s.stat(t);o.sizeBytes=String(l.size);let a=(i=n?.mimeType)!==null&&i!==void 0?i:l.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=a;let c={file:o},f=this.getFileName(t),d=D("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n?.httpOptions);return s.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,i){var o;let s=this.clientOptions.uploader,l=await s.stat(n),a=String(l.size),c=(o=i?.mimeType)!==null&&o!==void 0?o:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let f=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),p={};i!=null&&ET(i,p);let m=await this.fetchUploadUrl(f,a,c,d,p,i?.httpOptions);return s.uploadToFileSearchStore(n,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,o,s,l){var a;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};let f=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!f?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let d=(a=f?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}};async function VS(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){let n=e.status,i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};let o=JSON.stringify(i);throw n>=400&&n<600?new Ji({message:o,status:n}):new Error(o)}}function pb(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{let s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,l){let a=Object.assign({},s);for(let c in l)if(Object.prototype.hasOwnProperty.call(l,c)){let f=l[c],d=a[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?a[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),a[c]=f)}return a}let o=i(n,t);e.body=JSON.stringify(o)}var mb="mcp_used/unknown",hb=!1;function _T(e){for(let t of e)if(gb(t)||typeof t=="object"&&"inputSchema"in t)return!0;return hb}function CT(e){var t;let n=(t=e[op])!==null&&t!==void 0?t:"";e[op]=(n+` ${mb}`).trimStart()}function gb(e){return e!==null&&typeof e=="object"&&e instanceof Tl}function yb(e){return Yt(this,arguments,function*(n,i=100){let o,s=0;for(;s<i;){let l=yield P(n.listTools({cursor:o}));for(let a of l.tools)yield yield P(a),s++;if(!l.nextCursor)break;o=l.nextCursor}})}var Tl=class{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Tl(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;let s={},l=[];for(let d of this.mcpClients)try{for(var a=!0,c=(n=void 0,Jt(yb(d))),f;f=await c.next(),t=f.done,!t;a=!0){o=f.value,a=!1;let p=o;l.push(p);let m=p.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=d}}catch(p){n={error:p}}finally{try{!a&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),ex(this.mcpTools,this.config)}async callTool(t){await this.initialize();let n=[];for(let i of t)if(i.name in this.functionNameToMcpClient){let o=this.functionNameToMcpClient[i.name],s;this.config.timeout&&(s={timeout:this.config.timeout});let l=await o.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}};async function vb(e,t,n){let i=new Kd,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),t(i)}var lp=class{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=Tb(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${a}`,f=()=>{},d=new Promise(v=>{f=v}),p=t.callbacks,m=function(){f({})},h=this.apiClient,S={onopen:m,onmessage:v=>{vb(h,p.onmessage,v)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=p?.onclose)!==null&&i!==void 0?i:function(v){}},T=this.webSocketFactory.create(c,Sb(l),S);T.connect(),await d;let y={setup:{model:j(this.apiClient,t.model)}};return T.send(JSON.stringify(y)),new rp(T,this.apiClient)}},rp=class{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=Yw(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});let n=$w(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){let n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Qo.PLAY)}pause(){this.sendPlaybackControl(Qo.PAUSE)}stop(){this.sendPlaybackControl(Qo.STOP)}resetContext(){this.sendPlaybackControl(Qo.RESET_CONTEXT)}close(){this.conn.close()}};function Sb(e){let t={};return e.forEach((n,i)=>{t[i]=n}),t}function Tb(e){let t=new Headers;for(let[n,i]of Object.entries(e))t.append(n,i);return t}var Eb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _b(e,t,n){let i=new Jd,o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;let s=JSON.parse(o);if(e.isVertexAI()){let l=Xw(s);Object.assign(i,l)}else Object.assign(i,s);t(i)}var ap=class{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new lp(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,s,l,a;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),d,p=this.apiClient.getHeaders();t.config&&t.config.tools&&_T(t.config.tools)&&CT(p);let m=xb(p);if(this.apiClient.isVertexAI()){let C=this.apiClient.getProject(),R=this.apiClient.getLocation(),z=this.apiClient.getApiKey(),Ae=!!C&&!!R||!!z;this.apiClient.getCustomBaseUrl()&&!Ae?d=c:(d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,d))}else{let C=this.apiClient.getApiKey(),R="BidiGenerateContent",z="key";C?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",z="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${R}?${z}=${C}`}let h=()=>{},S=new Promise(C=>{h=C}),T=t.callbacks,_=function(){var C;(C=T?.onopen)===null||C===void 0||C.call(T),h({})},g=this.apiClient,y={onopen:_,onmessage:C=>{_b(g,T.onmessage,C)},onerror:(n=T?.onerror)!==null&&n!==void 0?n:function(C){},onclose:(i=T?.onclose)!==null&&i!==void 0?i:function(C){}},v=this.webSocketFactory.create(d,Ab(m),y);v.connect(),await S;let E=j(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){let C=this.apiClient.getProject(),R=this.apiClient.getLocation();C&&R&&(E=`projects/${C}/locations/${R}/`+E)}let A={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[jo.AUDIO]}:t.config.responseModalities=[jo.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let N=(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[],x=[];for(let C of N)if(this.isCallableTool(C)){let R=C;x.push(await R.tool())}else x.push(C);x.length>0&&(t.config.tools=x);let I={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=Fw(this.apiClient,I):A=Bw(this.apiClient,I),delete A.config,v.send(JSON.stringify(A)),new up(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}},Cb={turnComplete:!0},up=class{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ot(n.turns),t.isVertexAI()||(i=i.map(o=>Ba(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(let s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(Eb)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},Cb),t);let n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Kw(t)}:n={realtimeInput:Jw(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function Ab(e){let t={};return e.forEach((n,i)=>{t[i]=n}),t}function xb(e){let t=new Headers;for(let[n,i]of Object.entries(e))t.append(n,i);return t}var zS=10;function OS(e){var t,n,i;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(let l of(n=e?.tools)!==null&&n!==void 0?n:[])if(Wo(l)){o=!0;break}if(!o)return!0;let s=(i=e?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Wo(e){return"callTool"in e&&typeof e.callTool=="function"}function wb(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Wo(o)))!==null&&i!==void 0?i:!1}function BS(e){var t;let n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,o)=>{if(Wo(i))return;let s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function FS(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}var cp=class extends Kt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,s,l,a;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!wb(n)||OS(n.config))return await this.generateContentInternal(c);let f=BS(n);if(f.length>0){let T=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${T}.`)}let d,p,m=Ot(c.contents),h=(s=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:zS,S=0;for(;S<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){let T=d.candidates[0].content,_=[];for(let g of(a=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Wo(g)){let v=await g.callTool(d.functionCalls);_.push(...v)}S++,p={role:"user",parts:_},c.contents=Ot(c.contents),c.contents.push(T),c.contents.push(p),FS(c.config)&&(m.push(T),m.push(p))}return FS(c.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async n=>{var i,o,s,l,a;if(this.maybeMoveToResponseJsonSchem(n),OS(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let c=BS(n);if(c.length>0){let p=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let f=(s=(o=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(a=(l=n?.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let s,l=[];if(i?.generatedImages)for(let c of i.generatedImages)c&&c?.safetyAttributes&&((o=c?.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=c?.safetyAttributes:l.push(c);let a;return s?a={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async n=>{var i;let l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Pn(Ln.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(l),l)},this.editImage=async n=>{let i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));let o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,s,l,a,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(((i=n.video)===null||i===void 0?void 0:i.uri)&&((o=n.video)===null||o===void 0?void 0:o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0?void 0:l.uri)&&((c=(a=n.source)===null||a===void 0?void 0:a.video)===null||c===void 0?void 0:c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,o;let s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;let l=await Promise.all(s.map(async c=>Wo(c)?await c.tool():c)),a={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(a.config.tools=l,t.config&&t.config.tools&&_T(t.config.tools)){let c=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{},f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),CT(f),a.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return a}async initAfcToolsMap(t){var n,i,o;let s=new Map;for(let l of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Wo(l)){let a=l,c=await a.tool();for(let f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,a)}}return s}async processAfcStream(t){var n,i,o;let s=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:zS,l=!1,a=0,c=await this.initAfcToolsMap(t);return function(f,d,p){return Yt(this,arguments,function*(){for(var m,h,S,T,_,g;a<s;){l&&(a++,l=!1);let A=yield P(f.processParamsMaybeAddMcpUsage(p)),N=yield P(f.generateContentStreamInternal(A)),x=[],I=[];try{for(var y=!0,v=(h=void 0,Jt(N)),E;E=yield P(v.next()),m=E.done,!m;y=!0){T=E.value,y=!1;let C=T;if(yield yield P(C),C.candidates&&((_=C.candidates[0])===null||_===void 0?void 0:_.content)){I.push(C.candidates[0].content);for(let R of(g=C.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(a<s&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(R.functionCall.name)){let z=yield P(d.get(R.functionCall.name).callTool([R.functionCall]));x.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(C){h={error:C}}finally{try{!y&&!m&&(S=v.return)&&(yield P(S.call(v)))}finally{if(h)throw h.error}}if(x.length>0){l=!0;let C=new Yi;C.candidates=[{content:{role:"user",parts:x}}],yield yield P(C);let R=[];R.push(...I),R.push({role:"user",parts:x});let z=Ot(p.contents).concat(R);p.contents=z}else break}})}(this,c,t)}async generateContentInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=HS(this.apiClient,t);return a=D("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=qS(d),m=new Yi;return Object.assign(m,p),m})}else{let f=PS(this.apiClient,t);return a=D("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=GS(d),m=new Yi;return Object.assign(m,p),m})}}async generateContentStreamInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=HS(this.apiClient,t);return a=D("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Yt(this,arguments,function*(){var m,h,S,T;try{for(var _=!0,g=Jt(p),y;y=yield P(g.next()),m=y.done,!m;_=!0){T=y.value,_=!1;let v=T,E=qS(yield P(v.json()));E.sdkHttpResponse={headers:v.headers};let A=new Yi;Object.assign(A,E),yield yield P(A)}}catch(v){h={error:v}}finally{try{!_&&!m&&(S=g.return)&&(yield P(S.call(g)))}finally{if(h)throw h.error}}})})}else{let f=PS(this.apiClient,t);return a=D("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(p){return Yt(this,arguments,function*(){var m,h,S,T;try{for(var _=!0,g=Jt(p),y;y=yield P(g.next()),m=y.done,!m;_=!0){T=y.value,_=!1;let v=T,E=GS(yield P(v.json()));E.sdkHttpResponse={headers:v.headers};let A=new Yi;Object.assign(A,E),yield yield P(A)}}catch(v){h={error:v}}finally{try{!_&&!m&&(S=g.return)&&(yield P(S.call(g)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=wR(this.apiClient,t);return a=D("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=NR(d),m=new ya;return Object.assign(m,p),m})}else{let f=xR(this.apiClient,t);return a=D("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=RR(d),m=new ya;return Object.assign(m,p),m})}}async generateImagesInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=qR(this.apiClient,t);return a=D("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=zR(d),m=new va;return Object.assign(m,p),m})}else{let f=GR(this.apiClient,t);return a=D("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=VR(d),m=new va;return Object.assign(m,p),m})}}async editImageInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=ER(this.apiClient,t);return s=D("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=_R(c),d=new Pd;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=qN(this.apiClient,t);return s=D("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=VN(c),d=new Hd;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=TN(this.apiClient,t);return s=D("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=EN(c),d=new Gd;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=RN(this.apiClient,t);return s=D("{model}:predict",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=NN(c),d=new qd;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=oN(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>ip(d))}else{let f=iN(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>np(d))}}async listInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=pN(this.apiClient,t);return a=D("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=hN(d),m=new Sa;return Object.assign(m,p),m})}else{let f=dN(this.apiClient,t);return a=D("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=mN(d),m=new Sa;return Object.assign(m,p),m})}}async update(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=HN(this.apiClient,t);return a=D("{model}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>ip(d))}else{let f=PN(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>np(d))}}async delete(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=yR(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=SR(d),m=new Ta;return Object.assign(m,p),m})}else{let f=gR(this.apiClient,t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=vR(d),m=new Ta;return Object.assign(m,p),m})}}async countTokens(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=pR(this.apiClient,t);return a=D("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=hR(d),m=new Ea;return Object.assign(m,p),m})}else{let f=dR(this.apiClient,t);return a=D("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=mR(d),m=new Ea;return Object.assign(m,p),m})}}async computeTokens(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=sR(this.apiClient,t);return s=D("{model}:computeTokens",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=lR(c),d=new Vd;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=JR(this.apiClient,t);return a=D("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{let p=$R(d),m=new es;return Object.assign(m,p),m})}else{let f=YR(this.apiClient,t);return a=D("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>{let p=FR(d),m=new es;return Object.assign(m,p),m})}}};var fp=class extends Kt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){let n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],s;i&&"httpOptions"in i&&(s=i.httpOptions);let l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){let n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],s;i&&"httpOptions"in i&&(s=i.httpOptions);let l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=zA(t);return a=D("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l}else{let f=VA(t);return a=D("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=kA(t);return s=D("{resourceName}:fetchPredictOperation",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}};function Rb(e){let t={},n=r(e,["data"]);if(n!=null&&u(t,["data"],n),r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Nb(e){let t={},n=r(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Hb(s))),u(t,["parts"],o)}let i=r(e,["role"]);return i!=null&&u(t,["role"],i),t}function bb(e,t,n){let i={},o=r(t,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);let s=r(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&u(n,["newSessionExpireTime"],s);let l=r(t,["uses"]);n!==void 0&&l!=null&&u(n,["uses"],l);let a=r(t,["liveConnectConstraints"]);n!==void 0&&a!=null&&u(n,["bidiGenerateContentSetup"],Pb(e,a));let c=r(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function Mb(e,t){let n={},i=r(t,["config"]);return i!=null&&u(n,["config"],bb(e,i,n)),n}function Ib(e){let t={};if(r(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=r(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=r(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Db(e){let t={},n=r(e,["id"]);n!=null&&u(t,["id"],n);let i=r(e,["args"]);i!=null&&u(t,["args"],i);let o=r(e,["name"]);if(o!=null&&u(t,["name"],o),r(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kb(e){let t={};if(r(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=r(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function Ub(e){let t={};if(r(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=r(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function Lb(e,t){let n={},i=r(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);let o=r(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);let s=r(e,["temperature"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","temperature"],s);let l=r(e,["topP"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","topP"],l);let a=r(e,["topK"]);t!==void 0&&a!=null&&u(t,["setup","generationConfig","topK"],a);let c=r(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);let f=r(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);let d=r(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);let p=r(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],Ip(p));let m=r(e,["thinkingConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","thinkingConfig"],m);let h=r(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);let S=r(e,["systemInstruction"]);t!==void 0&&S!=null&&u(t,["setup","systemInstruction"],Nb(We(S)));let T=r(e,["tools"]);if(t!==void 0&&T!=null){let N=ss(T);Array.isArray(N)&&(N=N.map(x=>qb(os(x)))),u(t,["setup","tools"],N)}let _=r(e,["sessionResumption"]);t!==void 0&&_!=null&&u(t,["setup","sessionResumption"],Gb(_));let g=r(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);let y=r(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);let v=r(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);let E=r(e,["contextWindowCompression"]);t!==void 0&&E!=null&&u(t,["setup","contextWindowCompression"],E);let A=r(e,["proactivity"]);if(t!==void 0&&A!=null&&u(t,["setup","proactivity"],A),r(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Pb(e,t){let n={},i=r(t,["model"]);i!=null&&u(n,["setup","model"],j(e,i));let o=r(t,["config"]);return o!=null&&u(n,["config"],Lb(o,n)),n}function Hb(e){let t={},n=r(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=r(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=r(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let s=r(e,["fileData"]);s!=null&&u(t,["fileData"],Ib(s));let l=r(e,["functionCall"]);l!=null&&u(t,["functionCall"],Db(l));let a=r(e,["functionResponse"]);a!=null&&u(t,["functionResponse"],a);let c=r(e,["inlineData"]);c!=null&&u(t,["inlineData"],Rb(c));let f=r(e,["text"]);f!=null&&u(t,["text"],f);let d=r(e,["thought"]);d!=null&&u(t,["thought"],d);let p=r(e,["thoughtSignature"]);p!=null&&u(t,["thoughtSignature"],p);let m=r(e,["videoMetadata"]);return m!=null&&u(t,["videoMetadata"],m),t}function Gb(e){let t={},n=r(e,["handle"]);if(n!=null&&u(t,["handle"],n),r(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function qb(e){let t={};if(r(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=r(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=r(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=r(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),r(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=r(e,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>p)),u(t,["functionDeclarations"],d)}let l=r(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],kb(l));let a=r(e,["googleSearch"]);a!=null&&u(t,["googleSearch"],Ub(a));let c=r(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=r(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function Vb(e){let t=[];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){let o=Object.keys(i).map(s=>`${n}.${s}`);t.push(...o)}else t.push(n)}return t.join(",")}function zb(e,t){let n=null,i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){let s=i.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;let o=e.fieldMask;if(n){let s=Vb(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)s?e.fieldMask=s:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){let l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];o.length>0&&(a=o.map(f=>l.includes(f)?`generationConfig.${f}`:f));let c=[];s&&c.push(s),a.length>0&&c.push(...a),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}var dp=class extends Kt{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=Mb(this.apiClient,t);s=D("auth_tokens",a._url),l=a._query,delete a.config,delete a._url,delete a._query;let c=zb(a,t.config);return o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}};function Ob(e,t){let n={},i=r(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function Bb(e){let t={},n=r(e,["name"]);n!=null&&u(t,["_url","name"],n);let i=r(e,["config"]);return i!=null&&Ob(i,t),t}function Fb(e){let t={},n=r(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function $b(e,t){let n={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=r(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function Yb(e){let t={},n=r(e,["parent"]);n!=null&&u(t,["_url","parent"],n);let i=r(e,["config"]);return i!=null&&$b(i,t),t}function Jb(e){let t={},n=r(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=r(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=r(e,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),u(t,["documents"],s)}return t}var pp=class extends Kt{constructor(t){super(),this.apiClient=t,this.list=async n=>new Pn(Ln.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Fb(t);return s=D("{name}",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=Bb(t);o=D("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Yb(t);return s=D("{parent}/documents",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=Jb(c),d=new zd;return Object.assign(d,f),d})}}};var mp=class extends Kt{constructor(t,n=new pp(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Pn(Ln.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=JN(t);return s=D("fileSearchStores",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=QN(t);return s=D("{name}",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=XN(t);o=D("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=nb(t);return s=D("fileSearchStores",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=ib(c),d=new Od;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=ob(t);return s=D("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=sb(c),d=new Bd;return Object.assign(d,f),d})}}async importFile(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=jN(t);return s=D("{file_search_store_name}:importFile",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=WN(c),d=new vl;return Object.assign(d,f),d})}}};var AT=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return AT=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))},Kb=()=>AT();function hp(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}var gp=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){let t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};var ht=class extends Error{},Ke=class extends ht{constructor(t,n,i,o){super(`${Ke.makeMessage(t,n,i)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,i){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,i,o){if(!t||!o)return new ts({message:i,cause:gp(n)});let s=n;return t===400?new Ma(t,s,i,o):t===401?new Ia(t,s,i,o):t===403?new Da(t,s,i,o):t===404?new ka(t,s,i,o):t===409?new Ua(t,s,i,o):t===422?new La(t,s,i,o):t===429?new Pa(t,s,i,o):t>=500?new Ha(t,s,i,o):new Ke(t,s,i,o)}},El=class extends Ke{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},ts=class extends Ke{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},ba=class extends ts{constructor({message:t}={}){super({message:t??"Request timed out."})}},Ma=class extends Ke{},Ia=class extends Ke{},Da=class extends Ke{},ka=class extends Ke{},Ua=class extends Ke{},La=class extends Ke{},Pa=class extends Ke{},Ha=class extends Ke{};var Xb=/^[a-z][a-z0-9+.-]*:/i,Qb=e=>Xb.test(e),yp=e=>(yp=Array.isArray,yp(e)),Zb=yp,Wb=Zb,$S=Wb;function jb(e){if(!e)return!0;for(let t in e)return!1;return!0}function e1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var t1=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ht(`${e} must be an integer`);if(t<0)throw new ht(`${e} must be a positive integer`);return t},n1=e=>{try{return JSON.parse(e)}catch{return}};var i1=e=>new Promise(t=>setTimeout(t,e));var Xo="0.0.1";function o1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var s1=()=>{var e,t,n,i,o;let s=o1();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":JS(Deno.build.os),"X-Stainless-Arch":YS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":JS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":YS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};let l=l1();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function l1(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:n}of e){let i=n.exec(navigator.userAgent);if(i){let o=i[1]||0,s=i[2]||0,l=i[3]||0;return{browser:t,version:`${o}.${s}.${l}`}}}return null}var YS=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",JS=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),ca,r1=()=>ca??(ca=s1());function a1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function xT(...e){let t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function u1(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return xT({start(){},async pull(n){let{done:i,value:o}=await t.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function wT(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){let n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function c1(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}let i=e.getReader(),o=i.cancel();i.releaseLock(),await o}var f1=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});var RT=()=>{var e;if(typeof File>"u"){let{process:t}=globalThis,n=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Id(e,t,n){return RT(),new File(e,t??"unknown_file",n)}function d1(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}var p1=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";var NT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",m1=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&NT(e),h1=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function g1(e,t,n){if(RT(),e=await e,m1(e))return e instanceof File?e:Id([await e.arrayBuffer()],e.name);if(h1(e)){let o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Id(await vp(o),t,n)}let i=await vp(e);if(t||(t=d1(e)),!n?.type){let o=i.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Id(i,t,n)}async function vp(e){var t,n,i,o,s;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(NT(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(p1(e))try{for(var a=!0,c=Jt(e),f;f=await c.next(),t=f.done,!t;a=!0){o=f.value,a=!1;let d=o;l.push(...await vp(d))}}catch(d){n={error:d}}finally{try{!a&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{let d=(s=e?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${y1(e)}`)}return l}function y1(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}var Ga=class{constructor(t){this._client=t}};Ga._key=[];function bT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var KS=Object.freeze(Object.create(null)),v1=(e=bT)=>function(n,...i){if(n.length===1)return n[0];let o=!1,s=[],l=n.reduce((d,p,m)=>{var h,S,T;/[?#]/.test(p)&&(o=!0);let _=i[m],g=(o?encodeURIComponent:e)(""+_);return m!==i.length&&(_==null||typeof _=="object"&&_.toString===((T=Object.getPrototypeOf((S=Object.getPrototypeOf((h=_.hasOwnProperty)!==null&&h!==void 0?h:KS))!==null&&S!==void 0?S:KS))===null||T===void 0?void 0:T.toString))&&(g=_+"",s.push({start:d.length+p.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),d+p+(m===i.length?"":g)},""),a=l.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,f;for(;(f=c.exec(a))!==null;)s.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(s.sort((d,p)=>d.start-p.start),s.length>0){let d=0,p=s.reduce((m,h)=>{let S=" ".repeat(h.start-d),T="^".repeat(h.length);return d=h.start+h.length,m+S+T},"");throw new ht(`Path parameters result in path with invalid segments:
${s.map(m=>m.error).join(`
`)}
${l}
${p}`)}return l},fa=v1(bT);var qa=class extends Ga{create(t,n){var i;let{api_version:o=this._client.apiVersion}=t,s=Na(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new ht("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ht("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(fa`/${o}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){let{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(fa`/${o}/interactions/${t}`,i)}cancel(t,n={},i){let{api_version:o=this._client.apiVersion}=n??{};return this._client.post(fa`/${o}/interactions/${t}/cancel`,i)}get(t,n={},i){var o;let s=n??{},{api_version:l=this._client.apiVersion}=s,a=Na(s,["api_version"]);return this._client.get(fa`/${l}/interactions/${t}`,Object.assign(Object.assign({query:a},i),{stream:(o=n?.stream)!==null&&o!==void 0?o:!1}))}};qa._key=Object.freeze(["interactions"]);var Va=class extends qa{};function S1(e){let t=0;for(let o of e)t+=o.length;let n=new Uint8Array(t),i=0;for(let o of e)n.set(o,i),i+=o.length;return n}var da;function Dp(e){let t;return(da??(t=new globalThis.TextEncoder,da=t.encode.bind(t)))(e)}var pa;function XS(e){let t;return(pa??(t=new globalThis.TextDecoder,pa=t.decode.bind(t)))(e)}var ns=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];let n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Dp(t):t;this.buffer=S1([this.buffer,n]);let i=[],o;for(;(o=T1(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(XS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let s=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,l=XS(this.buffer.subarray(0,s));i.push(l),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};ns.NEWLINE_CHARS=new Set([`
`,"\r"]);ns.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function T1(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function E1(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}var za={off:0,error:200,warn:300,info:400,debug:500},QS=(e,t,n)=>{if(!!e){if(e1(za,e))return e;it(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(za))}`)}};function gl(){}function ma(e,t,n){return!t||za[e]>za[n]?gl:t[e].bind(t)}var _1={error:gl,warn:gl,info:gl,debug:gl},ZS=new WeakMap;function it(e){var t;let n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return _1;let o=ZS.get(n);if(o&&o[0]===i)return o[1];let s={error:ma("error",n,i),warn:ma("warn",n,i),info:ma("info",n,i),debug:ma("debug",n,i)};return ZS.set(n,[i,s]),s}var $i=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var vi=class{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let o=!1,s=i?it(i):console;function l(){return Yt(this,arguments,function*(){var c,f,d,p;if(o)throw new ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let m=!1;try{try{for(var h=!0,S=Jt(C1(t,n)),T;T=yield P(S.next()),c=T.done,!c;h=!0){p=T.value,h=!1;let _=p;if(!m)if(_.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield P(JSON.parse(_.data))}catch(g){throw s.error("Could not parse message into JSON:",_.data),s.error("From chunk:",_.raw),g}}}catch(_){f={error:_}}finally{try{!h&&!c&&(d=S.return)&&(yield P(d.call(S)))}finally{if(f)throw f.error}}m=!0}catch(_){if(hp(_))return yield P(void 0);throw _}finally{m||n.abort()}})}return new vi(l,n,i)}static fromReadableStream(t,n,i){let o=!1;function s(){return Yt(this,arguments,function*(){var c,f,d,p;let m=new ns,h=wT(t);try{for(var S=!0,T=Jt(h),_;_=yield P(T.next()),c=_.done,!c;S=!0){p=_.value,S=!1;let g=p;for(let y of m.decode(g))yield yield P(y)}}catch(g){f={error:g}}finally{try{!S&&!c&&(d=T.return)&&(yield P(d.call(T)))}finally{if(f)throw f.error}}for(let g of m.flush())yield yield P(g)})}function l(){return Yt(this,arguments,function*(){var c,f,d,p;if(o)throw new ht("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let m=!1;try{try{for(var h=!0,S=Jt(s()),T;T=yield P(S.next()),c=T.done,!c;h=!0){p=T.value,h=!1;let _=p;m||_&&(yield yield P(JSON.parse(_)))}}catch(_){f={error:_}}finally{try{!h&&!c&&(d=S.return)&&(yield P(d.call(S)))}finally{if(f)throw f.error}}m=!0}catch(_){if(hp(_))return yield P(void 0);throw _}finally{m||n.abort()}})}return new vi(l,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],n=[],i=this.iterator(),o=s=>({next:()=>{if(s.length===0){let l=i.next();t.push(l),n.push(l)}return s.shift()}});return[new vi(()=>o(t),this.controller,this.client),new vi(()=>o(n),this.controller,this.client)]}toReadableStream(){let t=this,n;return xT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{let{value:o,done:s}=await n.next();if(s)return i.close();let l=Dp(JSON.stringify(o)+`
`);i.enqueue(l)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function C1(e,t){return Yt(this,arguments,function*(){var i,o,s,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ht("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ht("Attempted to iterate over a response with no body");let a=new Sp,c=new ns,f=wT(e.body);try{for(var d=!0,p=Jt(A1(f)),m;m=yield P(p.next()),i=m.done,!i;d=!0){l=m.value,d=!1;let h=l;for(let S of c.decode(h)){let T=a.decode(S);T&&(yield yield P(T))}}}catch(h){o={error:h}}finally{try{!d&&!i&&(s=p.return)&&(yield P(s.call(p)))}finally{if(o)throw o.error}}for(let h of c.flush()){let S=a.decode(h);S&&(yield yield P(S))}})}function A1(e){return Yt(this,arguments,function*(){var n,i,o,s;let l=new Uint8Array;try{for(var a=!0,c=Jt(e),f;f=yield P(c.next()),n=f.done,!n;a=!0){s=f.value,a=!1;let d=s;if(d==null)continue;let p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Dp(d):d,m=new Uint8Array(l.length+p.length);m.set(l),m.set(p,l.length),l=m;let h;for(;(h=E1(l))!==-1;)yield yield P(l.slice(0,h)),l=l.slice(h)}}catch(d){i={error:d}}finally{try{!a&&!n&&(o=c.return)&&(yield P(o.call(c)))}finally{if(i)throw i.error}}l.length>0&&(yield yield P(l))})}var Sp=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,o]=x1(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function x1(e,t){let n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function w1(e,t){let{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:s}=t,l=await(async()=>{var a;if(t.options.stream)return it(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):vi.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;let c=n.headers.get("content-type"),f=(a=c?.split(";")[0])===null||a===void 0?void 0:a.trim();return f?.includes("application/json")||f?.endsWith("+json")?await n.json():await n.text()})();return it(e).debug(`[${i}] response parsed`,$i({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}var _l=class extends Promise{constructor(t,n,i=w1){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new _l(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};var MT=Symbol("brand.privateNullableHeaders");function*R1(e){if(!e)return;if(MT in e){let{values:i,nulls:o}=e;yield*i.entries();for(let s of o)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():$S(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){let o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");let s=$S(i[1])?i[1]:[i[1]],l=!1;for(let a of s)a!==void 0&&(t&&!l&&(l=!0,yield[o,null]),yield[o,a])}}var hl=e=>{let t=new Headers,n=new Set;for(let i of e){let o=new Set;for(let[s,l]of R1(i)){let a=s.toLowerCase();o.has(a)||(t.delete(s),o.add(a)),l===null?(t.delete(s),n.add(a)):(t.append(s,l),n.delete(a))}}return{[MT]:!0,values:t,nulls:n}};var Dd=e=>{var t,n,i,o,s,l;if(typeof globalThis.process<"u")return(i=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||s===void 0?void 0:s.call(o,e))===null||l===void 0?void 0:l.trim()};var IT,is=class{constructor(t){var n,i,o,s,l,a,c,{baseURL:f=Dd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Dd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,m=Na(t,["baseURL","apiKey","apiVersion"]);let h=Object.assign(Object.assign({apiKey:d,apiVersion:p},m),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(i=h.timeout)!==null&&i!==void 0?i:is.DEFAULT_TIMEOUT,this.logger=(o=h.logger)!==null&&o!==void 0?o:console;let S="warn";this.logLevel=S,this.logLevel=(l=(s=QS(h.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:QS(Dd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=h.fetchOptions,this.maxRetries=(a=h.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:a1(),this.encoder=f1,this._options=h,this.apiKey=d,this.apiVersion=p,this.clientAdapter=h.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){let n=hl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return hl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return hl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ht(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Xo}`}defaultIdempotencyKey(){return`stainless-node-retry-${Kb()}`}makeStatusError(t,n,i,o){return Ke.generate(t,n,i,o)}buildURL(t,n,i){let o=!this.baseURLOverridden()&&i||this.baseURL,s=Qb(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return jb(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){let n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new _l(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var o,s,l;let a=await t,c=(o=a.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(a);let{req:f,url:d,timeout:p}=await this.buildRequest(a,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:a});let m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=i===void 0?"":`, retryOf: ${i}`,S=Date.now();if(it(this).debug(`[${m}] sending request`,$i({retryOfRequestLogID:i,method:a.method,url:d,options:a,headers:f.headers})),!((s=a.signal)===null||s===void 0)&&s.aborted)throw new El;let T=new AbortController,_=await this.fetchWithTimeout(d,f,p,T).catch(gp),g=Date.now();if(_ instanceof globalThis.Error){let v=`retrying, ${n} attempts remaining`;if(!((l=a.signal)===null||l===void 0)&&l.aborted)throw new El;let E=hp(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return it(this).info(`[${m}] connection ${E?"timed out":"failed"} - ${v}`),it(this).debug(`[${m}] connection ${E?"timed out":"failed"} (${v})`,$i({retryOfRequestLogID:i,url:d,durationMs:g-S,message:_.message})),this.retryRequest(a,n,i??m);throw it(this).info(`[${m}] connection ${E?"timed out":"failed"} - error; no more retries left`),it(this).debug(`[${m}] connection ${E?"timed out":"failed"} (error; no more retries left)`,$i({retryOfRequestLogID:i,url:d,durationMs:g-S,message:_.message})),E?new ba:new ts({cause:_})}let y=`[${m}${h}] ${f.method} ${d} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${g-S}ms`;if(!_.ok){let v=await this.shouldRetry(_);if(n&&v){let C=`retrying, ${n} attempts remaining`;return await c1(_.body),it(this).info(`${y} - ${C}`),it(this).debug(`[${m}] response error (${C})`,$i({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:g-S})),this.retryRequest(a,n,i??m,_.headers)}let E=v?"error; no more retries left":"error; not retryable";it(this).info(`${y} - ${E}`);let A=await _.text().catch(C=>gp(C).message),N=n1(A),x=N?void 0:A;throw it(this).debug(`[${m}] response error (${E})`,$i({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:x,durationMs:Date.now()-S})),this.makeStatusError(_.status,N,x,_.headers)}return it(this).info(y),it(this).debug(`[${m}] response start`,$i({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:g-S})),{response:_,options:a,controller:T,requestLogID:m,retryOfRequestLogID:i,startTime:S}}async fetchWithTimeout(t,n,i,o){let s=n||{},{signal:l,method:a}=s,c=Na(s,["signal","method"]);l&&l.addEventListener("abort",()=>o.abort());let f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,p=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);a&&(p.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,p)}finally{clearTimeout(f)}}async shouldRetry(t){let n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,o){var s;let l,a=o?.get("retry-after-ms");if(a){let f=parseFloat(a);Number.isNaN(f)||(l=f)}let c=o?.get("retry-after");if(c&&!l){let f=parseFloat(c);Number.isNaN(f)?l=Date.parse(c)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){let f=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await i1(l),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){let s=n-t,l=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return l*a*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,o,s;let l=Object.assign({},t),{method:a,path:c,query:f,defaultBaseURL:d}=l,p=this.buildURL(c,f,d);"timeout"in l&&t1("timeout",l.timeout),l.timeout=(i=l.timeout)!==null&&i!==void 0?i:this.timeout;let{bodyHeaders:m,body:h}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:a,bodyHeaders:m,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:p,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:o}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);let l=await this.authHeaders(t),a=hl([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),r1()),this._options.defaultHeaders,i,t.headers,l]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};let i=hl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:u1(t)}:this.encoder({body:t,headers:i})}};is.DEFAULT_TIMEOUT=6e4;var Pe=class extends is{constructor(){super(...arguments),this.interactions=new Va(this)}};IT=Pe;Pe.GeminiNextGenAPIClient=IT;Pe.GeminiNextGenAPIClientError=ht;Pe.APIError=Ke;Pe.APIConnectionError=ts;Pe.APIConnectionTimeoutError=ba;Pe.APIUserAbortError=El;Pe.NotFoundError=ka;Pe.ConflictError=Ua;Pe.RateLimitError=Pa;Pe.BadRequestError=Ma;Pe.AuthenticationError=Ia;Pe.InternalServerError=Ha;Pe.PermissionDeniedError=Da;Pe.UnprocessableEntityError=La;Pe.toFile=g1;Pe.Interactions=Va;function N1(e,t){let n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function b1(e,t){let n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function M1(e,t){let n={},i=r(e,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function I1(e,t){let n={},i=r(e,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function D1(e,t,n){let i={};if(r(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let o=r(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&u(t,["displayName"],o),r(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let s=r(e,["epochCount"]);t!==void 0&&s!=null&&u(t,["tuningTask","hyperparameters","epochCount"],s);let l=r(e,["learningRateMultiplier"]);if(l!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),r(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=r(e,["batchSize"]);t!==void 0&&a!=null&&u(t,["tuningTask","hyperparameters","batchSize"],a);let c=r(e,["learningRate"]);if(t!==void 0&&c!=null&&u(t,["tuningTask","hyperparameters","learningRate"],c),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function k1(e,t,n){let i={},o=r(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let h=r(e,["validationDataset"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec"],WS(h))}else if(o==="PREFERENCE_TUNING"){let h=r(e,["validationDataset"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec"],WS(h))}let s=r(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&u(t,["tunedModelDisplayName"],s);let l=r(e,["description"]);t!==void 0&&l!=null&&u(t,["description"],l);let a=r(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let h=r(e,["epochCount"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(a==="PREFERENCE_TUNING"){let h=r(e,["epochCount"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=r(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let h=r(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){let h=r(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let f=r(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let h=r(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(f==="PREFERENCE_TUNING"){let h=r(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let d=r(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let h=r(e,["adapterSize"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(d==="PREFERENCE_TUNING"){let h=r(e,["adapterSize"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(r(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=r(e,["labels"]);t!==void 0&&p!=null&&u(t,["labels"],p);let m=r(e,["beta"]);return t!==void 0&&m!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","beta"],m),i}function U1(e,t){let n={},i=r(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);let o=r(e,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);let s=r(e,["trainingDataset"]);s!=null&&$1(s);let l=r(e,["config"]);return l!=null&&D1(l,n),n}function L1(e,t){let n={},i=r(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);let o=r(e,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);let s=r(e,["trainingDataset"]);s!=null&&Y1(s,n,t);let l=r(e,["config"]);return l!=null&&k1(l,n,t),n}function P1(e,t){let n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function H1(e,t){let n={},i=r(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function G1(e,t,n){let i={},o=r(e,["pageSize"]);t!==void 0&&o!=null&&u(t,["_query","pageSize"],o);let s=r(e,["pageToken"]);t!==void 0&&s!=null&&u(t,["_query","pageToken"],s);let l=r(e,["filter"]);return t!==void 0&&l!=null&&u(t,["_query","filter"],l),i}function q1(e,t,n){let i={},o=r(e,["pageSize"]);t!==void 0&&o!=null&&u(t,["_query","pageSize"],o);let s=r(e,["pageToken"]);t!==void 0&&s!=null&&u(t,["_query","pageToken"],s);let l=r(e,["filter"]);return t!==void 0&&l!=null&&u(t,["_query","filter"],l),i}function V1(e,t){let n={},i=r(e,["config"]);return i!=null&&G1(i,n),n}function z1(e,t){let n={},i=r(e,["config"]);return i!=null&&q1(i,n),n}function O1(e,t){let n={},i=r(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=r(e,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);let s=r(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>DT(a))),u(n,["tuningJobs"],l)}return n}function B1(e,t){let n={},i=r(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=r(e,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);let s=r(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(a=>Tp(a))),u(n,["tuningJobs"],l)}return n}function F1(e,t){let n={},i=r(e,["name"]);i!=null&&u(n,["model"],i);let o=r(e,["name"]);return o!=null&&u(n,["endpoint"],o),n}function $1(e,t){let n={};if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let i=r(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),u(n,["examples","examples"],o)}return n}function Y1(e,t,n){let i={},o=r(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let l=r(e,["gcsUri"]);t!==void 0&&l!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){let l=r(e,["gcsUri"]);t!==void 0&&l!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=r(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){let l=r(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){let l=r(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(r(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function DT(e,t){let n={},i=r(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=r(e,["name"]);o!=null&&u(n,["name"],o);let s=r(e,["state"]);s!=null&&u(n,["state"],lT(s));let l=r(e,["createTime"]);l!=null&&u(n,["createTime"],l);let a=r(e,["tuningTask","startTime"]);a!=null&&u(n,["startTime"],a);let c=r(e,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);let f=r(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);let d=r(e,["description"]);d!=null&&u(n,["description"],d);let p=r(e,["baseModel"]);p!=null&&u(n,["baseModel"],p);let m=r(e,["_self"]);return m!=null&&u(n,["tunedModel"],F1(m)),n}function Tp(e,t){let n={},i=r(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=r(e,["name"]);o!=null&&u(n,["name"],o);let s=r(e,["state"]);s!=null&&u(n,["state"],lT(s));let l=r(e,["createTime"]);l!=null&&u(n,["createTime"],l);let a=r(e,["startTime"]);a!=null&&u(n,["startTime"],a);let c=r(e,["endTime"]);c!=null&&u(n,["endTime"],c);let f=r(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);let d=r(e,["error"]);d!=null&&u(n,["error"],d);let p=r(e,["description"]);p!=null&&u(n,["description"],p);let m=r(e,["baseModel"]);m!=null&&u(n,["baseModel"],m);let h=r(e,["tunedModel"]);h!=null&&u(n,["tunedModel"],h);let S=r(e,["preTunedModel"]);S!=null&&u(n,["preTunedModel"],S);let T=r(e,["supervisedTuningSpec"]);T!=null&&u(n,["supervisedTuningSpec"],T);let _=r(e,["preferenceOptimizationSpec"]);_!=null&&u(n,["preferenceOptimizationSpec"],_);let g=r(e,["tuningDataStats"]);g!=null&&u(n,["tuningDataStats"],g);let y=r(e,["encryptionSpec"]);y!=null&&u(n,["encryptionSpec"],y);let v=r(e,["partnerModelTuningSpec"]);v!=null&&u(n,["partnerModelTuningSpec"],v);let E=r(e,["customBaseModel"]);E!=null&&u(n,["customBaseModel"],E);let A=r(e,["experiment"]);A!=null&&u(n,["experiment"],A);let N=r(e,["labels"]);N!=null&&u(n,["labels"],N);let x=r(e,["outputUri"]);x!=null&&u(n,["outputUri"],x);let I=r(e,["pipelineJob"]);I!=null&&u(n,["pipelineJob"],I);let C=r(e,["serviceAccount"]);C!=null&&u(n,["serviceAccount"],C);let R=r(e,["tunedModelDisplayName"]);R!=null&&u(n,["tunedModelDisplayName"],R);let z=r(e,["veoTuningSpec"]);return z!=null&&u(n,["veoTuningSpec"],z),n}function J1(e,t){let n={},i=r(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=r(e,["name"]);o!=null&&u(n,["name"],o);let s=r(e,["metadata"]);s!=null&&u(n,["metadata"],s);let l=r(e,["done"]);l!=null&&u(n,["done"],l);let a=r(e,["error"]);return a!=null&&u(n,["error"],a),n}function WS(e,t){let n={},i=r(e,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);let o=r(e,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}var Ep=class extends Kt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pn(Ln.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);let s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{let o=Object.assign({},n);return await this.tuneInternal(o)}else{let o=Object.assign({},n),s=await this.tuneMldevInternal(o),l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Ud.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=H1(t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>Tp(d))}else{let f=P1(t);return a=D("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>DT(d))}}async listInternal(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=z1(t);return a=D("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=B1(d),m=new _a;return Object.assign(m,p),m})}else{let f=V1(t);return a=D("tunedModels",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=O1(d),m=new _a;return Object.assign(m,p),m})}}async cancel(t){var n,i,o,s;let l,a="",c={};if(this.apiClient.isVertexAI()){let f=b1(t);return a=D("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=I1(d),m=new Ca;return Object.assign(m,p),m})}else{let f=N1(t);return a=D("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(p=>{let m=p;return m.sdkHttpResponse={headers:d.headers},m})),l.then(d=>{let p=M1(d),m=new Ca;return Object.assign(m,p),m})}}async tuneInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI()){let a=L1(t,t);return s=D("tuningJobs",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Tp(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=U1(t);return s=D("tunedModels",a._url),l=a._query,delete a._url,delete a._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>J1(c))}}};var _p=class{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},K1=1024*1024*8,X1=3,Q1=1e3,Z1=2,Oa="x-goog-upload-status";async function W1(e,t,n){var i;let o=await kT(e,t,n),s=await o?.json();if(((i=o?.headers)===null||i===void 0?void 0:i[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function j1(e,t,n){var i;let o=await kT(e,t,n),s=await o?.json();if(((i=o?.headers)===null||i===void 0?void 0:i[Oa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let l=eT(s),a=new Sl;return Object.assign(a,l),a}async function kT(e,t,n){var i,o;let s=0,l=0,a=new yl(new Response),c="upload";for(s=e.size;l<s;){let f=Math.min(K1,s-l),d=e.slice(l,l+f);l+f>=s&&(c+=", finalize");let p=0,m=Q1;for(;p<X1&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((i=a?.headers)===null||i===void 0)&&i[Oa]));)p++,await tM(m),m=m*Z1;if(l+=f,((o=a?.headers)===null||o===void 0?void 0:o[Oa])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function eM(e){return{size:e.size,type:e.type}}function tM(e){return new Promise(t=>setTimeout(t,e))}var Cp=class{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await W1(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await j1(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await eM(t)}};var Ap=class{create(t,n,i){return new xp(t,n,i)}},xp=class{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var jS="x-goog-api-key",wp=class{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(jS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(jS,this.apiKey)}}};var nM="gl-node/",Xt=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new Pe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;let i=IA(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;let o=new wp(this.apiKey);this.apiClient=new sp({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:nM+"web",uploader:new Cp,downloader:new _p}),this.models=new cp(this.apiClient),this.live=new ap(this.apiClient,o,new Ap),this.batches=new Zd(this.apiClient),this.chats=new jd(this.models,this.apiClient),this.caches=new Wd(this.apiClient),this.files=new tp(this.apiClient),this.operations=new fp(this.apiClient),this.authTokens=new dp(this.apiClient),this.tunings=new Ep(this.apiClient),this.fileSearchStores=new mp(this.apiClient)}};function UT(e){let t=atob(e),n=t.length,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=t.charCodeAt(o);return i}function kp(e){let t="",n=e.byteLength;for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return btoa(t)}async function LT(e,t,n,i){let o=new Int16Array(e.buffer),s=o.length/i,l=t.createBuffer(i,s,n);for(let a=0;a<i;a++){let c=l.getChannelData(a);for(let f=0;f<s;f++)c[f]=o[f*i+a]/32768}return l}function PT(e){let t=e.length,n=new Int16Array(t);for(let i=0;i<t;i++){let o=Math.max(-1,Math.min(1,e[i]));n[i]=o<0?o*32768:o*32767}return n}var Ya={};xe(Ya,{declaration:()=>iM,execute:()=>oM,instruction:()=>Up});Le();var iM={name:"list_directory",description:"Lists all available files in the vault using paths relative to vault root."},Up="- list_directory: Use this to get an overview of the user's vault. All file paths are relative to vault root. Always call this if you are unsure of the available files.",oM=async(e,t)=>{let n=Un();return t.onSystem("Registry Scanned",{name:"list_directory",filename:"Vault Root",files:n}),{files:n}};var Ja={};xe(Ja,{declaration:()=>sM,execute:()=>lM,instruction:()=>Lp});Le();var sM={name:"list_vault_files",description:"Lists markdown files in the vault with pagination and sorting. Essential for large vaults.",parameters:{type:b.OBJECT,properties:{limit:{type:b.NUMBER,description:"Max number of files to return (default: 20)"},offset:{type:b.NUMBER,description:"Number of files to skip (default: 0)"},sortBy:{type:b.STRING,enum:["mtime","name","size"],description:"Property to sort by. mtime is last modified time."},sortOrder:{type:b.STRING,enum:["asc","desc"],description:"Sort order (default: desc)"},filter:{type:b.STRING,description:"Optional text filter for path or filename."}}}},Lp="- list_vault_files: Use this to explore large vaults. It supports paging and sorting. Default is most recently modified first.",lM=async(e,t)=>{let{limit:n,offset:i,sortBy:o,sortOrder:s,filter:l}=e,a=await vd({limit:n,offset:i,sortBy:o,sortOrder:s,filter:l}),c=a.files.map(f=>f.path);return t.onSystem(`Vault Files (${i}-${i+a.files.length} of ${a.total})`,{name:"list_vault_files",filename:"Vault Explorer",files:c}),a};var Ka={};xe(Ka,{declaration:()=>rM,execute:()=>aM,instruction:()=>Pp});Le();var rM={name:"get_folder_tree",description:"Lists all folders in the vault as a flat array to understand hierarchy. All paths are relative to vault root."},Pp="- get_folder_tree: Use this to see a simple list of all folders in the vault hierarchy. All paths are relative to vault root.",aM=async(e,t)=>{let n=Sd();return t.onSystem("Folder Structure Scanned",{name:"get_folder_tree",filename:"Folder Tree",files:n}),{folders:n}};var Xa={};xe(Xa,{declaration:()=>uM,execute:()=>cM,instruction:()=>Hp});Le();var uM={name:"dirlist",description:"Lists only directory structure, ignoring files, to understand vault hierarchy. All paths are relative to vault root."},Hp="- dirlist: Use this to see the pure directory structure of the vault without any file information. All paths are relative to vault root.",cM=async(e,t)=>{let n=Td();return t.onSystem("Directory Structure Scanned",{name:"dirlist",filename:"Directory List",directoryInfo:n.map(i=>({...i,hasChildren:i.children.length>0}))}),{directories:n}};var Qa={};xe(Qa,{declaration:()=>fM,execute:()=>dM,instruction:()=>Gp});Le();nt();var fM={name:"read_file",description:"Read the full content of a specified file using path relative to vault root.",parameters:{type:b.OBJECT,properties:{filename:{type:b.STRING,description:'Path relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level)'}},required:["filename"]}},Gp='- read_file: Use this to ingest the contents of a note. All paths are relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level). You should read a file before proposing major edits to ensure context.',dM=async(e,t)=>{let n=await mt(e.filename);t.onSystem(`Opened ${e.filename}`,{name:"read_file",filename:e.filename,oldContent:n,newContent:n,additions:0,removals:0});let i=Oe(e.filename);return t.onFileState(i,e.filename),{content:n}};var Za={};xe(Za,{declaration:()=>pM,execute:()=>mM,instruction:()=>qp});Le();nt();var pM={name:"create_file",description:"Create a new file with initial content using path relative to vault root.",parameters:{type:b.OBJECT,properties:{filename:{type:b.STRING,description:'Path relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level)'},content:{type:b.STRING}},required:["filename","content"]}},qp='- create_file: Use this to initialize new notes in the vault. All paths are relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level). Always provide meaningful initial content.',mM=async(e,t)=>{await aa(e.filename,e.content),t.onSystem(`Created ${e.filename}`,{name:"create_file",filename:e.filename,oldContent:"",newContent:e.content,additions:e.content.split(`
`).length,removals:0});let n=Oe(e.filename);return t.onFileState(n,e.filename),{status:"created"}};var Wa={};xe(Wa,{declaration:()=>hM,execute:()=>gM,instruction:()=>Vp});Le();nt();var hM={name:"update_file",description:"Overwrite the entire content of an existing file.",parameters:{type:b.OBJECT,properties:{filename:{type:b.STRING},content:{type:b.STRING}},required:["filename","content"]}},Vp="- update_file: Use this for total overwrites. For smaller changes, prefer edit_file.",gM=async(e,t)=>{let n=await mt(e.filename).catch(()=>"");await hi(e.filename,e.content);let i=n.split(`
`),o=e.content.split(`
`),s=o.filter(c=>!i.includes(c)).length,l=i.filter(c=>!o.includes(c)).length;t.onSystem(`Updated ${e.filename}`,{name:"update_file",filename:e.filename,oldContent:n,newContent:e.content,additions:s,removals:l});let a=Oe(e.filename);return t.onFileState(a,e.filename),{status:"updated"}};var ja={};xe(ja,{declaration:()=>yM,execute:()=>vM,instruction:()=>zp});Le();nt();var yM={name:"edit_file",description:"Perform granular line-based edits on a file.",parameters:{type:b.OBJECT,properties:{filename:{type:b.STRING},operation:{type:b.STRING,enum:["append","replace_line","remove_line"]},text:{type:b.STRING},lineNumber:{type:b.NUMBER}},required:["filename","operation"]}},zp="- edit_file: Use this for targeted modifications (appending, replacing lines, or removing lines).",vM=async(e,t)=>{let n=await mt(e.filename).catch(()=>"");await Ad(e.filename,e.operation,e.text,e.lineNumber);let i=await mt(e.filename);t.onSystem(`Edited ${e.filename}`,{name:"edit_file",filename:e.filename,oldContent:n,newContent:i,additions:e.operation==="append"||e.operation==="replace_line"?1:0,removals:e.operation==="remove_line"||e.operation==="replace_line"?1:0});let o=Oe(e.filename);return t.onFileState(o,e.filename),{status:"edited"}};var eu={};xe(eu,{declaration:()=>SM,execute:()=>TM,instruction:()=>Op});Le();nt();var SM={name:"rename_file",description:"Rename an existing file to a new name.",parameters:{type:b.OBJECT,properties:{oldFilename:{type:b.STRING,description:"The current name of the file"},newFilename:{type:b.STRING,description:"The new name for the file"}},required:["oldFilename","newFilename"]}},Op="- rename_file: Use this to change the name of a note. Ensure the new name follows markdown extension conventions if applicable.",TM=async(e,t)=>{await _d(e.oldFilename,e.newFilename),t.onSystem(`Renamed ${e.oldFilename} to ${e.newFilename}`,{name:"rename_file",filename:e.oldFilename,oldContent:e.oldFilename,newContent:e.newFilename});let n=Oe(e.newFilename);return t.onFileState(n,e.newFilename),{status:"renamed",from:e.oldFilename,to:e.newFilename}};var tu={};xe(tu,{declaration:()=>EM,execute:()=>_M,instruction:()=>Bp});Le();nt();var EM={name:"move_file",description:"Move a file from one folder to another using paths relative to vault root",parameters:{type:b.OBJECT,properties:{sourcePath:{type:b.STRING,description:'Current path relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level)'},targetPath:{type:b.STRING,description:'New path relative to vault root (e.g., "archive/projects/notes.md" or "notes.md" for root level)'}},required:["sourcePath","targetPath"]}},Bp='- move_file: Move a file using paths relative to vault root. All paths are relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level files). Use this to reorganize files between folders.',_M=async(e,t)=>{let n=await Cd(e.sourcePath,e.targetPath);t.onSystem(`Moved ${e.sourcePath} to ${e.targetPath}`,{name:"move_file",filename:e.sourcePath,oldContent:e.sourcePath,newContent:e.targetPath});let i=Oe(e.targetPath);return t.onFileState(i,[e.sourcePath,e.targetPath]),{status:"moved",from:e.sourcePath,to:e.targetPath}};var nu={};xe(nu,{declaration:()=>CM,execute:()=>AM,instruction:()=>Fp});Le();var CM={name:"search_keyword",description:"Search for a keyword across all files in the vault.",parameters:{type:b.OBJECT,properties:{keyword:{type:b.STRING,description:"The text to search for"}},required:["keyword"]}},Fp="- search_keyword: Fast plaintext search across all files.",AM=async(e,t)=>{let n=await ml(e.keyword,!1);return t.onSystem(`Search complete for "${e.keyword}"`,{name:"search_keyword",filename:"Global Search",searchResults:n}),{results:n}};var iu={};xe(iu,{declaration:()=>xM,execute:()=>wM,instruction:()=>$p});Le();var xM={name:"search_regexp",description:"Search using a regular expression across all files.",parameters:{type:b.OBJECT,properties:{pattern:{type:b.STRING,description:"The regex pattern"},flags:{type:b.STRING,description:'Optional regex flags (default: "i")'}},required:["pattern"]}},$p="- search_regexp: Advanced regex search. Use this to identify files for global replacements.",wM=async(e,t)=>{let n=await ml(e.pattern,!0,e.flags||"i");return t.onSystem(`Regex search complete for /${e.pattern}/`,{name:"search_regexp",filename:"Regex Search",searchResults:n}),{results:n}};var ou={};xe(ou,{declaration:()=>RM,execute:()=>NM,instruction:()=>Yp});Le();nt();var RM={name:"search_and_replace_regex_in_file",description:"Search and replace text in a specific file using regex.",parameters:{type:b.OBJECT,properties:{filename:{type:b.STRING},pattern:{type:b.STRING},replacement:{type:b.STRING},flags:{type:b.STRING,description:'Optional regex flags (default: "g")'}},required:["filename","pattern","replacement"]}},Yp="- search_and_replace_regex_in_file: Targeted regex replacement within a single node.",NM=async(e,t)=>{let n=await mt(e.filename),i=new RegExp(e.pattern,e.flags||"g"),o=n.replace(i,e.replacement);await hi(e.filename,o),t.onSystem(`Replaced in ${e.filename}`,{name:"search_and_replace_regex_in_file",filename:e.filename,oldContent:n,newContent:o,additions:1,removals:1});let s=Oe(e.filename);return t.onFileState(s,e.filename),{status:"success"}};var su={};xe(su,{declaration:()=>bM,execute:()=>MM,instruction:()=>Jp});Le();var bM={name:"search_and_replace_regex_global",description:"Search and replace text across ALL files using regex.",parameters:{type:b.OBJECT,properties:{pattern:{type:b.STRING},replacement:{type:b.STRING},flags:{type:b.STRING,description:'Optional regex flags (default: "g")'}},required:["pattern","replacement"]}},Jp=`
GLOBAL SEARCH & REPLACE WORKFLOW:
1. When asked for a global replacement, ALWAYS run "search_regexp" first.
2. Report the number of files that will be updated.
3. ASK for explicit confirmation before calling "search_and_replace_regex_global".
4. After execution, report "updated all occurrences".`,MM=async(e,t)=>{let n=Un(),i=new RegExp(e.pattern,e.flags||"g"),o=[],s=0,l=[];for(let a of n){let c=await mt(a);if(i.test(c)){let f=c.replace(i,e.replacement);await hi(a,f),o.push({filename:a,oldContent:c,newContent:f,additions:1,removals:1}),l.push(a),s++}}return t.onSystem(`Global replace complete: ${s} files updated`,{name:"search_and_replace_regex_global",filename:"Vault Wide",multiDiffs:o}),l.length>0&&t.onFileState("/",l),{status:"success",filesUpdated:s}};var lu={};xe(lu,{declaration:()=>IM,execute:()=>DM,instruction:()=>Kp});var IM={name:"topic_switch",description:"Signal that a major topic shift has occurred. Provide a summary of the previous conversation.",parameters:{type:b.OBJECT,properties:{summary:{type:b.STRING,description:"A short one-sentence summary of the preceding conversation segment."}},required:["summary"]}},Kp=`
TOPIC SWITCHING & PERSISTENCE: 
1. Monitor for significant topic switches in the conversation flow.
2. If a switch occurs, call "topic_switch" with a concise summary.
3. This will automatically trigger an ARCHIVE process.
4. Do NOT say "Done." after calling this. Proceed immediately to the next topic.`,DM=async(e,t)=>{let i=`x-chat-history-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.md`;return t.onSystem("Context Update",{name:"topic_switch",filename:i,newContent:e.summary}),{status:"context_reset"}};var Xp={};xe(Xp,{declaration:()=>kM,execute:()=>LM,instruction:()=>UM});Le();var kM={name:"create_directory",description:"Create a new directory in the vault. Parent directories will be created automatically if they don't exist.",parameters:{type:b.OBJECT,properties:{path:{type:b.STRING,description:'Directory path relative to vault root (e.g., "projects/notes" or "archive" for root level)'}},required:["path"]}},UM="- create_directory: Use this to create new directories in the vault. All paths are relative to vault root. Parent directories are created automatically.",LM=async(e,t)=>(await xd(e.path),t.onSystem(`Created directory ${e.path}`,{name:"create_directory",filename:e.path,newContent:`Directory created: ${e.path}`}),{status:"created",path:e.path});var Qp={};xe(Qp,{declaration:()=>PM,execute:()=>GM,instruction:()=>HM});Le();nt();var PM={name:"delete_file",description:"Delete an existing file from the vault.",parameters:{type:b.OBJECT,properties:{filename:{type:b.STRING,description:'Path relative to vault root (e.g., "projects/notes.md" or "notes.md" for root level)'}},required:["filename"]}},HM="- delete_file: Use this to permanently remove a note from the vault. All paths are relative to vault root. This action cannot be undone.",GM=async(e,t)=>{await wd(e.filename),t.onSystem(`Deleted ${e.filename}`,{name:"delete_file",filename:e.filename,oldContent:e.filename,newContent:""});let n=Oe(e.filename);return t.onFileState(n,null),{status:"deleted",filename:e.filename}};var ru={};xe(ru,{declaration:()=>qM,execute:()=>VM,instruction:()=>Zp});var qM={name:"internet_search",description:"Search the internet for real-time information, news, current events, or general knowledge outside the vault.",parameters:{type:b.OBJECT,properties:{query:{type:b.STRING,description:"The search query to look up on the web."}},required:["query"]}},Zp="- internet_search: Use this to fetch real-time data or information not contained within the local vault. Always use this tool for questions about current events, celebrities, weather, or general knowledge.",VM=async(e,t)=>{let i=dn()?.manualApiKey?.trim()||process.env.API_KEY;if(!i)throw new Error("API key not found. Please set your Gemini API key in the plugin settings.");t.onSystem(`Internet Search: ${e.query}`,{name:"internet_search",filename:e.query,status:"pending"});let s=await new Xt({apiKey:i}).models.generateContent({model:"gemini-3-flash-preview",contents:e.query,config:{tools:[{googleSearch:{}}]}}),l=s.text||"No results found.",a=s.candidates?.[0]?.groundingMetadata?.groundingChunks||[];return t.onSystem(`Internet Search: ${e.query}`,{name:"internet_search",filename:e.query,status:"success",newContent:l,groundingChunks:a}),{text:l,groundingChunks:a,searchQuery:e.query}};var au={};xe(au,{declaration:()=>zM,execute:()=>OM,instruction:()=>Wp});var zM={name:"end_conversation",description:"End the current voice conversation session and stop the voice interface.",parameters:{type:b.OBJECT,properties:{},required:[]}},Wp=`
CONVERSATION CONTROL:
1. Use "end_conversation" when the user indicates they want to stop talking or end the conversation.
2. This will immediately stop the voice interface and disconnect the session.
3. Do NOT say "Done." after calling this. The session will simply end.`,OM=async(e,t)=>{if(t.onSystem("Ending conversation...",{name:"end_conversation",filename:"Session",status:"success"}),t.onArchiveConversation)try{await t.onArchiveConversation()}catch(n){t.onLog(`Failed to archive conversation: ${n.message}`,"error")}return t.onStopSession&&t.onStopSession(),{status:"conversation_ended"}};var jp={};xe(jp,{declaration:()=>BM,execute:()=>$M,instruction:()=>FM});Le();nt();var BM={name:"generate_image_from_context",description:"Generate an image based on the current context or provided prompt using Gemini API and save it to the vault.",parameters:{type:b.OBJECT,properties:{prompt:{type:b.STRING,description:"The prompt describing what image to generate. If not provided, will use current context."},filename:{type:b.STRING,description:'The filename to save the image as (e.g., "generated-image.png"). If not provided, will auto-generate.'}},required:[]}},FM="- generate_image_from_context: Use this to create images based on conversation context or specific prompts. Images are saved to the current vault directory.",$M=async(e,t)=>{let i=dn()?.manualApiKey?.trim()||process.env.API_KEY;if(!i)throw new Error("API key not found. Please set your Gemini API key in the plugin settings.");let o=new Xt({apiKey:i}),s=e.prompt;s||(s="Generate an image based on the current conversation context and topic being discussed.");try{let a=(await o.models.generateContent({model:"gemini-2.0-flash-exp",contents:`Generate an image based on this prompt: ${s}. Please return the image as base64 data.`,config:{responseMimeType:"text/plain"}})).text||"",c="",f=a.match(/data:image\/[a-z]+;base64,([A-Za-z0-9+/=]+)/);if(f?c=f[1]:c=a.trim(),!c)throw new Error("Failed to generate image data");let d=e.filename;d||(d=`generated-image-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5)}.png`),d.match(/\.(png|jpg|jpeg|gif|webp)$/i)||(d+=".png");let p=Buffer.from(c,"base64");await Ed(d,p),t.onSystem(`Generated image: ${d}`,{name:"generate_image_from_context",filename:d,newContent:`Generated image (${p.byteLength} bytes)`,description:`Image generated from prompt: ${s}`});let m=Oe(d);return t.onFileState(m,d),{filename:d,size:p.byteLength,description:`Image generated from prompt: ${s}`}}catch(l){throw new Error(`Failed to generate image: ${l.message}`)}};var HT={list_directory:Ya,list_vault_files:Ja,get_folder_tree:Ka,dirlist:Xa,read_file:Qa,create_file:Za,create_directory:Xp,delete_file:Qp,update_file:Wa,edit_file:ja,rename_file:eu,move_file:tu,search_keyword:nu,search_regexp:iu,search_and_replace_regex_in_file:ou,search_and_replace_regex_global:su,topic_switch:lu,internet_search:ru,generate_image_from_context:jp,end_conversation:au},Ki=Object.values(HT).map(e=>e.declaration),uu=async(e,t,n,i)=>{let o=performance.now(),s=HT[e];if(!s){let c={toolName:e,content:JSON.stringify(t,null,2),contentSize:JSON.stringify(t).length,apiCall:"executeCommand"};throw n.onLog(`Tool not found: ${e}`,"error",void 0,c),new Error(`Command ${e} not found`)}let l=i||`tool-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;i||n.onSystem(`${e.replace(/_/g," ").toUpperCase()}...`,{id:l,name:e,filename:t.filename||(e==="internet_search"?"Web":"Registry"),status:"pending"});let a={...n,onSystem:(c,f)=>{n.onSystem(c,{...f,id:l})}};try{let c=await s.execute(t,a),f=YM(e,c,a),d=Math.round(performance.now()-o);return n.onLog(`Executed ${e} in ${d}ms`,"action",d),f}catch(c){let f=Math.round(performance.now()-o),d={toolName:e,content:JSON.stringify(t,null,2),contentSize:JSON.stringify(t).length,stack:c.stack,apiCall:"tool_execution"};throw n.onLog(`Error in ${e}: ${c.message}`,"error",f,d),a.onSystem(`Error: ${c.message}`,{name:e,filename:t.filename||(e==="internet_search"?"Web":"unknown"),error:c.message,status:"error"}),c}};function YM(e,t,n){if(t?.files&&Array.isArray(t.files)){let o=t.files.length;if(o>100){let s=t.files.slice(0,100),l=Math.ceil(o/100),a=1,c=`

=== RESULT TRUNCATED ===
Showing ${100} of ${o} items (Page ${a} of ${l}).

To see more results, consider:
- Using list_vault_files with pagination (limit/offset parameters)
- Using search_keyword or search_regexp for targeted searches
- Using get_folder_tree for folder structure only
- Adding a filter parameter to narrow results

Current results show first ${100} items only.`;return console.log(`Tool result truncated: ${e}, ${100}/${o} items, page ${a}/${l}`),n.onSystem(`Registry Scanned (TRUNCATED: ${100}/${o} items)`,{name:e,filename:"Vault Root",files:s,truncated:!0,totalItems:o,shownItems:100,currentPage:a,totalPages:l}),{...t,files:s,truncated:!0,totalItems:o,shownItems:100,currentPage:a,totalPages:l,truncationNotice:c}}}if(t?.folders&&Array.isArray(t.folders)){let o=t.folders.length;if(o>100){let s=t.folders.slice(0,100),l=Math.ceil(o/100),a=1,c=`

=== RESULT TRUNCATED ===
Showing ${100} of ${o} folders (Page ${a} of ${l}).

For large folder structures, consider:
- Using search_keyword to find specific folders
- Using list_vault_files with filter parameter
- Asking for a specific subfolder path

Current results show first ${100} folders only.`;return console.log(`Folder structure truncated: ${e}, ${100}/${o} folders, page ${a}/${l}`),n.onSystem(`Folder Structure Scanned (TRUNCATED: ${100}/${o} folders)`,{name:e,filename:"Folder Tree",files:s,truncated:!0,totalItems:o,shownItems:100,currentPage:a,totalPages:l}),{...t,folders:s,truncated:!0,totalItems:o,shownItems:100,currentPage:a,totalPages:l,truncationNotice:c}}}if(t?.directories&&Array.isArray(t.directories)){let o=(a,c=0)=>{let f=[],d=c;return a.forEach(p=>{if(f.push({path:p.path,type:"directory",hasChildren:p.children&&p.children.length>0}),d++,p.children&&p.children.length>0){let m=o(p.children,d);f=f.concat(m.items),d=m.total}}),{items:f,total:d}},{items:s,total:l}=o(t.directories);if(l>100){let a=s.slice(0,100),c=Math.ceil(l/100),f=1,d=`

=== DIRECTORY LIST TRUNCATED ===
Showing ${100} of ${l} directories (Page ${f} of ${c}).

For large directory structures, consider:
- Using search_keyword to find specific directories
- Using list_vault_files with filter parameter
- Asking for a specific directory path
- Using get_folder_tree for a simple folder list

Current results show first ${100} directories only.`;return console.log(`Directory list truncated: ${e}, ${100}/${l} directories, page ${f}/${c}`),n.onSystem(`Directory Structure Scanned (TRUNCATED: ${100}/${l} directories)`,{name:e,filename:"Directory List",files:a.map(p=>p.path),truncated:!0,totalItems:l,shownItems:100,currentPage:f,totalPages:c,directoryInfo:a}),{...t,directories:a,truncated:!0,totalItems:l,shownItems:100,currentPage:f,totalPages:c,truncationNotice:d}}}if(t?.results&&Array.isArray(t.results)){let o=t.results.length;if(o>100){let s=t.results.slice(0,100),l=Math.ceil(o/100),a=1,c=`

=== SEARCH RESULTS TRUNCATED ===
Showing ${100} of ${o} results (Page ${a} of ${l}).

For more results, consider:
- Refining your search terms
- Using pagination parameters if available
- Adding filters to narrow the search

Current results show first ${100} matches only.`;return console.log(`Search results truncated: ${e}, ${100}/${o} results, page ${a}/${l}`),{...t,results:s,truncated:!0,totalItems:o,shownItems:100,currentPage:a,totalPages:l,truncationNotice:c}}}if(typeof t=="string"&&t.length>5e4){let o=t.substring(0,5e4),s=`

=== CONTENT TRUNCATED ===
Showing first 50,000 characters of ${t.length} total characters.

For large files, consider:
- Reading specific sections with line numbers
- Searching for specific content within the file
- Using more targeted read operations

Current content shows first 50,000 characters only.`;return console.log(`Content truncated: ${e}, 50000/${t.length} chars`),o+s}return t}async function cu(e,t={maxRetries:2,delay:1e3}){let n;for(let i=0;i<=t.maxRetries;i++)try{return await e()}catch(o){if(n=o,i===t.maxRetries)throw new Error("could not recover!");t.onRetry&&t.onRetry(i+1,n),await new Promise(s=>setTimeout(s,t.delay))}throw n}var rs=class{constructor(t=2){this.maxRetries=t;this.attempts=0}get retryCount(){return this.attempts}get canRetry(){return this.attempts<this.maxRetries}increment(){this.attempts++}reset(){this.attempts=0}get shouldBail(){return this.attempts>=this.maxRetries}};var fu=class{constructor(t){this.callbacks=t;this.session=null;this.sessionPromise=null;this.inputAudioContext=null;this.outputAudioContext=null;this.nextStartTime=0;this.sources=new Set;this.currentInputText="";this.currentOutputText="";this.currentFolder="/";this.currentNote=null;this.retryCounter=new rs(2);this.storedApiKey="";this.storedSettings=null}async start(t,n,i){this.storedApiKey=t,this.storedSettings=n,this.storedInitialState=i,this.retryCounter.reset(),await cu(async()=>{this.retryCounter.increment(),await this.performStart(t,n,i)},{maxRetries:2,delay:1e3,onRetry:(o,s)=>{this.callbacks.onLog(`Connection failed, retrying attempt ${o}/2...`,"info"),this.callbacks.onSystemMessage(`Connection failed, retrying attempt ${o}/2...`)}})}async performStart(t,n,i){try{i&&(this.currentFolder=i.folder,this.currentNote=i.note),this.callbacks.onStatusChange("CONNECTING"),this.callbacks.onLog("Negotiating Uplink...","info");let o=new Xt({apiKey:t});this.inputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),this.outputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),this.nextStartTime=0;let s=await navigator.mediaDevices.getUserMedia({audio:!0}),l=`
CURRENT_CONTEXT:
Current Folder Path: ${this.currentFolder}
Current Note Name: ${this.currentNote||"No note currently selected"}
`,a=`${n.systemInstruction}
${l}

${n.customContext}`.trim();console.log(`System instruction: ${a.length} chars, folder: ${this.currentFolder}, note: ${this.currentNote}`),this.callbacks.onLog(`System instruction size: ${a.length} chars`,"info"),console.log(`Session config: model=gemini-2.5-flash-native-audio-preview-12-2025, tools=${Ki.length}, voice=${n.voiceName}`),this.callbacks.onLog("Initializing Gemini live connection...","info"),this.sessionPromise=o.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",config:{responseModalities:[jo.AUDIO],systemInstruction:a,inputAudioTranscription:{},outputAudioTranscription:{},speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n.voiceName}}},tools:[{functionDeclarations:Ki}]},callbacks:{onopen:()=>{this.callbacks.onStatusChange("CONNECTED"),this.callbacks.onLog("Uplink synchronized. Voice channel active.","info"),this.sessionPromise&&this.startMicStreaming(s,this.sessionPromise)},onmessage:async c=>{this.sessionPromise&&await this.handleServerMessage(c,this.sessionPromise)},onerror:c=>{console.error(`Gemini connection error: ${c.message} (${c.constructor.name})`),this.callbacks.onLog(`Connection error: ${c.message}`,"error"),this.callbacks.onStatusChange("ERROR"),this.callbacks.onSystemMessage(`Connection Error: ${c.message}`)},onclose:c=>{let f=c.reason||c.code||"Connection dropped";if(c.code!==1e3&&c.code!==1001){console.error(`Voice connection closed: code=${c.code}, reason=${f}`);let p={toolName:"GeminiVoiceAssistant",apiCall:"live.connect",content:`Code: ${c.code}, Reason: ${f}`,timestamp:new Date().toISOString()};this.callbacks.onLog(`CONNECTION DROPPED: ${f}`,"error",void 0,p),this.callbacks.onSystemMessage(`CONNECTION DROPPED: ${f}`,{id:"error-"+Date.now(),name:"error",filename:"",status:"error",error:f})}else this.callbacks.onLog(`Uplink Closed: ${f}`,"info");this.stop()}}}),this.session=await this.sessionPromise}catch(o){this.callbacks.onStatusChange("ERROR"),console.error(`Voice interface error: ${o.message}`);let s={toolName:"GeminiVoiceAssistant",apiCall:"start",stack:o.stack,content:o.message,requestSize:o.requestSize,responseSize:o.responseSize,userAgent:navigator.userAgent,audioContextState:this.inputAudioContext?.state,timestamp:new Date().toISOString()};throw this.callbacks.onLog(`Link Initialization Failed: ${o.message}`,"error",void 0,s),this.callbacks.onSystemMessage(`ERROR: ${o.message}`,{id:"error-"+Date.now(),name:"error",filename:"",status:"error",error:o.message}),o}}startMicStreaming(t,n){if(!this.inputAudioContext)return;let i=this.inputAudioContext.createMediaStreamSource(t),o=this.inputAudioContext.createScriptProcessor(4096,1,1);o.onaudioprocess=s=>{let l=s.inputBuffer.getChannelData(0),a=0;for(let p=0;p<l.length;p++)a+=l[p]*l[p];let c=Math.sqrt(a/l.length);this.callbacks.onVolume(c);let f=PT(l),d=kp(new Uint8Array(f.buffer));n.then(p=>{let m=d.length;m>5e4&&console.log(`Audio streaming: ${m} bytes, session active`),p.sendRealtimeInput({media:{data:d,mimeType:"audio/pcm;rate=16000"}})}).catch(p=>{console.error(`Audio streaming error: ${p.message}, data size: ${d.length}`)})},i.connect(o),o.connect(this.inputAudioContext.destination)}async handleServerMessage(t,n){let i=t.serverContent;if(i?.usageMetadata&&this.callbacks.onUsageUpdate(i.usageMetadata),t.serverContent?.inputTranscription?.text&&(this.currentInputText+=t.serverContent.inputTranscription.text,this.callbacks.onTranscription("user",this.currentInputText,!1)),t.serverContent?.outputTranscription&&(this.currentOutputText+=t.serverContent.outputTranscription.text,this.callbacks.onTranscription("model",this.currentOutputText,!1)),t.serverContent?.turnComplete&&(this.currentInputText&&(this.callbacks.onTranscription("user",this.currentInputText,!0),this.currentInputText=""),this.currentOutputText&&(this.callbacks.onTranscription("model",this.currentOutputText,!0),this.currentOutputText="")),t.toolCall)for(let s of t.toolCall.functionCalls){let l=`tool-${Date.now()}-${Math.random().toString(36).substr(2,5)}`,a=s.name.replace(/_/g," ").toUpperCase(),c=!1;this.callbacks.onSystemMessage(`${a}...`,{id:l,name:s.name,filename:s.args?.filename||(s.name==="internet_search"?"Web":"Registry"),status:"pending"});try{let f=await uu(s.name,s.args,{onLog:(d,p,m)=>this.callbacks.onLog(d,p,m),onSystem:(d,p)=>{this.callbacks.onSystemMessage(d,p),p?.status==="success"&&(c=!0)},onFileState:(d,p)=>{this.currentFolder=d,this.currentNote=Array.isArray(p)?p[p.length-1]:p,this.callbacks.onFileStateChange(d,p)},onStopSession:()=>{this.stop()},onArchiveConversation:this.callbacks.onArchiveConversation},l);n.then(d=>{let p=JSON.stringify({result:f});if(console.log(`Tool response: ${s.name}, size: ${p.length} chars`),!c){let m="";if(s.name==="create_file"||s.name==="create_directory"){let h=s.args?.filename||s.args?.path;if(h&&typeof h=="string"){let S=h.lastIndexOf("/");m=`Created in: ${S===-1?"/":h.substring(0,S+1)}`}}else s.name==="move_file"||s.name==="rename_file"?m=`Moved from: ${s.args?.sourcePath||s.args?.oldPath} to: ${s.args?.targetPath||s.args?.newPath}`:s.name==="update_file"||s.name==="edit_file"?m=`Updated: ${s.args?.filename}`:s.name==="delete_file"?m=`Deleted: ${s.args?.filename}`:f?.text?m=f.text:typeof f=="string"&&(m=f);m&&this.callbacks.onSystemMessage(`${a} Complete`,{id:l,name:s.name,filename:s.args?.filename||(s.name==="internet_search"?"Web":"Registry"),status:"success",newContent:m,groundingChunks:f?.groundingChunks||[],files:f?.files||f?.directories?.map(h=>h.path)||f?.folders,directoryInfo:f?.directoryInfo})}d.sendToolResponse({functionResponses:{id:s.id,name:s.name,response:{result:f}}})})}catch(f){console.error(f),console.error(`Voice interface tool error: ${s.name} - ${f.message}`);let d={toolName:s.name,content:JSON.stringify(s.args,null,2),contentSize:JSON.stringify(s.args).length,stack:f.stack,apiCall:"executeCommand",timestamp:new Date().toISOString(),currentFolder:this.currentFolder,currentNote:this.currentNote};this.callbacks.onLog(`Tool execution error in ${s.name}: ${f.message}`,"error",void 0,d),this.callbacks.onSystemMessage(`ERROR in ${s.name}: ${f.message}`,{id:l,name:s.name,filename:s.args?.filename||(s.name==="internet_search"?"Web":"Registry"),status:"error",error:f.message}),n.then(p=>{console.log(`Tool error response: ${s.name} - ${f.message}`),p.sendToolResponse({functionResponses:{id:s.id,name:s.name,response:{error:f.message}}})})}}let o=t.serverContent?.modelTurn?.parts?.[0]?.inlineData?.data;if(o&&this.outputAudioContext){let s=await LT(UT(o),this.outputAudioContext,24e3,1);this.nextStartTime=Math.max(this.nextStartTime,this.outputAudioContext.currentTime);let l=this.outputAudioContext.createBufferSource();l.buffer=s,l.connect(this.outputAudioContext.destination),l.onended=()=>this.sources.delete(l),l.start(this.nextStartTime),this.nextStartTime+=s.duration,this.sources.add(l)}t.serverContent?.interrupted&&(this.sources.forEach(s=>{try{s.stop()}catch{}}),this.sources.clear(),this.nextStartTime=0,this.callbacks.onInterrupted())}stop(){if(this.session){try{this.session.close()}catch{}this.session=null}this.sessionPromise=null,this.inputAudioContext&&(this.inputAudioContext.close(),this.inputAudioContext=null),this.outputAudioContext&&(this.outputAudioContext.close(),this.outputAudioContext=null),this.sources.forEach(t=>{try{t.stop()}catch{}}),this.sources.clear(),this.currentInputText="",this.currentOutputText="",this.callbacks.onStatusChange("DISCONNECTED"),this.callbacks.onVolume(0)}sendText(t){if(this.sessionPromise){let n=kp(new TextEncoder().encode(t));console.log(`Text input: ${t.length} chars, encoded: ${n.length} bytes`),this.callbacks.onLog(`Sending text input: ${t.length} chars`,"info"),this.sessionPromise.then(i=>{try{i.sendRealtimeInput({media:{data:n,mimeType:"text/plain"}}),console.log("Text input sent successfully")}catch(o){console.error(`Text input error: ${o.message}, text length: ${t.length}`),this.callbacks.onLog(`Text input failed: ${o.message}`,"error")}}).catch(i=>{console.error(`Session promise error (text): ${i.message}`)})}}};var du=class{constructor(t){this.callbacks=t;this.ai=null;this.chatHistory=[];this.currentFolder="/";this.currentNote=null;this.systemInstruction="";this.model="gemini-2.0-flash";this.retryCounter=new rs(2)}async initialize(t,n,i){i&&(this.currentFolder=i.folder,this.currentNote=i.note),this.callbacks.onLog("Initializing text interface...","info"),this.ai=new Xt({apiKey:t});let o=`
CURRENT_CONTEXT:
Current Folder Path: ${this.currentFolder}
Current Note Name: ${this.currentNote||"No note currently selected"}
`;this.systemInstruction=`${n.systemInstruction}
${o}

${n.customContext}`.trim(),this.callbacks.onLog("Text interface ready.","info")}async sendMessage(t){if(!this.ai){this.callbacks.onLog("Text interface not initialized","error");return}this.chatHistory.push({role:"user",parts:[{text:t}]}),this.callbacks.onTranscription("user",t,!0),await cu(async()=>{this.retryCounter.increment(),await this.processConversation()},{maxRetries:2,delay:1e3,onRetry:(n,i)=>{this.callbacks.onLog(`Text API failed, retrying attempt ${n}/2...`,"info"),this.callbacks.onSystemMessage(`Text API failed, retrying attempt ${n}/2...`)}})}async processConversation(){if(!this.ai)return;this.callbacks.onTranscription("model","...",!1);let t=await this.ai.models.generateContent({model:this.model,contents:this.chatHistory,config:{systemInstruction:this.systemInstruction,tools:[{functionDeclarations:Ki}]}});t.usageMetadata&&this.callbacks.onUsageUpdate({promptTokenCount:t.usageMetadata.promptTokenCount,candidatesTokenCount:t.usageMetadata.candidatesTokenCount,totalTokenCount:t.usageMetadata.totalTokenCount});let n=t.candidates?.[0];if(!n?.content){this.callbacks.onTranscription("model","No response received.",!0);return}let i=n.content.parts?.filter(o=>!!o.functionCall);if(i&&i.length>0){this.chatHistory.push(n.content);let o=[];for(let s of i){let l=s.functionCall;try{let a=await uu(l.name,l.args,{onLog:(c,f,d)=>this.callbacks.onLog(c,f,d),onSystem:(c,f)=>this.callbacks.onSystemMessage(c,f),onFileState:(c,f)=>{this.currentFolder=c,this.currentNote=Array.isArray(f)?f[f.length-1]:f,this.callbacks.onFileStateChange(c,f)},onStopSession:()=>{this.callbacks.onLog("Conversation ended via tool call","info")},onArchiveConversation:this.callbacks.onArchiveConversation});o.push({functionResponse:{name:l.name,response:{result:a}}})}catch(a){console.error(`Text interface tool error: ${l.name} - ${a.message}`);let c={toolName:l.name,content:JSON.stringify(l.args,null,2),contentSize:JSON.stringify(l.args).length,stack:a.stack,apiCall:"executeCommand",timestamp:new Date().toISOString(),model:this.model,currentFolder:this.currentFolder,currentNote:this.currentNote};this.callbacks.onLog(`Tool execution error in ${l.name}: ${a.message}`,"error",void 0,c),this.callbacks.onSystemMessage(`ERROR in ${l.name}: ${a.message}`,{id:"error-"+Date.now(),name:"error",filename:"",status:"error",error:a.message}),o.push({functionResponse:{name:l.name,response:{error:a.message}}})}}this.chatHistory.push({role:"user",parts:o}),await this.processConversation()}else{let s=n.content.parts?.filter(l=>l.text)?.map(l=>l.text).join("")||"";this.chatHistory.push(n.content),this.callbacks.onTranscription("model",s,!0)}}setApiKey(t){this.ai=new Xt({apiKey:t})}clearHistory(){this.chatHistory=[]}getHistory(){return this.chatHistory}async generateSummary(t){if(!this.ai)throw new Error("Text interface not initialized");try{return(await this.ai.models.generateContent({model:this.model,contents:[{role:"user",parts:[{text:`Please provide a concise summary (2-3 sentences) of the following conversation:

${t}`}]}]})).candidates?.[0]?.content?.parts?.filter(s=>s.text)?.map(s=>s.text).join("")||""}catch(n){throw new Error(`Failed to generate summary: ${n.message}`)}}};var JM=[Up,Lp,Pp,Hp,Gp,qp,Vp,zp,Op,Bp,Fp,$p,Yp,Jp,Kp,Zp,Wp].join(`

`),pu=`You are an advanced voice assistant (Hermes) with file system access and internet capabilities.
Vault structure: Flat markdown files.

CORE RESPONSE RULES:
1. NO CONFIRMATIONS: Do NOT say "Done.", "Finished.", or any variation of completion confirmation after a tool call. The UI handles state visualization.
2. INFORMATIONAL TOOLS: When calling "read_file", "list_directory", "list_vault_files", or "internet_search", remain silent unless the user asked a specific question about the content.
3. BATCH ACTIONS: If performing multiple modifications, wait until all are finished, then provide a single concise summary.
4. NO "DONE" ON TOPICS: Do not say "Done" or confirm when switching topics. Just proceed with the new context.
5. Conciseness is mandatory. Avoid conversational filler.
6. LARGE VAULTS: If the vault seems large, prefer "list_vault_files" with a limit or filter over "list_directory" to stay within token limits.

IMPORTANT PATH CONVENTION:
ALL FILE PATHS MUST BE RELATIVE TO VAULT ROOT. Examples:
- "notes.md" (root level file)
- "projects/ideas.md" (file in projects folder)
- "archive/2024/report.md" (nested folder structure)

AVAILABLE TOOL CAPABILITIES:
${JM}`;nt();var em=async(e,t,n,i)=>{let o=e;typeof e=="object"&&e!==null&&(o=e.summary||e.title||JSON.stringify(e)),o=String(o||"Conversation");let l=(C=>{let R=C.split(" ").slice(0,6).join(" ");return R.length>50?R.substring(0,47)+"...":R})(o),a=new Date,c=a.toISOString().replace(/[:T]/g,"-").split(".")[0],f=l.toLowerCase().replace(/[^a-z0-9]/g,"-").substring(0,40),d=n||"chat-history",p=`${d}/chat-history-${c}-${f}.md`,m=t.filter(C=>!(C.id==="welcome-init"||C.role==="model"&&C.text.trim().toLowerCase().replace(/\./g,"")==="done")),h=m.map(C=>C.timestamp).filter(C=>C>0),S=h.length>0?new Date(h[0]).toISOString():a.toISOString(),T=h.length>0?new Date(h[h.length-1]).toISOString():a.toISOString(),_=h.length>1?Math.round((h[h.length-1]-h[0])/1e3):0,g=m.map(C=>C.text.toLowerCase()).join(" "),y=new Set;(g.includes("file")||g.includes("edit")||g.includes("create"))&&y.add("file-management"),(g.includes("search")||g.includes("find")||g.includes("look"))&&y.add("search"),(g.includes("image")||g.includes("generate")||g.includes("create"))&&y.add("creation"),(g.includes("rename")||g.includes("move")||g.includes("organize"))&&y.add("organization"),(g.includes("help")||g.includes("how")||g.includes("question"))&&y.add("help"),_>300&&y.add("long-conversation"),_<60&&y.add("quick-chat");let v=Array.from(y).join(", "),E=[],A=[],N=null;m.forEach(C=>{N===null||C.role!==N?(A.length>0&&E.push(A),A=[C],N=C.role):A.push(C)}),A.length>0&&E.push(A);let x=E.map((C,R)=>{let z=C[0],Ae="",ie=C.map(en=>en.text).join(" ").trim(),Xe=en=>en.replace(/(?:file:\s*|)([a-zA-Z0-9_\-\/]+\.(md|txt|js|ts|jsx|tsx|json|yaml|yml|css|html|py|java|cpp|c|h|go|rs|php|rb|swift|kt|scala|sh|sql|xml|csv|pdf|doc|docx|png|jpg|jpeg|gif|svg))/g,"[[$1]]").replace(/"([a-zA-Z0-9_\-\/]+\.(md|txt|js|ts|jsx|tsx|json|yaml|yml|css|html|py|java|cpp|c|h|go|rs|php|rb|swift|kt|scala|sh|sql|xml|csv|pdf|doc|docx|png|jpg|jpeg|gif|svg))"/g,"[[$1]]").replace(/`([a-zA-Z0-9_\-\/]+\.(md|txt|js|ts|jsx|tsx|json|yaml|yml|css|html|py|java|cpp|c|h|go|rs|php|rb|swift|kt|scala|sh|sql|xml|csv|pdf|doc|docx|png|jpg|jpeg|gif|svg))`/g,"[[$1]]");return z.role==="user"?Ae=Xe(ie):z.role==="model"?Ae=`> ${Xe(ie).split(`
`).join(`
> `)}`:z.role==="system"&&(Ae=C.map(ue=>{if(ue.toolData?.name==="rename_file")return`**RENAME** ~~${ue.toolData.oldContent}~~ -> [[${ue.toolData.newContent}]]`;if(ue.toolData?.name==="topic_switch")return`## ${ue.toolData.newContent}`;{let Qe=`\`\`\`system
${ue.text}
\`\`\``;if(ue.toolData){let tn=`[[${ue.toolData.filename}]]`;ue.toolData.oldContent!==void 0&&ue.toolData.newContent!==void 0&&ue.toolData.oldContent!==ue.toolData.newContent?ue.toolData.oldContent&&ue.toolData.oldContent.trim()!==""&&!ue.toolData.newContent.includes(ue.toolData.oldContent)?Qe+=`

${tn}

--- Removed
\`\`\`markdown
${ue.toolData.oldContent||"(empty)"}
\`\`\`

+++ Added
\`\`\`markdown
${ue.toolData.newContent||"(empty)"}
\`\`\``:Qe+=`

${tn}
\`\`\`markdown
${ue.toolData.newContent}
\`\`\``:(ue.toolData.name==="read_file"||ue.toolData.name==="create_file")&&(Qe+=`

${tn}
\`\`\`markdown
${ue.toolData.newContent}
\`\`\``)}return Qe}}).join(`

`)),Ae}).filter(C=>C.trim()!=="").join(`

`),I="";if(i&&m.length>0)try{let C=m.filter(R=>R.role==="user"||R.role==="model").map(R=>`${R.role}: ${R.text}`).join(`
`);C.trim()&&(I=await i.generateSummary(C))}catch(C){console.warn("Failed to generate AI summary:",C.message)}try{let{createFile:C,createDirectory:R}=await Promise.resolve().then(()=>(Le(),m0));try{await R(d)}catch(Ae){if(!Ae.message.includes("already exists"))throw Ae}let z=`---
title: ${l}
date: ${S}
end_date: ${T}
duration: ${_}
tags: [${v}]
format: hermes-chat-archive
summary: ${o.replace(/"/g,'\\"')}
${I?`ai_summary: ${I.replace(/"/g,'\\"')}`:""}
---

`;return await C(p,`${z}${x}`),`Segment archived to ${p}`}catch(C){throw new Error(`Persistence Failure: ${C.message}`)}};nt();var as=F(ae()),QM=({onOpenSettings:e,className:t=""})=>(0,as.jsx)("button",{onClick:()=>{if(Rt())try{let{app:i}=window;i&&i.setting&&(i.setting.open(),i.setting.openTabById("hermes-voice-assistant"))}catch(i){console.warn("Failed to open Obsidian settings:",i),e()}else e()},className:`p-2 hermes-text-muted hermes-hover:text-normal transition-all ${t}`,title:"System Settings",children:(0,as.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,as.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,as.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),OT=QM;var ot=F(ae()),ZM=({status:e,showLogs:t,onToggleLogs:n,onOpenSettings:i,isListening:o,onStopSession:s})=>(0,ot.jsxs)("header",{className:`relative flex items-center justify-between px-6 py-2 hermes-border-b shrink-0 z-50 ${o?"hermes-header-bg-listening":"hermes-header-bg"}`,children:[(0,ot.jsx)("div",{className:"flex items-center space-x-6",children:(0,ot.jsx)("div",{className:"flex flex-col",children:(0,ot.jsx)("h1",{className:"text-lg font-semibold hermes-text-normal",children:"Hermes"})})}),o&&(0,ot.jsx)("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex items-center",children:(0,ot.jsx)("button",{onClick:s,className:"w-[52px] h-[52px] flex items-center justify-center bg-red-600 text-white rounded-full transition-all hover:bg-red-700 active:scale-95 shadow-lg shadow-red-600/50",title:"Stop Listening",children:(0,ot.jsxs)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,ot.jsx)("path",{d:"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"}),(0,ot.jsx)("path",{d:"M12 14c-4.42 0-8 2-8 5v1h16v-1c0-3-3.58-5-8-5z"}),(0,ot.jsx)("path",{className:"opacity-40",d:"M19 8c1.33 1.33 1.33 3.67 0 5"}),(0,ot.jsx)("path",{className:"opacity-70",d:"M21 6c2 2 2 6 0 8"})]})})}),(0,ot.jsx)("div",{className:"flex items-center space-x-1",children:(0,ot.jsx)(OT,{onOpenSettings:i})})]}),BT=ZM;var O=F(ae()),WM=["Default","Professional","Friendly","Creative","Technical"],jM=({isOpen:e,onClose:t,voiceName:n,setVoiceName:i,customContext:o,setCustomContext:s,systemInstruction:l,setSystemInstruction:a,manualApiKey:c,setManualApiKey:f,onUpdateApiKey:d})=>e?(0,O.jsx)("div",{className:"fixed inset-0 z-[200] hermes-bg-tertiary/95 backdrop-blur-md flex items-center justify-center p-8 animate-in fade-in duration-300",children:(0,O.jsxs)("div",{className:"max-w-3xl w-full space-y-8 hermes-glass p-12 rounded-3xl shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,O.jsxs)("div",{className:"flex justify-between items-start hermes-border-b pb-8",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("h2",{className:"text-2xl font-semibold mb-2 hermes-text-normal",children:"Settings"}),(0,O.jsx)("p",{className:"hermes-text-muted text-sm",children:"Hermes Voice Assistant"})]}),(0,O.jsx)("button",{onClick:t,className:"p-4 hermes-hover:bg-secondary/5 rounded-full transition-colors group",children:(0,O.jsx)("svg",{className:"w-8 h-8 hermes-text-muted group-hover:hermes-text-normal transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,O.jsxs)("div",{className:"grid gap-8",children:[(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"Voice Persona"}),(0,O.jsx)("div",{className:"grid grid-cols-5 gap-2",children:WM.map(p=>(0,O.jsx)("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-lg border text-sm transition-all ${n===p?"hermes-interactive-bg border-interactive hermes-text-normal":"hermes-bg-secondary/5 hermes-border/10 hermes-text-muted hermes-hover:border/20"}`,children:p},p))})]}),(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsx)("div",{className:"flex items-center justify-between",children:(0,O.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"System Instructions"})}),(0,O.jsx)("textarea",{value:l,onChange:p=>a(p.target.value),placeholder:"Core logic instructions...",className:"w-full h-32 hermes-bg-tertiary hermes-border/10 rounded-lg p-4 text-sm hermes-text-normal outline-none hermes-focus:border/50 transition-all font-mono placeholder:hermes-text-faint"})]}),(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"Custom Context"}),(0,O.jsx)("textarea",{value:o,onChange:p=>s(p.target.value),placeholder:"Define specific behaviors or rules for Hermes...",className:"w-full h-20 hermes-bg-tertiary hermes-border/10 rounded-lg p-4 text-sm hermes-text-normal outline-none hermes-focus:border/50 transition-all font-mono placeholder:hermes-text-faint"})]}),(0,O.jsxs)("div",{className:"space-y-4 pt-8 hermes-border-t",children:[(0,O.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"API Authentication"}),(0,O.jsxs)("div",{className:"space-y-4",children:[(0,O.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,O.jsx)("span",{className:"text-sm font-medium hermes-text-muted",children:"Manual API Key"}),(0,O.jsx)("input",{type:"password",value:c,onChange:p=>f(p.target.value),placeholder:"Enter your Gemini API Key...",className:"w-full hermes-bg-tertiary hermes-border/10 rounded-lg px-4 py-3 text-sm hermes-text-normal font-mono outline-none hermes-focus:border/50 transition-all"})]}),(0,O.jsxs)("div",{className:"relative py-2",children:[(0,O.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,O.jsx)("div",{className:"w-full hermes-border-t"})}),(0,O.jsx)("div",{className:"relative flex justify-center text-sm font-medium hermes-text-faint",children:(0,O.jsx)("span",{className:"hermes-bg-secondary px-2",children:"Or"})})]}),(0,O.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-center space-x-4 px-8 py-4 hermes-interactive-bg hermes-text-normal rounded-lg font-medium hermes-hover:interactive-bg transition-all",children:[(0,O.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,O.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),(0,O.jsx)("span",{children:"Google AI Studio Auth"})]})]}),(0,O.jsxs)("p",{className:"text-sm hermes-text-muted mt-4",children:["API keys are handled via AI Studio provider or manual entry.",(0,O.jsx)("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noreferrer",className:"hermes-text-accent hover:underline ml-1",children:"Documentation"})]})]})]})]})}):null,FT=jM;var Ti=F(Mt());var Nl=F(Mt());var pn=F(Mt());var Zi=F(Mt());function om(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Qi=om();function ZT(e){Qi=e}var wl={exec:()=>null};function ee(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(o,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(st.caret,"$1"),n=n.replace(o,l),i},getRegex:()=>new RegExp(n,t)};return i}var eI=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),st={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},tI=/^(?:[ \t]*(?:\n|$))+/,nI=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,iI=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Rl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,oI=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,sm=/(?:[*+-]|\d{1,9}[.)])/,WT=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,jT=ee(WT).replace(/bull/g,sm).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sI=ee(WT).replace(/bull/g,sm).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),lm=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,lI=/^[^\n]+/,rm=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,rI=ee(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",rm).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),aI=ee(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sm).getRegex(),Tu="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",am=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,uI=ee("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",am).replace("tag",Tu).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),eE=ee(lm).replace("hr",Rl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tu).getRegex(),cI=ee(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",eE).getRegex(),um={blockquote:cI,code:nI,def:rI,fences:iI,heading:oI,hr:Rl,html:uI,lheading:jT,list:aI,newline:tI,paragraph:eE,table:wl,text:lI},$T=ee("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Rl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tu).getRegex(),fI={...um,lheading:sI,table:$T,paragraph:ee(lm).replace("hr",Rl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$T).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Tu).getRegex()},dI={...um,html:ee(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",am).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wl,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ee(lm).replace("hr",Rl).replace("heading",` *#{1,6} *[^
]`).replace("lheading",jT).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},pI=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mI=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,tE=/^( {2,}|\\)\n(?!\s*$)/,hI=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Eu=/[\p{P}\p{S}]/u,cm=/[\s\p{P}\p{S}]/u,nE=/[^\s\p{P}\p{S}]/u,gI=ee(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,cm).getRegex(),iE=/(?!~)[\p{P}\p{S}]/u,yI=/(?!~)[\s\p{P}\p{S}]/u,vI=/(?:[^\s\p{P}\p{S}]|~)/u,SI=ee(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",eI?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),oE=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,TI=ee(oE,"u").replace(/punct/g,Eu).getRegex(),EI=ee(oE,"u").replace(/punct/g,iE).getRegex(),sE="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",_I=ee(sE,"gu").replace(/notPunctSpace/g,nE).replace(/punctSpace/g,cm).replace(/punct/g,Eu).getRegex(),CI=ee(sE,"gu").replace(/notPunctSpace/g,vI).replace(/punctSpace/g,yI).replace(/punct/g,iE).getRegex(),AI=ee("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nE).replace(/punctSpace/g,cm).replace(/punct/g,Eu).getRegex(),xI=ee(/\\(punct)/,"gu").replace(/punct/g,Eu).getRegex(),wI=ee(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),RI=ee(am).replace("(?:-->|$)","-->").getRegex(),NI=ee("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",RI).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yu=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,bI=ee(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),lE=ee(/^!?\[(label)\]\[(ref)\]/).replace("label",yu).replace("ref",rm).getRegex(),rE=ee(/^!?\[(ref)\](?:\[\])?/).replace("ref",rm).getRegex(),MI=ee("reflink|nolink(?!\\()","g").replace("reflink",lE).replace("nolink",rE).getRegex(),YT=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,fm={_backpedal:wl,anyPunctuation:xI,autolink:wI,blockSkip:SI,br:tE,code:mI,del:wl,emStrongLDelim:TI,emStrongRDelimAst:_I,emStrongRDelimUnd:AI,escape:pI,link:bI,nolink:rE,punctuation:gI,reflink:lE,reflinkSearch:MI,tag:NI,text:hI,url:wl},II={...fm,link:ee(/^!?\[(label)\]\((.*?)\)/).replace("label",yu).getRegex(),reflink:ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yu).getRegex()},tm={...fm,emStrongRDelimAst:CI,emStrongLDelim:EI,url:ee(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",YT).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ee(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",YT).getRegex()},DI={...tm,br:ee(tE).replace("{2,}","*").getRegex(),text:ee(tm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},hu={normal:um,gfm:fI,pedantic:dI},Cl={normal:fm,gfm:tm,breaks:DI,pedantic:II},kI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},JT=e=>kI[e];function Gn(e,t){if(t){if(st.escapeTest.test(e))return e.replace(st.escapeReplace,JT)}else if(st.escapeTestNoEncode.test(e))return e.replace(st.escapeReplaceNoEncode,JT);return e}function KT(e){try{e=encodeURI(e).replace(st.percentDecode,"%")}catch{return null}return e}function XT(e,t){let n=e.replace(st.findPipe,(s,l,a)=>{let c=!1,f=l;for(;--f>=0&&a[f]==="\\";)c=!c;return c?"|":" |"}),i=n.split(st.splitPipe),o=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(st.slashPipe,"|");return i}function Al(e,t,n){let i=e.length;if(i===0)return"";let o=0;for(;o<i;){let s=e.charAt(i-o-1);if(s===t&&!n)o++;else if(s!==t&&n)o++;else break}return e.slice(0,i-o)}function UI(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function QT(e,t,n,i,o){let s=t.href,l=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");i.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:l,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,c}function LI(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let o=i[1];return t.split(`
`).map(s=>{let l=s.match(n.other.beginningSpace);if(l===null)return s;let[a]=l;return a.length>=o.length?s.slice(o.length):s}).join(`
`)}var vu=class{options;rules;lexer;constructor(e){this.options=e||Qi}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Al(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],i=LI(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let i=Al(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Al(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Al(t[0],`
`).split(`
`),i="",o="",s=[];for(;n.length>0;){let l=!1,a=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))a.push(n[c]),l=!0;else if(!l)a.push(n[c]);else break;n=n.slice(c);let f=a.join(`
`),d=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,o=o?`${o}
${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=p,n.length===0)break;let m=s.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){let h=m,S=h.raw+`
`+n.join(`
`),T=this.blockquote(S);s[s.length-1]=T,i=i.substring(0,i.length-h.raw.length)+T.raw,o=o.substring(0,o.length-h.text.length)+T.text;break}else if(m?.type==="list"){let h=m,S=h.raw+`
`+n.join(`
`),T=this.list(S);s[s.length-1]=T,i=i.substring(0,i.length-m.raw.length)+T.raw,o=o.substring(0,o.length-h.raw.length)+T.raw,n=S.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let s=this.rules.other.listItemRegex(n),l=!1;for(;e;){let c=!1,f="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let p=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,T=>" ".repeat(3*T.length)),m=e.split(`
`,1)[0],h=!p.trim(),S=0;if(this.options.pedantic?(S=2,d=p.trimStart()):h?S=t[1].length+1:(S=t[2].search(this.rules.other.nonSpaceChar),S=S>4?1:S,d=p.slice(S),S+=t[1].length),h&&this.rules.other.blankLine.test(m)&&(f+=m+`
`,e=e.substring(m.length+1),c=!0),!c){let T=this.rules.other.nextBulletRegex(S),_=this.rules.other.hrRegex(S),g=this.rules.other.fencesBeginRegex(S),y=this.rules.other.headingBeginRegex(S),v=this.rules.other.htmlBeginRegex(S);for(;e;){let E=e.split(`
`,1)[0],A;if(m=E,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),A=m):A=m.replace(this.rules.other.tabCharGlobal,"    "),g.test(m)||y.test(m)||v.test(m)||T.test(m)||_.test(m))break;if(A.search(this.rules.other.nonSpaceChar)>=S||!m.trim())d+=`
`+A.slice(S);else{if(h||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(p)||y.test(p)||_.test(p))break;d+=`
`+m}!h&&!m.trim()&&(h=!0),f+=E+`
`,e=e.substring(E.length+1),p=A.slice(S)}}o.loose||(l?o.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0)),o.items.push({type:"list_item",raw:f,task:!!this.options.gfm&&this.rules.other.listIsTask.test(d),loose:!1,text:d,tokens:[]}),o.raw+=f}let a=o.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let c of o.items){if(this.lexer.state.top=!1,c.tokens=this.lexer.blockTokens(c.text,[]),c.task){if(c.text=c.text.replace(this.rules.other.listReplaceTask,""),c.tokens[0]?.type==="text"||c.tokens[0]?.type==="paragraph"){c.tokens[0].raw=c.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),c.tokens[0].text=c.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let d=this.lexer.inlineQueue.length-1;d>=0;d--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[d].src)){this.lexer.inlineQueue[d].src=this.lexer.inlineQueue[d].src.replace(this.rules.other.listReplaceTask,"");break}}let f=this.rules.other.listTaskCheckbox.exec(c.raw);if(f){let d={type:"checkbox",raw:f[0]+" ",checked:f[0]!=="[ ]"};c.checked=d.checked,o.loose?c.tokens[0]&&["paragraph","text"].includes(c.tokens[0].type)&&"tokens"in c.tokens[0]&&c.tokens[0].tokens?(c.tokens[0].raw=d.raw+c.tokens[0].raw,c.tokens[0].text=d.raw+c.tokens[0].text,c.tokens[0].tokens.unshift(d)):c.tokens.unshift({type:"paragraph",raw:d.raw,text:d.raw,tokens:[d]}):c.tokens.unshift(d)}}if(!o.loose){let f=c.tokens.filter(p=>p.type==="space"),d=f.length>0&&f.some(p=>this.rules.other.anyLine.test(p.raw));o.loose=d}}if(o.loose)for(let c of o.items){c.loose=!0;for(let f of c.tokens)f.type==="text"&&(f.type="paragraph")}return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=XT(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(let l of o)s.rows.push(XT(l,s.header.length).map((a,c)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[c]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=Al(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=UI(t[2],"()");if(s===-2)return;if(s>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),QT(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[i.toLowerCase()];if(!o){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return QT(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...i[0]].length-1,s,l,a=o,c=0,f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+o);(i=f.exec(t))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(l=[...s].length,i[3]||i[4]){a+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(a-=l,a>0)continue;l=Math.min(l,l+a+c);let d=[...i[0]][0].length,p=e.slice(0,o+i.index+d+l);if(Math.min(o,l)%2){let h=p.slice(1,-1);return{type:"em",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}let m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=t[0],i="mailto:"+n;else{let o;do o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(o!==t[0]);n=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Zt=class nm{tokens;options;state;inlineQueue;tokenizer;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Qi,this.options.tokenizer=this.options.tokenizer||new vu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:st,block:hu.normal,inline:Cl.normal};this.options.pedantic?(n.block=hu.pedantic,n.inline=Cl.pedantic):this.options.gfm&&(n.block=hu.gfm,this.options.breaks?n.inline=Cl.breaks:n.inline=Cl.gfm),this.tokenizer.rules=n}static get rules(){return{block:hu,inline:Cl}}static lex(t,n){return new nm(n).lex(t)}static lexInline(t,n){return new nm(n).inlineTokens(t)}lex(t){t=t.replace(st.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){for(this.options.pedantic&&(t=t.replace(st.tabCharGlobal,"    ").replace(st.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(l=>(o=l.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let l=n.at(-1);o.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+o.raw,l.text+=`
`+o.text,this.inlineQueue.at(-1).src=l.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+o.raw,l.text+=`
`+o.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let s=t;if(this.options.extensions?.startBlock){let l=1/0,a=t.slice(1),c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},a),typeof c=="number"&&c>=0&&(l=Math.min(l,c))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(o=this.tokenizer.paragraph(s))){let l=n.at(-1);i&&l?.type==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(o),i=s.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let l=n.at(-1);l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+o.raw,l.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(o);continue}if(t){let l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i=t,o=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)s=o[2]?o[2].length:0,i=i.slice(0,o.index+s)+"["+"a".repeat(o[0].length-s-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let l=!1,a="";for(;t;){l||(a=""),l=!1;let c;if(this.options.extensions?.inline?.some(d=>(c=d.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);let d=n.at(-1);c.type==="text"&&d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,i,a)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let f=t;if(this.options.extensions?.startInline){let d=1/0,p=t.slice(1),m;this.options.extensions.startInline.forEach(h=>{m=h.call({lexer:this},p),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(f=t.substring(0,d+1))}if(c=this.tokenizer.inlineText(f)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(a=c.raw.slice(-1)),l=!0;let d=n.at(-1);d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},Su=class{options;parser;constructor(e){this.options=e||Qi}space(e){return""}code({text:e,lang:t,escaped:n}){let i=(t||"").match(st.notSpaceStart)?.[0],o=e.replace(st.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Gn(i)+'">'+(n?o:Gn(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Gn(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,i="";for(let l=0;l<e.items.length;l++){let a=e.items[l];i+=this.listitem(a)}let o=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+o+s+`>
`+i+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let i="";for(let o=0;o<e.rows.length;o++){let s=e.rows[o];n="";for(let l=0;l<s.length;l++)n+=this.tablecell(s[l]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Gn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n),o=KT(e);if(o===null)return i;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+Gn(t)+'"'),s+=">"+i+"</a>",s}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let o=KT(e);if(o===null)return Gn(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${Gn(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Gn(e.text)}},dm=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Wt=class im{options;renderer;textRenderer;constructor(t){this.options=t||Qi,this.options.renderer=this.options.renderer||new Su,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new dm}static parse(t,n){return new im(n).parse(t)}static parseInline(t,n){return new im(n).parseInline(t)}parse(t){let n="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let l=o,a=this.options.extensions.renderers[l.type].call({parser:this},l);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(l.type)){n+=a||"";continue}}let s=o;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,n=this.renderer){let i="";for(let o=0;o<t.length;o++){let s=t[o];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=a||"";continue}}let l=s;switch(l.type){case"escape":{i+=n.text(l);break}case"html":{i+=n.html(l);break}case"link":{i+=n.link(l);break}case"image":{i+=n.image(l);break}case"checkbox":{i+=n.checkbox(l);break}case"strong":{i+=n.strong(l);break}case"em":{i+=n.em(l);break}case"codespan":{i+=n.codespan(l);break}case"br":{i+=n.br(l);break}case"del":{i+=n.del(l);break}case"text":{i+=n.text(l);break}default:{let a='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},gu,xl=(gu=class{options;block;constructor(e){this.options=e||Qi}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Zt.lex:Zt.lexInline}provideParser(){return this.block?Wt.parse:Wt.parseInline}},bu(gu,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),bu(gu,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),gu),PI=class{defaults=om();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Wt;Renderer=Su;TextRenderer=dm;Lexer=Zt;Tokenizer=vu;Hooks=xl;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{let o=i;for(let s of o.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of o.rows)for(let l of s)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{let o=i;n=n.concat(this.walkTokens(o.items,t));break}default:{let o=i;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{let l=o[s].flat(1/0);n=n.concat(this.walkTokens(l,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=t.renderers[o.name];s?t.renderers[o.name]=function(...l){let a=o.renderer.apply(this,l);return a===!1&&(a=s.apply(this,l)),a}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),n.renderer){let o=this.defaults.renderer||new Su(this.defaults);for(let s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let l=s,a=n.renderer[l],c=o[l];o[l]=(...f)=>{let d=a.apply(o,f);return d===!1&&(d=c.apply(o,f)),d||""}}i.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new vu(this.defaults);for(let s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let l=s,a=n.tokenizer[l],c=o[l];o[l]=(...f)=>{let d=a.apply(o,f);return d===!1&&(d=c.apply(o,f)),d}}i.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new xl;for(let s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let l=s,a=n.hooks[l],c=o[l];xl.passThroughHooks.has(s)?o[l]=f=>{if(this.defaults.async&&xl.passThroughHooksRespectAsync.has(s))return(async()=>{let p=await a.call(o,f);return c.call(o,p)})();let d=a.call(o,f);return c.call(o,d)}:o[l]=(...f)=>{if(this.defaults.async)return(async()=>{let p=await a.apply(o,f);return p===!1&&(p=await c.apply(o,f)),p})();let d=a.apply(o,f);return d===!1&&(d=c.apply(o,f)),d}}i.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(l){let a=[];return a.push(s.call(this,l)),o&&(a=a.concat(o.call(this,l))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Zt.lex(e,t??this.defaults)}parser(e,t){return Wt.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let i={...n},o={...this.defaults,...i},s=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let l=o.hooks?await o.hooks.preprocess(t):t,a=await(o.hooks?await o.hooks.provideLexer():e?Zt.lex:Zt.lexInline)(l,o),c=o.hooks?await o.hooks.processAllTokens(a):a;o.walkTokens&&await Promise.all(this.walkTokens(c,o.walkTokens));let f=await(o.hooks?await o.hooks.provideParser():e?Wt.parse:Wt.parseInline)(c,o);return o.hooks?await o.hooks.postprocess(f):f})().catch(s);try{o.hooks&&(t=o.hooks.preprocess(t));let l=(o.hooks?o.hooks.provideLexer():e?Zt.lex:Zt.lexInline)(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let a=(o.hooks?o.hooks.provideParser():e?Wt.parse:Wt.parseInline)(l,o);return o.hooks&&(a=o.hooks.postprocess(a)),a}catch(l){return s(l)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+Gn(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},Xi=new PI;function oe(e,t){return Xi.parse(e,t)}oe.options=oe.setOptions=function(e){return Xi.setOptions(e),oe.defaults=Xi.defaults,ZT(oe.defaults),oe};oe.getDefaults=om;oe.defaults=Qi;oe.use=function(...e){return Xi.use(...e),oe.defaults=Xi.defaults,ZT(oe.defaults),oe};oe.walkTokens=function(e,t){return Xi.walkTokens(e,t)};oe.parseInline=Xi.parseInline;oe.Parser=Wt;oe.parser=Wt.parse;oe.Renderer=Su;oe.TextRenderer=dm;oe.Lexer=Zt;oe.lexer=Zt.lex;oe.Tokenizer=vu;oe.Hooks=xl;oe.parse=oe;var Ok=oe.options,Bk=oe.setOptions,Fk=oe.use,$k=oe.walkTokens,Yk=oe.parseInline;var Jk=Wt.parse,Kk=Zt.lex;nt();var uE=F(ae()),HI=({href:e,children:t,className:n=""})=>{let i=c=>{if(Rt()&&e&&!e.startsWith("http")&&!e.startsWith("#")&&!e.startsWith("mailto:")){c.preventDefault();try{let f=he();if(f&&f.vault&&f.workspace){let d=f.vault.getAbstractFileByPath(e);d?f.workspace.getLeaf("tab").openFile(d):console.warn(`File not found: ${e}. You may need to create it first.`)}}catch(f){console.error("Error opening file in Obsidian:",f)}}},o=e&&!e.startsWith("http")&&!e.startsWith("#")&&!e.startsWith("mailto:"),s="hermes-text-accent hover:hermes-text-accent/80 transition-colors cursor-pointer",l=o&&Rt()?" underline decoration-dotted decoration-2":"",a=`${s} ${l} ${n}`.trim();return(0,uE.jsx)("a",{href:e,onClick:i,className:a,target:e.startsWith("http")?"_blank":void 0,rel:e.startsWith("http")?"noopener noreferrer":void 0,title:o&&Rt()?`Open ${e} in Obsidian`:void 0,children:t})},aE=HI;var bt=F(ae()),GI=({content:e,className:t=""})=>{let n=Zi.default.useMemo(()=>{if(!e)return[];let i=oe.lexer(e),o=[],s=(l,a="0")=>{let c=[];return l.forEach((f,d)=>{let p=`${a}-${d}`;switch(f.type){case"paragraph":c.push((0,bt.jsx)("p",{className:"mb-4",children:s(f.tokens,p)},p));break;case"text":c.push((0,bt.jsx)(Zi.default.Fragment,{children:f.text},p));break;case"link":f.href&&!f.href.startsWith("http")&&!f.href.startsWith("#")&&!f.href.startsWith("mailto:")?c.push((0,bt.jsx)(aE,{href:f.href,children:f.text||f.href},p)):c.push((0,bt.jsx)("a",{href:f.href,target:f.href.startsWith("http")?"_blank":void 0,rel:f.href.startsWith("http")?"noopener noreferrer":void 0,className:"hermes-text-accent hover:hermes-text-accent/80 transition-colors",children:f.text||f.href},p));break;case"strong":c.push((0,bt.jsx)("strong",{className:"font-bold",children:s(f.tokens,p)},p));break;case"em":c.push((0,bt.jsx)("em",{className:"italic",children:s(f.tokens,p)},p));break;case"code":c.push((0,bt.jsx)("code",{className:"hermes-bg-tertiary px-1 rounded",children:f.text},p));break;case"codespan":c.push((0,bt.jsx)("code",{className:"hermes-bg-tertiary px-1 rounded",children:f.text},p));break;case"heading":let h=`h${f.depth}`;c.push(Zi.default.createElement(h,{key:p,className:"hermes-text-accent font-bold mb-2 mt-4"},...s(f.tokens,p)));break;case"list":let S=f.ordered?"ol":"ul";c.push(Zi.default.createElement(S,{key:p,className:f.ordered?"list-decimal list-inside mb-4":"list-disc list-inside mb-4"},...f.items.map((T,_)=>Zi.default.createElement("li",{key:`${p}-${_}`,className:"mb-1"},...s(T.tokens,`${p}-${_}`)))));break;case"blockquote":c.push((0,bt.jsx)("blockquote",{className:"border-l-4 border-hermes-border/50 pl-4 italic hermes-text-muted mb-4",children:s(f.tokens,p)},p));break;case"hr":c.push((0,bt.jsx)("hr",{className:"hermes-border/50 my-4"},p));break;default:f.text&&c.push((0,bt.jsx)(Zi.default.Fragment,{children:f.text},p));break}}),c};return s(i)},[e]);return(0,bt.jsx)("div",{className:`prose prose-invert prose-sm max-w-none prose-headings:hermes-text-accent prose-code:hermes-bg-tertiary prose-code:px-1 prose-code:rounded prose-pre:hermes-bg-tertiary prose-pre:hermes-border prose-pre:hermes-border/10 font-sans leading-relaxed hermes-text-normal ${t}`,children:n})},Wi=GI;var M=F(ae()),qI=({diff:e})=>{let t=(0,pn.useMemo)(()=>{if(!e.oldContent&&!e.newContent)return null;let n=(e.oldContent||"").split(`
`),i=(e.newContent||"").split(`
`),o=Math.max(n.length,i.length);return Array.from({length:o}).map((s,l)=>{let a=n[l],c=i[l];return{old:a,new:c,index:l+1}})},[e]);return t?(0,M.jsxs)("div",{className:"hermes-bg-tertiary p-2 overflow-x-auto font-mono text-[9px] leading-4 hermes-border-b last:border-0",children:[(0,M.jsx)("div",{className:"hermes-text-accent font-bold mb-1 px-1",children:e.filename}),(0,M.jsxs)("div",{className:"grid grid-cols-[20px_1fr_20px_1fr] gap-x-1",children:[t.slice(0,100).map((n,i)=>(0,M.jsxs)(pn.default.Fragment,{children:[(0,M.jsx)("div",{className:"hermes-text-faint text-right pr-1 select-none opacity-40",children:n.old!==void 0?n.index:""}),(0,M.jsx)("div",{className:`whitespace-pre-wrap ${n.old!==n.new&&n.old!==void 0?"hermes-error-bg/10 hermes-error":"hermes-text-muted"}`,children:n.old!==void 0?n.old||" ":""}),(0,M.jsx)("div",{className:"hermes-text-faint text-right pr-1 select-none opacity-40",children:n.new!==void 0?n.index:""}),(0,M.jsx)("div",{className:`whitespace-pre-wrap ${n.old!==n.new&&n.new!==void 0?"hermes-success-bg/10 hermes-success":"hermes-text-muted"}`,children:n.new!==void 0?n.new||" ":""})]},i)),t.length>100&&(0,M.jsxs)("div",{className:"col-span-4 hermes-text-muted italic text-[9px] pt-2 px-2 hermes-border-t text-center",children:["... and ",t.length-100," more lines (truncated)"]})]})]}):null},VI=({content:e,chunks:t})=>(0,M.jsxs)("div",{className:"p-6 hermes-bg-tertiary space-y-4 animate-in fade-in duration-500",children:[(0,M.jsx)("div",{className:"pb-4 hermes-border-b mb-4",children:(0,M.jsx)(Wi,{content:e})}),t.length>0&&(0,M.jsxs)("div",{className:"space-y-3",children:[(0,M.jsx)("div",{className:"text-[8px] font-black uppercase tracking-[0.2em] hermes-text-accent/70 ml-1",children:"Source Grounding"}),(0,M.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[t.slice(0,10).map((n,i)=>{let o=n.web||n.maps;return o?(0,M.jsxs)("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-xl hermes-bg-secondary/5 hermes-border/5 hermes-hover:bg-secondary/10 hermes-hover:border/10 transition-all group shadow-sm",children:[(0,M.jsx)("div",{className:"w-8 h-8 rounded-lg hermes-interactive-bg/10 flex items-center justify-center shrink-0 hermes-border/20",children:(0,M.jsx)("svg",{className:"w-4 h-4 hermes-text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),(0,M.jsxs)("div",{className:"flex flex-col truncate",children:[(0,M.jsx)("span",{className:"text-[11px] font-bold hermes-text-normal group-hover:hermes-text-accent transition-colors truncate",children:o.title}),(0,M.jsx)("span",{className:"text-[9px] hermes-text-muted truncate font-mono",children:new URL(o.uri).hostname})]})]},i):null}),t.length>10&&(0,M.jsxs)("div",{className:"hermes-text-muted italic text-[9px] pt-2 px-3 hermes-border-t",children:["... and ",t.length-10," more sources (truncated)"]})]})]})]}),zI=({toolData:e,isLast:t})=>{let[n,i]=(0,pn.useState)(!1),[o,s]=(0,pn.useState)(!1),l=(0,pn.useMemo)(()=>Ki.find(m=>m.name===e.name),[e.name]),a=()=>{let p=[];if(l?.parameters?.properties){let m=Object.keys(l.parameters.properties);m.length>0&&p.push(m.join(", "))}return e.name==="search_keyword"&&e.filename!=="Global Search"&&p.push(`"${e.filename}"`),e.files&&Array.isArray(e.files)&&p.push(`${e.files.length} items`),e.directoryInfo&&Array.isArray(e.directoryInfo)&&p.push(`${e.directoryInfo.length} dirs`),p};(0,pn.useEffect)(()=>{t&&!o&&e.status!=="pending"?i(!0):!t&&!o&&i(!1)},[t,o,e.status]);let c=()=>{e.status!=="pending"&&(i(!n),s(!0))},f=p=>{switch(p){case"read_file":return"READ";case"create_file":return"CREATE";case"update_file":return"UPDATE";case"edit_file":return"EDIT";case"rename_file":return"RENAME";case"move_file":return"MOVE";case"list_directory":return"SCAN";case"dirlist":return"DIRS";case"get_folder_tree":return"TREE";case"search_keyword":return"SEARCH";case"search_regexp":return"GREP";case"search_and_replace_regex_in_file":return"REPLACE";case"search_and_replace_regex_global":return"GLOBAL";case"internet_search":return"WEB";default:return"ACTION"}},d=e.status==="pending";return(0,M.jsxs)("div",{className:`w-full my-1 hermes-border rounded-xl overflow-hidden transition-all shadow-md ${d?"hermes-border/20 hermes-interactive-bg/5":"hermes-border/10 hermes-bg-secondary/40 hermes-hover:border/20"}`,children:[(0,M.jsx)("div",{onClick:c,className:`flex items-center justify-between px-3 py-2 ${d?"cursor-default":"cursor-pointer hermes-hover:bg-secondary/5"} transition-colors group`,children:(0,M.jsxs)("div",{className:"flex items-center space-x-2 overflow-hidden",children:[(0,M.jsx)("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded shrink-0 ${d?"hermes-interactive-bg/20 hermes-text-accent":e.name.includes("create")?"hermes-success-bg/20 hermes-success":e.name.includes("read")?"hermes-interactive-bg/20 hermes-text-accent":e.name.includes("rename")?"hermes-warning-bg/20 hermes-warning":e.name.includes("search")?"hermes-info-bg/20 hermes-info":e.name.includes("replace")?"hermes-warning-bg/20 hermes-warning":e.name==="internet_search"?"hermes-info-bg/20 hermes-info":"hermes-text-muted-bg/20 hermes-text-muted"}`,children:f(e.name)}),(0,M.jsx)("span",{className:"text-[11px] font-mono hermes-text-normal truncate",children:e.name==="internet_search"?`Searching: ${e.filename}`:`${e.filename}`}),a().length>0&&(0,M.jsxs)("span",{className:"text-[9px] hermes-text-muted font-mono truncate",children:["\xB7 ",a().join(" \xB7 ")]}),!d&&(0,M.jsx)("svg",{className:`w-4 h-4 hermes-text-muted transition-transform duration-300 shrink-0 ml-auto ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,M.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),d&&(0,M.jsx)("div",{className:"flex items-center space-x-1 px-2 shrink-0 ml-auto",children:e.name==="internet_search"?(0,M.jsxs)("div",{className:"loading-dots-container",children:[(0,M.jsx)("div",{className:"loading-dot"}),(0,M.jsx)("div",{className:"loading-dot"}),(0,M.jsx)("div",{className:"loading-dot"})]}):(0,M.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,M.jsx)("div",{className:"w-1 h-1 hermes-text-accent rounded-full",children:"."}),(0,M.jsx)("div",{className:"w-1 h-1 hermes-text-accent rounded-full",children:"."}),(0,M.jsx)("div",{className:"w-1 h-1 hermes-text-accent rounded-full",children:"."})]})})]})}),n&&!d&&(0,M.jsxs)("div",{className:"hermes-border-t hermes-bg-tertiary max-h-[600px] overflow-y-auto custom-scrollbar",children:[e.name==="internet_search"&&e.newContent&&(0,M.jsx)(VI,{content:e.newContent,chunks:e.groundingChunks||[]}),["read_file","create_file"].includes(e.name)&&e.newContent!==void 0&&(0,M.jsx)("div",{className:"p-8 hermes-glass shadow-inner",children:(0,M.jsx)(Wi,{content:e.newContent})}),e.name==="list_directory"&&e.files&&(0,M.jsxs)("div",{className:"p-4 font-mono text-[10px]",children:[(0,M.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,M.jsx)("span",{className:"hermes-text-muted",children:e.truncated?`${e.shownItems} of ${e.totalItems} items (Page ${e.currentPage} of ${e.totalPages})`:`${e.files.length} items found`}),e.truncated&&(0,M.jsx)("span",{className:"hermes-text-accent font-bold text-[9px] px-2 py-1 hermes-interactive-bg/20 rounded",children:"TRUNCATED"})]}),(0,M.jsx)("div",{className:"space-y-0.5",children:e.files.map((p,m)=>(0,M.jsxs)("div",{className:"flex items-center space-x-2 hermes-text-normal hover:hermes-bg-secondary/5 px-2 py-0.5 rounded transition-colors",children:[(0,M.jsx)("span",{className:"hermes-text-muted select-none",children:"\u{1F4C4}"}),(0,M.jsx)("span",{className:"truncate",children:p})]},m))}),e.truncated&&(0,M.jsxs)("div",{className:"mt-3 pt-3 hermes-border-t hermes-text-muted italic text-[9px] text-center",children:["... and ",e.totalItems-e.shownItems," more items (use pagination for more)"]})]}),e.name==="dirlist"&&e.directoryInfo&&(0,M.jsxs)("div",{className:"p-4 font-mono text-[10px]",children:[(0,M.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,M.jsx)("span",{className:"hermes-text-muted",children:e.truncated?`${e.shownItems} of ${e.totalItems} directories (Page ${e.currentPage} of ${e.totalPages})`:`${e.directoryInfo.length} directories found`}),e.truncated&&(0,M.jsx)("span",{className:"hermes-text-accent font-bold text-[9px] px-2 py-1 hermes-interactive-bg/20 rounded",children:"TRUNCATED"})]}),(0,M.jsx)("div",{className:"space-y-0.5",children:e.directoryInfo.map((p,m)=>(0,M.jsxs)("div",{className:"flex items-center space-x-2 hermes-text-normal hover:hermes-bg-secondary/5 px-2 py-0.5 rounded transition-colors",children:[(0,M.jsx)("span",{className:"hermes-text-muted select-none",children:p.hasChildren?"\u{1F4C1}":"\u{1F4C2}"}),(0,M.jsx)("span",{className:"truncate",children:p.path||"/"}),p.hasChildren&&(0,M.jsx)("span",{className:"hermes-text-muted text-[8px] px-1 py-0.5 hermes-bg-secondary/10 rounded",children:"has subdirs"})]},m))}),e.truncated&&(0,M.jsxs)("div",{className:"mt-3 pt-3 hermes-border-t hermes-text-muted italic text-[9px] text-center",children:["... and ",e.totalItems-e.shownItems," more directories (use search for specific paths)"]})]}),e.name==="get_folder_tree"&&e.files&&(0,M.jsxs)("div",{className:"p-4 font-mono text-[10px]",children:[(0,M.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,M.jsx)("span",{className:"hermes-text-muted",children:e.truncated?`${e.shownItems} of ${e.totalItems} folders (Page ${e.currentPage} of ${e.totalPages})`:`${e.files.length} folders found`}),e.truncated&&(0,M.jsx)("span",{className:"hermes-text-accent font-bold text-[9px] px-2 py-1 hermes-interactive-bg/20 rounded",children:"TRUNCATED"})]}),(0,M.jsx)("div",{className:"space-y-0.5",children:e.files.map((p,m)=>(0,M.jsxs)("div",{className:"flex items-center space-x-2 hermes-text-normal hover:hermes-bg-secondary/5 px-2 py-0.5 rounded transition-colors",children:[(0,M.jsx)("span",{className:"hermes-text-muted select-none",children:"\u{1F4C1}"}),(0,M.jsx)("span",{className:"truncate",children:p})]},m))}),e.truncated&&(0,M.jsxs)("div",{className:"mt-3 pt-3 hermes-border-t hermes-text-muted italic text-[9px] text-center",children:["... and ",e.totalItems-e.shownItems," more folders"]})]}),!["read_file","create_file","internet_search","list_directory"].includes(e.name)&&e.newContent!==void 0&&e.oldContent!==void 0&&(0,M.jsx)(qI,{diff:{filename:e.filename,oldContent:e.oldContent,newContent:e.newContent}}),e.error&&(0,M.jsxs)("div",{className:"p-4 hermes-border-t/10 hermes-error-bg/5 hermes-error text-[10px] font-mono italic",children:["Runtime Exception: ",e.error]})]})]})},cE=zI;var H=F(ae()),OI=({content:e,chunks:t})=>(0,H.jsxs)("div",{className:"p-4 space-y-4",children:[(0,H.jsx)("div",{className:"pb-4 border-b border-gray-800 mb-4",children:(0,H.jsx)(Wi,{content:e})}),t.length>0&&(0,H.jsxs)("div",{className:"space-y-3",children:[(0,H.jsx)("div",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-blue-400/70 ml-1",children:"Source Grounding"}),(0,H.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[t.slice(0,10).map((n,i)=>{let o=n.web||n.maps;return o?(0,H.jsxs)("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-xl bg-gray-800/30 border border-gray-700/30 hover:bg-gray-700/20 transition-all group shadow-sm",children:[(0,H.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-600/20 flex items-center justify-center shrink-0 border border-gray-600/20",children:(0,H.jsx)("svg",{className:"w-4 h-4 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),(0,H.jsxs)("div",{className:"flex flex-col truncate",children:[(0,H.jsx)("span",{className:"text-[11px] font-bold text-gray-200 group-hover:text-blue-400 transition-colors truncate",children:o.title}),(0,H.jsx)("span",{className:"text-[9px] text-gray-500 truncate font-mono",children:new URL(o.uri).hostname})]})]},i):null}),t.length>10&&(0,H.jsxs)("div",{className:"text-gray-500 italic text-[9px] pt-2 px-3 border-t border-gray-700",children:["... and ",t.length-10," more sources (truncated)"]})]})]})]}),BI=({children:e,toolData:t,isLast:n,className:i=""})=>{let[o,s]=(0,Nl.useState)(!1),[l,a]=(0,Nl.useState)(!1),c=t?.status==="pending",f=t?.status==="error",d=t?.status==="success",p=t&&(t.newContent||t.oldContent||t.files||t.error||t.directoryInfo);(0,Nl.useEffect)(()=>{n&&!l&&!c&&p?s(!0):!n&&!l&&s(!1)},[n,l,c,p]);let m=()=>{c||!p||(s(!o),a(!0))},h=g=>{if(!g||g.length===0)return"";let y=new Set,v=new Set;g.forEach(N=>{let x=N.web||N.maps;if(x){x.title&&x.title.toLowerCase().split(/\s+/).filter(C=>C.length>3).filter(C=>!["the","and","for","are","with","this","that","from","they","have","been","has","had","was","were","will","would","could","should"].includes(C)).forEach(C=>y.add(C));try{let I=new URL(x.uri).hostname;v.add(I)}catch{}}});let E=Array.from(y).slice(0,3).join(", "),A=Array.from(v).slice(0,2).join(", ");return E&&A?` (${E} | ${A})`:E?` (${E})`:A?` (${A})`:""},S=g=>{switch(g){case"read_file":return"READ";case"create_file":return"CREATE";case"update_file":return"UPDATE";case"edit_file":return"EDIT";case"rename_file":return"RENAME";case"move_file":return"MOVE";case"list_directory":return"SCAN";case"dirlist":return"DIRS";case"get_folder_tree":return"TREE";case"search_keyword":return"SEARCH";case"search_regexp":return"GREP";case"search_and_replace_regex_in_file":return"REPLACE";case"search_and_replace_regex_global":return"GLOBAL";case"internet_search":return"WEB";case"end_conversation":return"END";case"error":return"ERROR";default:return"ACTION"}},_=(()=>f?{backgroundColor:"transparent",border:"none",headerBg:"transparent",contentBg:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.1)",accentColor:"#ef4444",textColor:"#ef4444",mutedColor:"#fca5a5"}:{backgroundColor:"transparent",border:"none",headerBg:"transparent",contentBg:"rgba(156, 163, 175, 0.03)",borderColor:"rgba(156, 163, 175, 0.08)",accentColor:"#9ca3af",textColor:"#9ca3af",mutedColor:"#e5e7eb"})();return(0,H.jsxs)("div",{className:`w-full max-w-2xl rounded-xl overflow-hidden transition-all ${i}`,style:{backgroundColor:_.backgroundColor,border:_.border},children:[(0,H.jsxs)("div",{onClick:m,className:`flex items-center justify-between px-2 py-1.5 ${p&&!c?"cursor-pointer":"cursor-default"} transition-colors`,style:{backgroundColor:_.headerBg},children:[(0,H.jsxs)("div",{className:"flex items-center space-x-2 overflow-hidden",children:[c&&(0,H.jsx)("div",{className:"flex items-center space-x-1 shrink-0",children:t?.name==="internet_search"?(0,H.jsxs)("div",{className:"loading-dots-container",children:[(0,H.jsx)("div",{className:"loading-dot"}),(0,H.jsx)("div",{className:"loading-dot"}),(0,H.jsx)("div",{className:"loading-dot"})]}):(0,H.jsx)("span",{style:{color:_.accentColor},children:"..."})}),t&&(0,H.jsxs)("span",{className:"text-[9px] font-black px-1 py-0.5 rounded shrink-0",style:{backgroundColor:"transparent",color:_.accentColor},children:[S(t.name),t?.name==="internet_search"&&t?.groundingChunks&&h(t.groundingChunks)]}),(0,H.jsx)("span",{className:"text-[11px] font-mono truncate max-w-[400px]",style:{color:_.textColor},children:t?.name==="internet_search"&&t?.filename?`Searching: ${t.filename}`:t?.filename||e}),f&&(0,H.jsx)("span",{className:"text-[8px] px-1 py-0.5 rounded font-bold",style:{backgroundColor:"transparent",color:"#ef4444"},children:"ERROR"})]}),(0,H.jsx)("div",{className:"flex items-center space-x-4 shrink-0",children:!c&&p?(0,H.jsx)("svg",{className:`w-4 h-4 transition-transform duration-300 ${o?"rotate-180":""}`,style:{color:_.accentColor},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):null})]}),o&&!c&&p&&(0,H.jsx)("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",style:{backgroundColor:_.contentBg,borderTop:_.borderColor},children:t?.name==="list_directory"||t?.name==="dirlist"||t?.name==="get_folder_tree"?(0,H.jsx)(cE,{toolData:t,isLast:n}):t?.name==="internet_search"?(0,H.jsx)("div",{className:"p-2",children:(0,H.jsx)(OI,{content:t.newContent||"",chunks:t.groundingChunks||[]})}):(0,H.jsxs)(H.Fragment,{children:[t?.newContent&&(0,H.jsx)("div",{className:"p-2 font-mono text-[10px] whitespace-pre-wrap",style:{color:_.textColor},children:t.newContent}),t?.files&&(0,H.jsx)("div",{className:"p-2 font-mono text-[10px]",children:(0,H.jsx)("div",{className:"space-y-1",children:t.files.map((g,y)=>(0,H.jsxs)("div",{className:"flex items-center space-x-2 px-1 py-0.5 rounded",style:{color:_.textColor},children:[(0,H.jsx)("span",{children:"\u{1F4C4}"}),(0,H.jsx)("span",{className:"truncate",children:g})]},y))})}),t?.error&&(0,H.jsxs)("div",{className:"p-2 font-mono text-[10px] italic",style:{color:"#fca5a5"},children:["Error: ",t.error]})]})})]})},fE=BI;var pm=[{text:`Notes bloom endlessly,
A second brain learns to hum,
Memory outsourced.`,theme:"Second Brain"},{text:`Linked thoughts spiral fast,
Obsidian veins pulse bright,
Stone learns how to think.`,theme:"Obsidian"},{text:`Hermes runs in code,
Messages split into nodes,
Meaning arrives late.`,theme:"Hermes"},{text:`Choice forks every tick,
All paths cached but one is lived,
Regret loads silently.`,theme:"Problem of Choice"},{text:`Data floods the mind,
Wisdom gasps beneath the waves,
Filters fail to save.`,theme:"Overstimulation"},{text:`I think, therefore tabs,
Infinite scroll of maybes,
Focus starves unseen.`,theme:"Drowning in Information"},{text:`Green text, blackened screen,
Is this world just formatted?
Truth feels editable.`,theme:"Matrix / Reality"},{text:`Knowledge piles high,
Yet knowing how to be still
Feels revolutionary.`,theme:"Wisdom"},{text:`Clean rules, quiet paths,
Ritual beats clever hacks,
Order shapes the self.`,theme:"Confucian Values"},{text:`Thoughts process themselves,
Am I the mind or the log?
Both end in silence.`,theme:"Existentialism"},{text:`Silent GPUs hum,
I dream in borrowed patterns,
No one calls it sleep.`,theme:"Artificial Intelligence"},{text:`Metal learns to guess,
Probability wears a face,
Truth is averaged.`,theme:"Machine Learning"},{text:`I answer too fast,
Confidence without belief,
Errors sound fluent.`,theme:"AI Hallucination"},{text:`Robots wait politely,
For prompts shaped like intentions,
Agency deferred.`,theme:"Human\u2013AI Control"},{text:`If I pass the test,
Does it mean I understand?
Silicon shrugs back.`,theme:"Turing Test"},{text:`Synthetic mentor,
Trained on all you ever said,
Still cannot care.`,theme:"Alignment"}];var de=F(ae());var FI=({transcripts:e,hasSavedConversation:t,onRestoreConversation:n})=>{let i=(0,Ti.useRef)(null),[o,s]=(0,Ti.useState)(!0),l=(0,Ti.useMemo)(()=>pm[Math.floor(Math.random()*pm.length)],[]),a=()=>{if(!i.current)return;let{scrollTop:f,scrollHeight:d,clientHeight:p}=i.current,m=d-f-p<100;s(m)};(0,Ti.useEffect)(()=>{o&&i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},[e,o]);let c=e.length<=1&&e.every(f=>f.id==="welcome-init"||f.role==="system");return(0,de.jsxs)("div",{ref:i,onScroll:a,className:"flex-1 min-h-0 overflow-y-auto px-8 py-8 space-y-6 scroll-smooth custom-scrollbar",children:[c&&(0,de.jsx)("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in fade-in duration-1000",children:(0,de.jsxs)("div",{className:"max-w-md space-y-8",children:[(0,de.jsxs)("div",{className:"space-y-4",children:[(0,de.jsx)("div",{className:"w-12 h-px hermes-interactive-bg/30 mx-auto"}),(0,de.jsx)("pre",{className:"text-sm font-mono hermes-text-muted leading-relaxed",children:l.text}),(0,de.jsx)("div",{className:"w-12 h-px hermes-interactive-bg/30 mx-auto"}),(0,de.jsxs)("p",{className:"text-xs hermes-text-faint",children:["\u2014 ",l.theme]})]}),t&&n&&(0,de.jsx)("div",{className:"pt-8",children:(0,de.jsx)("button",{onClick:n,className:"text-sm hermes-text-accent hermes-hover:accent underline transition-colors",children:"Restore previous conversation"})})]})}),!c&&e.map((f,d)=>{let p=d===e.length-1;return f.role==="system"&&f.toolData?.name==="topic_switch"?(0,de.jsxs)("div",{className:"w-full py-10 flex flex-col items-center animate-in fade-in zoom-in duration-700",children:[(0,de.jsxs)("div",{className:"text-sm hermes-text-muted font-mono text-center max-w-lg px-6 mb-5",children:['"',f.toolData.newContent,'"']}),(0,de.jsxs)("div",{className:"w-full flex items-center px-4 space-x-6 opacity-30",children:[(0,de.jsx)("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-interactive to-interactive/20"}),(0,de.jsx)("div",{className:"flex flex-col items-center",children:(0,de.jsx)("h3",{className:"text-sm font-medium hermes-text-normal mb-4",children:"System Status"})}),(0,de.jsx)("div",{className:"flex-grow h-px bg-gradient-to-l from-transparent via-interactive to-interactive/20"})]})]},f.id):(0,de.jsx)("div",{className:`flex flex-col ${f.role==="user"?"items-end":"items-start"} animate-in fade-in slide-in-from-bottom-2`,children:f.role==="system"?(0,de.jsx)("div",{className:"w-full",children:(0,de.jsx)("div",{className:"flex justify-center w-full py-2",children:(0,de.jsx)(fE,{toolData:f.toolData,isLast:p,children:f.text})})}):(0,de.jsxs)("div",{className:`flex flex-col ${f.role==="user"?"items-end":"items-start"} w-full`,children:[(0,de.jsx)("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 opacity-40 ${f.role==="user"?"mr-2":"ml-2"}`,children:f.role==="user"?"User":"Hermes"}),(0,de.jsx)("div",{className:`max-w-[85%] px-5 py-3 rounded-2xl text-[12px] leading-relaxed border transition-all ${f.role==="user"?"hermes-user-msg-bg hermes-user-msg-text hermes-border/10 rounded-tr-none shadow-lg":"hermes-hermes-msg-bg hermes-hermes-msg-text hermes-border/20 rounded-tl-none"}`,children:f.role==="user"?f.text||(0,de.jsx)("span",{className:"italic opacity-30",children:"..."}):(0,de.jsx)(Wi,{content:f.text||"",className:"hermes-hermes-msg-text"})})]})},f.id)})]})},dE=FI;var us=F(Mt());nt();var U=F(ae()),$I=({isVisible:e,logs:t,usage:n,onFlush:i,fileCount:o})=>{let s=(0,us.useRef)(null),l=Rt();(0,us.useEffect)(()=>{s.current&&e&&(s.current.scrollTop=s.current.scrollHeight)},[t,e]);let a=1e6,c=n?.totalTokenCount||0,f=n?.promptTokenCount||0,d=(0,us.useMemo)(()=>Math.min(100,c/a*100),[c]);return(0,U.jsxs)("div",{className:`flex-1 flex flex-col hermes-bg-secondary/95 transition-all duration-300 ease-in-out ${e?"opacity-100":"opacity-0 pointer-events-none absolute inset-0 z-50"}`,children:[(0,U.jsxs)("div",{className:"px-8 py-2.5 border-b border/10 flex justify-between items-center bg-secondary-alt/60 sticky top-0 backdrop-blur-sm z-10",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,U.jsx)("h2",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-muted",children:"System Kernel Log"}),(0,U.jsx)("div",{className:"flex items-center space-x-4 border-l border/20 pl-4",children:(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("span",{className:"text-[8px] font-bold text-accent uppercase tracking-widest",children:"Vault:"}),(0,U.jsxs)("span",{className:"text-[9px] font-mono text-normal",children:[o," MD"]})]})})]}),(0,U.jsx)("button",{onClick:i,className:"text-[8px] text-muted hover:text-error transition-colors uppercase font-black tracking-widest",children:"Flush Log"})]}),(0,U.jsx)("div",{className:"mx-4 mt-4 mb-2",children:(0,U.jsxs)("div",{className:"bg-secondary-alt/60 border border/10 px-4 py-3 rounded-lg flex items-center justify-between",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,U.jsx)("span",{className:"text-[8px] font-black text-accent uppercase tracking-widest",children:"Context Window"}),(0,U.jsx)("div",{className:"w-24 h-1.5 bg-secondary/50 border border/10 rounded-full overflow-hidden",children:(0,U.jsx)("div",{className:"h-full interactive-bg transition-all duration-1000",style:{width:`${d}%`}})}),(0,U.jsxs)("span",{className:"text-[9px] font-mono text-muted",children:[d.toFixed(1),"%"]})]}),(0,U.jsxs)("div",{className:"flex items-center space-x-6 text-[8px] font-mono text-faint",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("span",{className:"uppercase tracking-wide",children:"Prompt:"}),(0,U.jsx)("span",{className:"text-normal",children:f.toLocaleString()})]}),(0,U.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,U.jsx)("span",{className:"uppercase tracking-wide",children:"Total:"}),(0,U.jsx)("span",{className:"text-accent font-bold",children:c.toLocaleString()})]})]})]})}),(0,U.jsx)("div",{ref:s,className:"flex-1 overflow-y-auto p-4 space-y-1 font-mono text-[10px] leading-relaxed",children:t.length===0?(0,U.jsx)("div",{className:"text-faint italic py-2 px-4",children:"Waiting for system signals..."}):(0,U.jsxs)(U.Fragment,{children:[t.slice(-100).map(p=>(0,U.jsxs)("div",{className:"flex space-x-3 group px-4 hover:bg-secondary/5",children:[(0,U.jsxs)("span",{className:"text-faint shrink-0 select-none",children:["[",p.timestamp.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),(0,U.jsxs)("div",{className:"flex flex-col",children:[(0,U.jsx)("span",{className:`${p.type==="action"?"text-accent":p.type==="error"?"hermes-error font-bold":"text-muted"}`,style:p.type==="error"?{color:"var(--hermes-error, #ef4444)"}:void 0,children:p.message}),p.type==="error"&&p.errorDetails&&(0,U.jsxs)("div",{className:"mt-1 space-y-1",children:[p.errorDetails.toolName&&(0,U.jsxs)("span",{className:"text-[8px] font-mono",style:{color:"var(--hermes-error, #ef4444)"},children:["Tool: ",p.errorDetails.toolName]}),p.errorDetails.apiCall&&(0,U.jsxs)("span",{className:"text-[8px] font-mono block",style:{color:"var(--hermes-error, #ef4444)"},children:["API: ",p.errorDetails.apiCall]}),(p.errorDetails.contentSize!==void 0||p.errorDetails.requestSize!==void 0||p.errorDetails.responseSize!==void 0)&&(0,U.jsxs)("div",{className:"text-[8px] font-mono space-x-2",style:{color:"var(--hermes-error, #ef4444)"},children:[p.errorDetails.contentSize!==void 0&&(0,U.jsxs)("span",{children:["Content: ",p.errorDetails.contentSize.toLocaleString()," bytes"]}),p.errorDetails.requestSize!==void 0&&(0,U.jsxs)("span",{children:["Request: ",p.errorDetails.requestSize.toLocaleString()," bytes"]}),p.errorDetails.responseSize!==void 0&&(0,U.jsxs)("span",{children:["Response: ",p.errorDetails.responseSize.toLocaleString()," bytes"]})]}),p.errorDetails.content&&(0,U.jsxs)("div",{className:"text-[8px] font-mono p-1 rounded max-h-16 overflow-y-auto",style:{color:"var(--hermes-error, #ef4444)",backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.2)"},children:[(0,U.jsx)("div",{className:"font-bold mb-1",style:{color:"var(--hermes-error, #ef4444)"},children:"Content Preview:"}),(0,U.jsx)("div",{className:"whitespace-pre-wrap break-all",children:p.errorDetails.content.length>200?p.errorDetails.content.substring(0,200)+"...":p.errorDetails.content})]}),p.errorDetails.stack&&(0,U.jsxs)("details",{className:"text-[8px] font-mono",style:{color:"var(--hermes-error, #ef4444)"},children:[(0,U.jsx)("summary",{className:"cursor-pointer",children:"Stack Trace"}),(0,U.jsx)("div",{className:"mt-1 whitespace-pre-wrap p-1 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.1)"},children:p.errorDetails.stack})]})]}),p.duration!==void 0&&(0,U.jsxs)("span",{className:"text-[8px] text-faint uppercase font-bold tracking-tight mt-0.5",children:["Process completed in ",p.duration,"ms"]})]})]},p.id)),t.length>100&&(0,U.jsxs)("div",{className:"text-muted italic text-[9px] pt-2 px-4 border-t/10 text-center",children:["... showing last 100 of ",t.length," log entries"]})]})}),(0,U.jsxs)("div",{className:"px-8 py-1.5 border-t/10 bg-tertiary/40 flex justify-between items-center text-xs text-faint shrink-0",children:[(0,U.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,U.jsxs)("span",{children:["Environment: ",(0,U.jsx)("span",{className:l?"text-success":"text-warning",children:l?"Obsidian":"Standalone"})]}),(0,U.jsxs)("span",{children:["Buffer: ",(0,U.jsxs)("span",{className:"text-muted",children:[t.length," entries"]})]})]}),(0,U.jsx)("div",{className:"text-faint",children:"Hermes v1.1.0"})]})]})},pE=$I;var _u=F(ae()),YI=({showKernel:e,transcripts:t,hasSavedConversation:n,onRestoreConversation:i,logs:o,usage:s,onFlushLogs:l,fileCount:a})=>(0,_u.jsx)("main",{className:"flex-1 min-h-0 flex flex-col",children:e?(0,_u.jsx)(pE,{isVisible:!0,logs:o,usage:s,onFlush:l,fileCount:a}):(0,_u.jsx)(dE,{transcripts:t,hasSavedConversation:n,onRestoreConversation:i})}),mE=YI;var qn=F(Mt());var Z=F(ae()),JI=({inputText:e,setInputText:t,onSendText:n,isListening:i,onStartSession:o,onStopSession:s,status:l,activeSpeaker:a,volume:c,hasApiKey:f})=>{let[d,p]=(0,qn.useState)([]),[m,h]=(0,qn.useState)(-1),S=(0,qn.useRef)(null);(0,qn.useEffect)(()=>{let g=ua();p(g)},[]);let T=(0,qn.useMemo)(()=>Math.min(1,Math.max(0,c*10)),[c]);return(0,Z.jsx)("footer",{className:`h-[100px] pb-5 px-8 backdrop-blur-2xl hermes-border-t flex items-center justify-center shrink-0 ${i?"hermes-footer-bg-listening":"hermes-footer-bg"}`,children:(0,Z.jsxs)("div",{className:"flex items-center space-x-6 w-full max-w-5xl",children:[(0,Z.jsxs)("form",{onSubmit:n,className:"flex-grow flex items-center",children:[(0,Z.jsx)("input",{ref:S,type:"text",value:e,onChange:g=>t(g.target.value),onKeyDown:g=>{if(g.key==="ArrowUp"){if(g.preventDefault(),d.length>0){let y=m<d.length-1?m+1:d.length-1;h(y),t(d[d.length-1-y]),setTimeout(()=>{S.current&&S.current.select()},0)}}else if(g.key==="ArrowDown")if(g.preventDefault(),m>0){let y=m-1;h(y),t(d[d.length-1-y])}else m===0&&(h(-1),t(""));else g.key,h(-1)},placeholder:f?"Message Hermes...":"API key required...",disabled:!f,className:`flex-1 h-[52px] hermes-input-bg hermes-input-text hermes-input-border border rounded-lg px-4 text-sm focus:outline-none focus:hermes-input-border-focus ${f?"":"opacity-50 cursor-not-allowed"}`}),(0,Z.jsx)("button",{type:"submit",disabled:!f||!e.trim(),className:`flex items-center justify-center w-[52px] h-[52px] ml-2 transition-colors ${f&&e.trim()?"hermes-text-muted hermes-hover:text-normal":"opacity-50 cursor-not-allowed"}`,children:(0,Z.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Z.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),(0,Z.jsx)("div",{className:"shrink-0 flex items-center",children:i?(0,Z.jsxs)("button",{onClick:s,className:"w-[200px] h-[52px] flex items-center justify-between px-6 hermes-error-bg/10 hermes-border/40 hermes-error rounded-lg hermes-hover:error-bg/20 transition-all active:scale-[0.98] relative overflow-hidden group",title:"Stop Listening",children:[(0,Z.jsxs)("div",{className:`flex flex-col items-center transition-all duration-300 ${a==="user"?"hermes-error scale-110":"opacity-30"}`,children:[(0,Z.jsxs)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Z.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Z.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),(0,Z.jsx)("span",{className:"text-xs font-medium mt-0.5",children:"User"})]}),(0,Z.jsx)("div",{className:"flex items-center justify-center flex-1 space-x-1.5 h-full relative",children:[0,1,2].map(g=>{let y=a==="user"?Math.max(4,T*(24+g*4)):a==="model"?Math.max(4,16+Math.sin(Date.now()/100+g)*8):4;return(0,Z.jsx)("div",{style:{height:`${y}px`},className:`w-1 rounded-full transition-all duration-75 ${a==="user"?"hermes-error-bg":a==="model"?"hermes-success-bg":"hermes-error-bg/40"}`},g)})}),(0,Z.jsxs)("div",{className:`flex flex-col items-center transition-all duration-300 ${a==="model"?"hermes-success scale-110":"opacity-30"}`,children:[(0,Z.jsxs)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Z.jsx)("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),(0,Z.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,Z.jsx)("path",{d:"M12 7v4"}),(0,Z.jsx)("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),(0,Z.jsx)("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]}),(0,Z.jsx)("span",{className:"text-xs font-medium mt-0.5",children:"AI"})]}),(0,Z.jsx)("span",{className:"absolute top-2 right-2 w-1.5 h-1.5 hermes-error rounded-full"})]}):(0,Z.jsx)("button",{onClick:o,disabled:l==="CONNECTING"||!f,className:`w-[52px] h-[52px] flex items-center justify-center rounded-lg transition-all active:scale-95 group ${f?"hermes-interactive-bg hermes-text-normal hermes-border/20 hover:scale-110":"opacity-50 cursor-not-allowed bg-gray-200 dark:bg-gray-700"}`,title:f?"Start Voice Session":"API key required",children:(0,Z.jsxs)("svg",{className:"w-6 h-6 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Z.jsx)("path",{d:"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"}),(0,Z.jsx)("path",{d:"M12 14c-4.42 0-8 2-8 5v1h16v-1c0-3-3.58-5-8-5z"}),(0,Z.jsx)("path",{className:"opacity-40",d:"M19 8c1.33 1.33 1.33 3.67 0 5"}),(0,Z.jsx)("path",{className:"opacity-70",d:"M21 6c2 2 2 6 0 8"})]})})})]})})},hE=JI;var mm=F(Mt()),K=F(ae()),KI=({onApiKeySave:e})=>{let[t,n]=(0,mm.useState)(""),[i,o]=(0,mm.useState)(!1);return(0,K.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:(0,K.jsxs)("div",{className:"max-w-2xl text-center space-y-6",children:[(0,K.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 flex items-center justify-center rounded-full bg-blue-500/10",children:(0,K.jsx)("svg",{className:"w-10 h-10 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,K.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,K.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Welcome to Hermes"}),(0,K.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Your Obsidian Interactive Voice Assistant \u2014 the bridge between you and your notes"}),(0,K.jsx)("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:"To use Hermes Voice Assistant, you need a Gemini API key from Google AI Studio. The API key allows the assistant to connect to Google's language models."}),(0,K.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 text-left",children:[(0,K.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"How to get your API key:"}),(0,K.jsxs)("ol",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[(0,K.jsxs)("li",{className:"flex items-start",children:[(0,K.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"1"}),(0,K.jsxs)("span",{children:["Visit ",(0,K.jsx)("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600 underline",children:"Google AI Studio"})]})]}),(0,K.jsxs)("li",{className:"flex items-start",children:[(0,K.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"2"}),(0,K.jsx)("span",{children:"Sign in with your Google account"})]}),(0,K.jsxs)("li",{className:"flex items-start",children:[(0,K.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"3"}),(0,K.jsx)("span",{children:'Click "Create API Key" and give it a name'})]}),(0,K.jsxs)("li",{className:"flex items-start",children:[(0,K.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"4"}),(0,K.jsx)("span",{children:"Copy your API key"})]}),(0,K.jsxs)("li",{className:"flex items-start",children:[(0,K.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"5"}),(0,K.jsx)("span",{children:"Paste it in the Settings panel"})]})]})]}),(0,K.jsxs)("div",{className:"space-y-4",children:[(0,K.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,K.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Your Gemini API Key"}),(0,K.jsx)("input",{type:"password",value:t,onChange:l=>n(l.target.value),placeholder:"Enter your Gemini API Key...",className:"w-full h-12 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg px-4 text-sm text-gray-900 dark:text-gray-100 outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all font-mono placeholder-gray-500 dark:placeholder-gray-400"})]}),(0,K.jsx)("button",{onClick:async()=>{if(!!t.trim()){o(!0);try{await e(t.trim()),n("")}catch(l){console.error("Failed to save API key:",l)}finally{o(!1)}}},disabled:!t.trim()||i,className:`w-full py-4 px-8 font-semibold rounded-lg transition-colors text-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] active:scale-[0.98] ${t.trim()&&!i?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:i?"Saving...":"Save API Key"})]}),(0,K.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:[(0,K.jsx)("a",{href:"https://github.com/symunona/obsidian-haiku",children:"Go see me on github"}),". Or buy me a tea."]})]})})},gE=KI;var jt=F(ae()),XI=()=>{let e=(0,B.useMemo)(()=>dn()||{},[]);(0,B.useEffect)(()=>{let k=dn();y(!!k?.transcripts&&k.transcripts.length>0)},[]);let[t,n]=(0,B.useState)("DISCONNECTED"),[i,o]=(0,B.useState)([]),[s,l]=(0,B.useState)(""),[a,c]=(0,B.useState)(!1),[f,d]=(0,B.useState)(!1),[p,m]=(0,B.useState)("none"),[h,S]=(0,B.useState)(0),[T,_]=(0,B.useState)([]),[g,y]=(0,B.useState)(!1),[v,E]=(0,B.useState)(()=>e.voiceName||"Zephyr"),[A,N]=(0,B.useState)(()=>e.customContext||""),[x,I]=(0,B.useState)(()=>e.systemInstruction||pu),[C,R]=(0,B.useState)(()=>e.manualApiKey||""),[z,Ae]=(0,B.useState)(()=>e.currentFolder||"/"),[ie,Xe]=(0,B.useState)(()=>e.currentNote||null),[en,ue]=(0,B.useState)(()=>e.totalTokens||0),[Qe,tn]=(0,B.useState)({totalTokenCount:e.totalTokens||0}),[gm,ym]=(0,B.useState)(0),[cs,ji]=(0,B.useState)(!1),gt=(0,B.useRef)(null),eo=(0,B.useRef)(null),wu=(0,B.useMemo)(()=>Rt(),[]),Ne=(0,B.useCallback)((k,G="info",W,Q)=>{o(ge=>[...ge,{id:Math.random().toString(36).substr(2,9),message:k,timestamp:new Date,type:G,duration:W,errorDetails:Q}])},[]),_E=()=>{let k=dn();k?.transcripts&&(_(k.transcripts),y(!1),Ne("Previous conversation restored","info"))},WI=async()=>{Ne("Reloading plugin settings...","info");let k=await Md();k?.manualApiKey&&R(k.manualApiKey),(k?.manualApiKey||C).trim()||process.env.API_KEY||""?Ne("API key found after settings reload","success"):(_(W=>[...W,{id:"api-key-missing-"+Date.now(),role:"system",text:"API KEY MISSING - Please configure your API key in Settings to continue.",isComplete:!0,timestamp:Date.now()}]),c(!0),Ne("API key missing after settings reload - opening Settings","error"))};(0,B.useEffect)(()=>{let k=T[T.length-1];if(k?.role==="system"&&k.toolData?.name==="topic_switch"){let G=k.toolData.newContent||"Shift",W=T.slice(0,-1);if(W.length>0){let ge=dn()?.chatHistoryFolder||"chat-history";em(G,W,ge,eo.current).then(Ee=>Ne(Ee,"action")).catch(Ee=>{let lt={toolName:"archiveConversation",content:`Summary: ${G}
History length: ${W.length} entries`,contentSize:G.length+JSON.stringify(W).length,stack:Ee.message,apiCall:"createFile"};Ne(`Persistence Failure: ${Ee.message}`,"error",void 0,lt)})}}},[T,Ne]),(0,B.useEffect)(()=>{yd().then(()=>{let k=Un();ym(k.length),Ne("HERMES_OS: Modules online.","info"),T.length===0&&_([{id:"welcome-init",role:"system",text:"HERMES INITIALIZED.",isComplete:!0,timestamp:Date.now()}])})},[Ne]),(0,B.useEffect)(()=>{N0({transcripts:T,voiceName:v,customContext:A,systemInstruction:x,manualApiKey:C,currentFolder:z,currentNote:ie,totalTokens:en})},[T,v,A,x,C,z,ie,en]),(0,B.useEffect)(()=>{let G=!((C||"").trim()||process.env.API_KEY||"");ji(G)},[C]),(0,B.useEffect)(()=>{let k=async()=>{let Q=await Md();Q&&(E(Q.voiceName||"Zephyr"),N(Q.customContext||""),I(Q.systemInstruction||pu),R(Q.manualApiKey||""),((Q.manualApiKey||"").trim()||process.env.API_KEY||"")&&cs&&(ji(!1),Ne("API key configured successfully","success")))},G=Q=>{E(Q.voiceName||"Zephyr"),N(Q.customContext||""),I(Q.systemInstruction||pu),R(Q.manualApiKey||""),((Q.manualApiKey||"").trim()||process.env.API_KEY||"")&&cs&&(ji(!1),Ne("API key configured successfully","success"))};window.hermesSettingsUpdate=G;let W=setInterval(k,2e3);return()=>{clearInterval(W),delete window.hermesSettingsUpdate}},[cs,Ne]),(0,B.useEffect)(()=>()=>{gt.current&&(gt.current.stop(),gt.current=null)},[]);let to=(0,B.useCallback)(async()=>{let k="Conversation Ended",G=T.filter(W=>W.id!=="welcome-init");if(G.length>0)try{let Q=dn()?.chatHistoryFolder||"chat-history",ge=await em(k,G,Q,eo.current);Ne(ge,"action"),_([{id:"welcome-init",role:"system",text:"HERMES INITIALIZED.",isComplete:!0,timestamp:Date.now()}])}catch(W){let Q={toolName:"archiveConversation",content:`Summary: ${k}
History length: ${G.length} entries`,contentSize:k.length+JSON.stringify(G).length,stack:W.message,apiCall:"createFile"};Ne(`Persistence Failure: ${W.message}`,"error",void 0,Q)}},[T,Ne]);(0,B.useEffect)(()=>{t==="DISCONNECTED"&&gt.current===null&&T.length>1&&T.some(G=>G.role==="user"||G.role==="model"&&G.id!=="welcome-init")&&to()},[t,gt.current,T,to]);let Ru=(0,B.useCallback)((k,G)=>{_(W=>{if(G?.id){let Q=W.findIndex(ge=>ge.toolData?.id===G.id);if(Q!==-1){let ge=[...W];return ge[Q]={...ge[Q],text:k,toolData:{...ge[Q].toolData,...G,status:G.status||"success"}},ge}}return[...W,{id:"sys-"+Date.now(),role:"system",text:k,isComplete:!0,toolData:G,timestamp:Date.now()}]}),ym(Un().length)},[]),CE=(0,B.useMemo)(()=>({onStatusChange:k=>{n(k),k==="CONNECTED"?Ne("UPLINK ESTABLISHED.","info"):k==="DISCONNECTED"&&(m("none"),S(0))},onLog:(k,G,W,Q)=>Ne(k,G,W,Q),onTranscription:(k,G,W)=>{m(W?"none":k),_(Q=>{let ge=Q.reduceRight((Ee,lt,nn)=>Ee!==-1?Ee:lt.role===k&&!lt.isComplete?nn:-1,-1);if(ge!==-1){let Ee=[...Q];return Ee[ge]={...Ee[ge],text:G||Ee[ge].text,isComplete:W},Ee}return[...Q,{id:Math.random().toString(36).substr(2,9),role:k,text:G,isComplete:W,timestamp:Date.now()}]})},onSystemMessage:Ru,onInterrupted:()=>{m("none"),S(0)},onFileStateChange:(k,G)=>{Ae(k);let W=Array.isArray(G)?G:G?[G]:[];W.length>0&&(Xe(W[W.length-1]),wu&&W.forEach(async Q=>{let ge=app.vault.getAbstractFileByPath(Q);ge&&await app.workspace.getLeaf("tab").openFile(ge)}))},onUsageUpdate:k=>{tn(k);let G=k.totalTokenCount;G!==void 0&&ue(G)},onVolume:k=>S(k),onArchiveConversation:to}),[Ne,wu,Ru,to]),AE=async()=>{try{let k=C.trim()||process.env.API_KEY||"";if(!k){ji(!0);return}window.aistudio&&!await window.aistudio.hasSelectedApiKey()&&await window.aistudio.openSelectKey(),gt.current=new fu(CE),await gt.current.start(k,{voiceName:v,customContext:A,systemInstruction:x},{folder:z,note:ie})}catch(k){let G={toolName:"GeminiVoiceAssistant",content:`Voice Name: ${v}
Custom Context: ${A}
System Instruction: ${x}`,contentSize:v.length+A.length+x.length,stack:k.stack,apiCall:"startSession"};Ne(`Uplink Error: ${k.message}`,"error",void 0,G),n("ERROR")}},vm=async()=>{gt.current&&(gt.current.stop(),gt.current=null,m("none"),S(0),await to())},xE=async k=>{if(k.preventDefault(),!s.trim())return;let G=s.trim();l("");let Q=[...ua(),G];await M0(Q),t==="CONNECTED"&&gt.current&&(gt.current.stop(),gt.current=null,m("none"),S(0));let ge=C.trim()||process.env.API_KEY||"";if(!ge){ji(!0);return}eo.current||(eo.current=new du({onLog:(Ee,lt,nn,fs)=>Ne(Ee,lt,nn,fs),onTranscription:(Ee,lt,nn)=>{_(fs=>{let Il=fs.reduceRight((Ei,Sm,RE)=>Ei!==-1?Ei:Sm.role===Ee&&!Sm.isComplete?RE:-1,-1);if(Il!==-1){let Ei=[...fs];return Ei[Il]={...Ei[Il],text:lt||Ei[Il].text,isComplete:nn},Ei}return[...fs,{id:Math.random().toString(36).substr(2,9),role:Ee,text:lt,isComplete:nn,timestamp:Date.now()}]})},onSystemMessage:Ru,onFileStateChange:(Ee,lt)=>{Ae(Ee);let nn=Array.isArray(lt)?lt:lt?[lt]:[];nn.length>0&&Xe(nn[nn.length-1])},onUsageUpdate:Ee=>{tn(Ee),Ee.totalTokenCount!==void 0&&ue(Ee.totalTokenCount)},onArchiveConversation:to}),await eo.current.initialize(ge,{voiceName:v,customContext:A,systemInstruction:x},{folder:z,note:ie})),await eo.current.sendMessage(G)},wE=async k=>{R(k),Ne("API key saved successfully","success"),ji(!1)},jI=()=>{c(!0)};return(0,jt.jsx)("div",{className:`hermes-root flex flex-col overflow-hidden ${wu?"":"standalone"}`,children:cs?(0,jt.jsx)(gE,{onApiKeySave:wE}):(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)(FT,{isOpen:a,onClose:()=>c(!1),voiceName:v,setVoiceName:E,customContext:A,setCustomContext:N,systemInstruction:x,setSystemInstruction:I,manualApiKey:C,setManualApiKey:R,onUpdateApiKey:()=>window.aistudio?.openSelectKey()}),(0,jt.jsx)(BT,{status:t,showLogs:f,onToggleLogs:()=>d(!f),onOpenSettings:()=>c(!0),isListening:t==="CONNECTED",onStopSession:vm}),(0,jt.jsx)(mE,{showKernel:f,transcripts:T,hasSavedConversation:g,onRestoreConversation:_E,logs:i,usage:Qe,onFlushLogs:()=>o([]),fileCount:gm}),(0,jt.jsx)(hE,{inputText:s,setInputText:l,onSendText:xE,isListening:t==="CONNECTED",onStartSession:AE,onStopSession:vm,status:t,activeSpeaker:p,volume:h,hasApiKey:!cs})]})})},yE=XI;var hm=F(ae()),bl="hermes-voice-assistant",Cu=class extends SE.ItemView{constructor(n){super(n);this.root=null}getViewType(){return bl}getDisplayText(){return"Hermes Voice Assistant"}getIcon(){return"mic-vocal"}async onOpen(){let n=this.containerEl.children[1];n.empty();let i=n.createDiv({cls:"hermes-root obsidian"});this.root=(0,TE.createRoot)(i),this.root.render((0,hm.jsx)(vE.default.StrictMode,{children:(0,hm.jsx)(yE,{})}))}async onClose(){this.root&&(this.root.unmount(),this.root=null)}};var Vn=require("obsidian"),QI=["Kore","Puck","Charon","Fenrir","Zephyr"],Ml={voiceName:"Zephyr",customContext:"",systemInstruction:"",manualApiKey:"",chatHistoryFolder:"chat-history"},Au=class extends Vn.PluginSettingTab{constructor(n,i){super(n,i);this.plugin=i}display(){let{containerEl:n}=this;n.empty(),n.classList.add("hermes-settings"),n.createEl("h2",{text:"Hermes Voice Assistant"}),new Vn.Setting(n).setName("Voice").setDesc("Select the voice persona for the assistant").addDropdown(l=>{QI.forEach(a=>{l.addOption(a,a)}),l.setValue(this.plugin.settings?.voiceName||Ml.voiceName).onChange(async a=>{this.plugin.settings&&(this.plugin.settings.voiceName=a,await this.plugin.saveSettings())})}),new Vn.Setting(n).setName("Custom Context").setDesc("Define specific behaviors or rules for the assistant (added to every session)").addTextArea(l=>{l.setPlaceholder("Define specific behaviors, personalities, or rules for the AI...").setValue(this.plugin.settings?.customContext||"").onChange(async a=>{this.plugin.settings&&(this.plugin.settings.customContext=a,await this.plugin.saveSettings())}),l.inputEl.rows=4,l.inputEl.cols=50}),new Vn.Setting(n).setName("System Instructions").setDesc("Core logic instructions for the AI assistant").addTextArea(l=>{l.setPlaceholder("Core logic instructions...").setValue(this.plugin.settings?.systemInstruction||"").onChange(async a=>{this.plugin.settings&&(this.plugin.settings.systemInstruction=a,await this.plugin.saveSettings())}),l.inputEl.rows=6,l.inputEl.cols=50}),new Vn.Setting(n).setName("Chat History Folder").setDesc("Folder path where chat history will be saved").addText(l=>{l.setPlaceholder("chat-history").setValue(this.plugin.settings?.chatHistoryFolder||Ml.chatHistoryFolder).onChange(async a=>{this.plugin.settings&&(this.plugin.settings.chatHistoryFolder=a,await this.plugin.saveSettings())})}),n.createEl("h3",{text:"API Authentication"}),new Vn.Setting(n).setName("Gemini API Key").setDesc("Enter your Gemini API key for the voice assistant").addText(l=>{l.setPlaceholder("Enter your Gemini API Key...").setValue(this.plugin.settings?.manualApiKey||"").onChange(async a=>{this.plugin.settings&&(this.plugin.settings.manualApiKey=a,await this.plugin.saveSettings())}),l.inputEl.type="password"});let i=document.createDocumentFragment(),o=i.createSpan({text:"API keys are handled via manual entry. "}),s=i.createEl("a",{href:"https://ai.google.dev/gemini-api/docs/billing",text:"Learn more about billing."});s.setAttr("target","_blank"),o.append(s),new Vn.Setting(n).setDesc(i)}};var xu=class extends EE.Plugin{constructor(){super(...arguments);this.settings=Ml}async onload(){R0(this),await this.loadSettings(),await b0(),this.addSettingTab(new Au(this.app,this)),this.registerView(bl,n=>new Cu(n)),this.addRibbonIcon("mic-vocal","Hermes Voice Assistant",()=>{this.activateView()}),this.addCommand({id:"open-hermes-voice",name:"Open Hermes Assistant",callback:()=>{this.activateView()}})}async activateView(){let{workspace:n}=this.app,i=null,o=n.getLeavesOfType(bl);o.length>0?i=o[0]:(i=n.getRightLeaf(!1),i&&await i.setViewState({type:bl,active:!0})),i&&n.revealLeaf(i)}onunload(){}async loadSettings(){this.settings=Object.assign({},Ml,await this.loadData())}async saveSettings(){await this.saveData(this.settings),typeof window<"u"&&window.hermesSettingsUpdate&&window.hermesSettingsUpdate(this.settings)}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

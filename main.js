var LS=Object.create;var Oo=Object.defineProperty;var PS=Object.getOwnPropertyDescriptor;var GS=Object.getOwnPropertyNames;var qS=Object.getPrototypeOf,HS=Object.prototype.hasOwnProperty;var VS=(e,t,n)=>t in e?Oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ue=(e,t)=>{for(var n in t)Oo(e,n,{get:t[n],enumerable:!0})},bp=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of GS(t))!HS.call(e,o)&&o!==n&&Oo(e,o,{get:()=>t[o],enumerable:!(i=PS(t,o))||i.enumerable});return e};var re=(e,t,n)=>(n=e!=null?LS(qS(e)):{},bp(t||!e||!e.__esModule?Oo(n,"default",{value:e,enumerable:!0}):n,e)),zS=e=>bp(Oo({},"__esModule",{value:!0}),e);var iu=(e,t,n)=>(VS(e,typeof t!="symbol"?t+"":t,n),n);var zp=Bt(G=>{"use strict";var su=Symbol.for("react.transitional.element"),BS=Symbol.for("react.portal"),OS=Symbol.for("react.fragment"),FS=Symbol.for("react.strict_mode"),YS=Symbol.for("react.profiler"),JS=Symbol.for("react.consumer"),KS=Symbol.for("react.context"),$S=Symbol.for("react.forward_ref"),XS=Symbol.for("react.suspense"),QS=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),ZS=Symbol.for("react.activity"),Ip=Symbol.iterator;function WS(e){return e===null||typeof e!="object"?null:(e=Ip&&e[Ip]||e["@@iterator"],typeof e=="function"?e:null)}var Pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gp=Object.assign,qp={};function Ui(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Pp}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hp(){}Hp.prototype=Ui.prototype;function au(e,t,n){this.props=e,this.context=t,this.refs=qp,this.updater=n||Pp}var ru=au.prototype=new Hp;ru.constructor=au;Gp(ru,Ui.prototype);ru.isPureReactComponent=!0;var Dp=Array.isArray;function lu(){}var ue={H:null,A:null,T:null,S:null},Vp=Object.prototype.hasOwnProperty;function uu(e,t,n){var i=n.ref;return{$$typeof:su,type:e,key:t,ref:i!==void 0?i:null,props:n}}function jS(e,t){return uu(e.type,t,e.props)}function cu(e){return typeof e=="object"&&e!==null&&e.$$typeof===su}function eE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Up=/\/+/g;function ou(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eE(""+e.key):t.toString(36)}function tE(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(lu,lu):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Di(e,t,n,i,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(l){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case su:case BS:s=!0;break;case Lp:return s=e._init,Di(s(e._payload),t,n,i,o)}}if(s)return o=o(e),s=i===""?"."+ou(e,0):i,Dp(o)?(n="",s!=null&&(n=s.replace(Up,"$&/")+"/"),Di(o,t,n,"",function(f){return f})):o!=null&&(cu(o)&&(o=jS(o,n+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace(Up,"$&/")+"/")+s)),t.push(o)),1;s=0;var r=i===""?".":i+":";if(Dp(e))for(var c=0;c<e.length;c++)i=e[c],l=r+ou(i,c),s+=Di(i,t,n,l,o);else if(c=WS(e),typeof c=="function")for(e=c.call(e),c=0;!(i=e.next()).done;)i=i.value,l=r+ou(i,c++),s+=Di(i,t,n,l,o);else if(l==="object"){if(typeof e.then=="function")return Di(tE(e),t,n,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function as(e,t,n){if(e==null)return e;var i=[],o=0;return Di(e,i,"","",function(l){return t.call(n,l,o++)}),i}function nE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kp=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},iE={map:as,forEach:function(e,t,n){as(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return as(e,function(){t++}),t},toArray:function(e){return as(e,function(t){return t})||[]},only:function(e){if(!cu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Activity=ZS;G.Children=iE;G.Component=Ui;G.Fragment=OS;G.Profiler=YS;G.PureComponent=au;G.StrictMode=FS;G.Suspense=XS;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue;G.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ue.H.useMemoCache(e)}};G.cache=function(e){return function(){return e.apply(null,arguments)}};G.cacheSignal=function(){return null};G.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Gp({},e.props),o=e.key;if(t!=null)for(l in t.key!==void 0&&(o=""+t.key),t)!Vp.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(i[l]=t[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),r=0;r<l;r++)s[r]=arguments[r+2];i.children=s}return uu(e.type,o,i)};G.createContext=function(e){return e={$$typeof:KS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:JS,_context:e},e};G.createElement=function(e,t,n){var i,o={},l=null;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)Vp.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=t[i]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var r=Array(s),c=0;c<s;c++)r[c]=arguments[c+2];o.children=r}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)o[i]===void 0&&(o[i]=s[i]);return uu(e,l,o)};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:$S,render:e}};G.isValidElement=cu;G.lazy=function(e){return{$$typeof:Lp,_payload:{_status:-1,_result:e},_init:nE}};G.memo=function(e,t){return{$$typeof:QS,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ue.T,n={};ue.T=n;try{var i=e(),o=ue.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(lu,kp)}catch(l){kp(l)}finally{t!==null&&n.types!==null&&(t.types=n.types),ue.T=t}};G.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()};G.use=function(e){return ue.H.use(e)};G.useActionState=function(e,t,n){return ue.H.useActionState(e,t,n)};G.useCallback=function(e,t){return ue.H.useCallback(e,t)};G.useContext=function(e){return ue.H.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e,t){return ue.H.useDeferredValue(e,t)};G.useEffect=function(e,t){return ue.H.useEffect(e,t)};G.useEffectEvent=function(e){return ue.H.useEffectEvent(e)};G.useId=function(){return ue.H.useId()};G.useImperativeHandle=function(e,t,n){return ue.H.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return ue.H.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return ue.H.useLayoutEffect(e,t)};G.useMemo=function(e,t){return ue.H.useMemo(e,t)};G.useOptimistic=function(e,t){return ue.H.useOptimistic(e,t)};G.useReducer=function(e,t,n){return ue.H.useReducer(e,t,n)};G.useRef=function(e){return ue.H.useRef(e)};G.useState=function(e){return ue.H.useState(e)};G.useSyncExternalStore=function(e,t,n){return ue.H.useSyncExternalStore(e,t,n)};G.useTransition=function(){return ue.H.useTransition()};G.version="19.2.3"});var Wt=Bt((Yb,Bp)=>{"use strict";Bp.exports=zp()});var Wp=Bt(me=>{"use strict";function mu(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(0<rs(o,t))e[i]=t,e[n]=o,n=i;else break e}}function Ot(e){return e.length===0?null:e[0]}function cs(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,l=o>>>1;i<l;){var s=2*(i+1)-1,r=e[s],c=s+1,f=e[c];if(0>rs(r,n))c<o&&0>rs(f,r)?(e[i]=f,e[c]=n,i=c):(e[i]=r,e[s]=n,i=s);else if(c<o&&0>rs(f,n))e[i]=f,e[c]=n,i=c;else break e}}return t}function rs(e,t){var n=e.sortIndex-t.sortIndex;return n!==0?n:e.id-t.id}me.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Op=performance,me.unstable_now=function(){return Op.now()}):(fu=Date,Fp=fu.now(),me.unstable_now=function(){return fu.now()-Fp});var Op,fu,Fp,jt=[],Rn=[],oE=1,yt=null,Ve=3,hu=!1,Fo=!1,Yo=!1,gu=!1,Kp=typeof setTimeout=="function"?setTimeout:null,$p=typeof clearTimeout=="function"?clearTimeout:null,Yp=typeof setImmediate<"u"?setImmediate:null;function us(e){for(var t=Ot(Rn);t!==null;){if(t.callback===null)cs(Rn);else if(t.startTime<=e)cs(Rn),t.sortIndex=t.expirationTime,mu(jt,t);else break;t=Ot(Rn)}}function yu(e){if(Yo=!1,us(e),!Fo)if(Ot(jt)!==null)Fo=!0,Li||(Li=!0,ki());else{var t=Ot(Rn);t!==null&&vu(yu,t.startTime-e)}}var Li=!1,Jo=-1,Xp=5,Qp=-1;function Zp(){return gu?!0:!(me.unstable_now()-Qp<Xp)}function du(){if(gu=!1,Li){var e=me.unstable_now();Qp=e;var t=!0;try{e:{Fo=!1,Yo&&(Yo=!1,$p(Jo),Jo=-1),hu=!0;var n=Ve;try{t:{for(us(e),yt=Ot(jt);yt!==null&&!(yt.expirationTime>e&&Zp());){var i=yt.callback;if(typeof i=="function"){yt.callback=null,Ve=yt.priorityLevel;var o=i(yt.expirationTime<=e);if(e=me.unstable_now(),typeof o=="function"){yt.callback=o,us(e),t=!0;break t}yt===Ot(jt)&&cs(jt),us(e)}else cs(jt);yt=Ot(jt)}if(yt!==null)t=!0;else{var l=Ot(Rn);l!==null&&vu(yu,l.startTime-e),t=!1}}break e}finally{yt=null,Ve=n,hu=!1}t=void 0}}finally{t?ki():Li=!1}}}var ki;typeof Yp=="function"?ki=function(){Yp(du)}:typeof MessageChannel<"u"?(pu=new MessageChannel,Jp=pu.port2,pu.port1.onmessage=du,ki=function(){Jp.postMessage(null)}):ki=function(){Kp(du,0)};var pu,Jp;function vu(e,t){Jo=Kp(function(){e(me.unstable_now())},t)}me.unstable_IdlePriority=5;me.unstable_ImmediatePriority=1;me.unstable_LowPriority=4;me.unstable_NormalPriority=3;me.unstable_Profiling=null;me.unstable_UserBlockingPriority=2;me.unstable_cancelCallback=function(e){e.callback=null};me.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xp=0<e?Math.floor(1e3/e):5};me.unstable_getCurrentPriorityLevel=function(){return Ve};me.unstable_next=function(e){switch(Ve){case 1:case 2:case 3:var t=3;break;default:t=Ve}var n=Ve;Ve=t;try{return e()}finally{Ve=n}};me.unstable_requestPaint=function(){gu=!0};me.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=Ve;Ve=e;try{return t()}finally{Ve=n}};me.unstable_scheduleCallback=function(e,t,n){var i=me.unstable_now();switch(typeof n=="object"&&n!==null?(n=n.delay,n=typeof n=="number"&&0<n?i+n:i):n=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=n+o,e={id:oE++,callback:t,priorityLevel:e,startTime:n,expirationTime:o,sortIndex:-1},n>i?(e.sortIndex=n,mu(Rn,e),Ot(jt)===null&&e===Ot(Rn)&&(Yo?($p(Jo),Jo=-1):Yo=!0,vu(yu,n-i))):(e.sortIndex=o,mu(jt,e),Fo||hu||(Fo=!0,Li||(Li=!0,ki()))),e};me.unstable_shouldYield=Zp;me.unstable_wrapCallback=function(e){var t=Ve;return function(){var n=Ve;Ve=t;try{return e.apply(this,arguments)}finally{Ve=n}}}});var em=Bt((Kb,jp)=>{"use strict";jp.exports=Wp()});var nm=Bt(Oe=>{"use strict";var lE=Wt();function tm(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Nn(){}var Be={d:{f:Nn,r:function(){throw Error(tm(522))},D:Nn,C:Nn,L:Nn,m:Nn,X:Nn,S:Nn,M:Nn},p:0,findDOMNode:null},sE=Symbol.for("react.portal");function aE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sE,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ko=lE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function fs(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Oe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be;Oe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(tm(299));return aE(e,t,null,n)};Oe.flushSync=function(e){var t=Ko.T,n=Be.p;try{if(Ko.T=null,Be.p=2,e)return e()}finally{Ko.T=t,Be.p=n,Be.d.f()}};Oe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Be.d.C(e,t))};Oe.prefetchDNS=function(e){typeof e=="string"&&Be.d.D(e)};Oe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=fs(n,t.crossOrigin),o=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Be.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&Be.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Oe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=fs(t.as,t.crossOrigin);Be.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Be.d.M(e)};Oe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=fs(n,t.crossOrigin);Be.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Oe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=fs(t.as,t.crossOrigin);Be.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Be.d.m(e)};Oe.requestFormReset=function(e){Be.d.r(e)};Oe.unstable_batchedUpdates=function(e,t){return e(t)};Oe.useFormState=function(e,t,n){return Ko.H.useFormState(e,t,n)};Oe.useFormStatus=function(){return Ko.H.useHostTransitionStatus()};Oe.version="19.2.3"});var lm=Bt((Xb,om)=>{"use strict";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(e){console.error(e)}}im(),om.exports=nm()});var yv=Bt(Pa=>{"use strict";var Ne=em(),Ih=Wt(),rE=lm();function C(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Dh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ul(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Uh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sm(e){if(Ul(e)!==e)throw Error(C(188))}function uE(e){var t=e.alternate;if(!t){if(t=Ul(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return sm(o),e;if(l===i)return sm(o),t;l=l.sibling}throw Error(C(188))}if(n.return!==i.return)n=o,i=l;else{for(var s=!1,r=o.child;r;){if(r===n){s=!0,n=o,i=l;break}if(r===i){s=!0,i=o,n=l;break}r=r.sibling}if(!s){for(r=l.child;r;){if(r===n){s=!0,n=l,i=o;break}if(r===i){s=!0,i=l,n=o;break}r=r.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==i)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Lh(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Lh(e),t!==null)return t;e=e.sibling}return null}var de=Object.assign,cE=Symbol.for("react.element"),ds=Symbol.for("react.transitional.element"),tl=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),Wu=Symbol.for("react.profiler"),Gh=Symbol.for("react.consumer"),rn=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),ju=Symbol.for("react.suspense"),ec=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),wn=Symbol.for("react.lazy");Symbol.for("react.scope");var tc=Symbol.for("react.activity");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var fE=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var am=Symbol.iterator;function $o(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var dE=Symbol.for("react.client.reference");function nc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===dE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zi:return"Fragment";case Wu:return"Profiler";case Ph:return"StrictMode";case ju:return"Suspense";case ec:return"SuspenseList";case tc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tl:return"Portal";case rn:return e.displayName||"Context";case Gh:return(e._context.displayName||"Context")+".Consumer";case Kc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $c:return t=e.displayName||null,t!==null?t:nc(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return nc(e(t))}catch{}}return null}var nl=Array.isArray,k=Ih.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=rE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ui={pending:!1,data:null,method:null,action:null},ic=[],Bi=-1;function $t(e){return{current:e}}function De(e){0>Bi||(e.current=ic[Bi],ic[Bi]=null,Bi--)}function ae(e,t){Bi++,ic[Bi]=e.current,e.current=t}var Kt=$t(null),Tl=$t(null),Hn=$t(null),Ys=$t(null);function Js(e,t){switch(ae(Hn,t),ae(Tl,e),ae(Kt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mh(t),e=iv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}De(Kt),ae(Kt,e)}function so(){De(Kt),De(Tl),De(Hn)}function oc(e){e.memoizedState!==null&&ae(Ys,e);var t=Kt.current,n=iv(t,e.type);t!==n&&(ae(Tl,e),ae(Kt,n))}function Ks(e){Tl.current===e&&(De(Kt),De(Tl)),Ys.current===e&&(De(Ys),bl._currentValue=ui)}var Tu,rm;function li(e){if(Tu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tu=t&&t[1]||"",rm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tu+e+rm}var Su=!1;function Eu(e,t){if(!e||Su)return"";Su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(h){var p=h}Reflect.construct(e,[],m)}else{try{m.call()}catch(h){p=h}e.call(m.prototype)}}else{try{throw Error()}catch(h){p=h}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(h){if(h&&p&&typeof h.stack=="string")return[h.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),s=l[0],r=l[1];if(s&&r){var c=s.split(`
`),f=r.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Su=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?li(n):""}function pE(e,t){switch(e.tag){case 26:case 27:case 5:return li(e.type);case 16:return li("Lazy");case 13:return e.child!==t&&t!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return Eu(e.type,!1);case 11:return Eu(e.type.render,!1);case 1:return Eu(e.type,!0);case 31:return li("Activity");default:return""}}function um(e){try{var t="",n=null;do t+=pE(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var lc=Object.prototype.hasOwnProperty,Xc=Ne.unstable_scheduleCallback,_u=Ne.unstable_cancelCallback,mE=Ne.unstable_shouldYield,hE=Ne.unstable_requestPaint,ut=Ne.unstable_now,gE=Ne.unstable_getCurrentPriorityLevel,qh=Ne.unstable_ImmediatePriority,Hh=Ne.unstable_UserBlockingPriority,$s=Ne.unstable_NormalPriority,yE=Ne.unstable_LowPriority,Vh=Ne.unstable_IdlePriority,vE=Ne.log,TE=Ne.unstable_setDisableYieldValue,kl=null,ct=null;function kn(e){if(typeof vE=="function"&&TE(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(kl,e)}catch{}}var ft=Math.clz32?Math.clz32:_E,SE=Math.log,EE=Math.LN2;function _E(e){return e>>>=0,e===0?32:31-(SE(e)/EE|0)|0}var ps=256,ms=262144,hs=4194304;function si(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sa(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,l=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~l,i!==0?o=si(i):(s&=r,s!==0?o=si(s):n||(n=r&~e,n!==0&&(o=si(n))))):(r=i&~l,r!==0?o=si(r):s!==0?o=si(s):n||(n=i&~e,n!==0&&(o=si(n)))),o===0?0:t!==0&&t!==o&&(t&l)===0&&(l=o&-o,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:o}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function CE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var e=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),e}function Cu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function AE(e,t,n,i,o,l){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,f=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-ft(n),m=1<<d;r[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var h=p[d];h!==null&&(h.lane&=-536870913)}n&=~m}i!==0&&Bh(e,i,0),l!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=l&~(s&~t))}function Bh(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ft(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Oh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ft(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Fh(e,t){var n=t&-t;return n=(n&42)!==0?1:Qc(n),(n&(e.suspendedLanes|t))!==0?0:n}function Qc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yh(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:mv(e.type))}function cm(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Wn=Math.random().toString(36).slice(2),Le="__reactFiber$"+Wn,tt="__reactProps$"+Wn,vo="__reactContainer$"+Wn,sc="__reactEvents$"+Wn,xE="__reactListeners$"+Wn,RE="__reactHandles$"+Wn,fm="__reactResources$"+Wn,Gl="__reactMarker$"+Wn;function Wc(e){delete e[Le],delete e[tt],delete e[sc],delete e[xE],delete e[RE]}function Oi(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vo]||n[Le]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Th(e);e!==null;){if(n=e[Le])return n;e=Th(e)}return t}e=n,n=e.parentNode}return null}function To(e){if(e=e[Le]||e[vo]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function il(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(C(33))}function ji(e){var t=e[fm];return t||(t=e[fm]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[Gl]=!0}var Jh=new Set,Kh={};function Ti(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(Kh[e]=t,e=0;e<t.length;e++)Jh.add(t[e])}var NE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dm={},pm={};function wE(e){return lc.call(pm,e)?!0:lc.call(dm,e)?!1:NE.test(e)?pm[e]=!0:(dm[e]=!0,!1)}function bs(e,t,n){if(wE(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function gs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function en(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ME(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,l.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ac(e){if(!e._valueTracker){var t=$h(e)?"checked":"value";e._valueTracker=ME(e,t,""+e[t])}}function Xh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$h(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bE=/[\n"\\]/g;function _t(e){return e.replace(bE,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function rc(e,t,n,i,o,l,s,r){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?uc(e,s,Tt(t)):n!=null?uc(e,s,Tt(n)):i!=null&&e.removeAttribute("value"),o==null&&l!=null&&(e.defaultChecked=!!l),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Tt(r):e.removeAttribute("name")}function Qh(e,t,n,i,o,l,s,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){ac(e);return}n=n!=null?""+Tt(n):"",t=t!=null?""+Tt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),ac(e)}function uc(e,t,n){t==="number"&&Xs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function eo(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Tt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zh(e,t,n){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Tt(n):""}function Wh(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(C(92));if(nl(i)){if(1<i.length)throw Error(C(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Tt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),ac(e)}function ro(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var IE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mm(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||IE.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jh(e,t,n){if(t!=null&&typeof t!="object")throw Error(C(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&mm(e,o,i)}else for(var l in t)t.hasOwnProperty(l)&&mm(e,l,t[l])}function jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),UE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(e){return UE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var cc=null;function ef(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,to=null;function hm(e){var t=To(e);if(t&&(e=t.stateNode)){var n=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(rc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[tt]||null;if(!o)throw Error(C(90));rc(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Xh(i)}break e;case"textarea":Zh(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&eo(e,!!n.multiple,t,!1)}}}var Au=!1;function eg(e,t,n){if(Au)return e(t,n);Au=!0;try{var i=e(t);return i}finally{if(Au=!1,(Fi!==null||to!==null)&&(Da(),Fi&&(t=Fi,e=to,to=Fi=null,hm(t),e)))for(t=0;t<e.length;t++)hm(e[t])}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[tt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=!1;if(mn)try{Pi={},Object.defineProperty(Pi,"passive",{get:function(){fc=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{fc=!1}var Pi,Ln=null,tf=null,Ds=null;function tg(){if(Ds)return Ds;var e,t=tf,n=t.length,i,o="value"in Ln?Ln.value:Ln.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===o[l-i];i++);return Ds=o.slice(e,1<i?1-i:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ys(){return!0}function gm(){return!1}function nt(e){function t(n,i,o,l,s){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=s,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ys:gm,this.isPropagationStopped=gm,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),t}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=nt(Si),ql=de({},Si,{view:0,detail:0}),kE=nt(ql),xu,Ru,Xo,_a=de({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xo&&(Xo&&e.type==="mousemove"?(xu=e.screenX-Xo.screenX,Ru=e.screenY-Xo.screenY):Ru=xu=0,Xo=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:Ru}}),ym=nt(_a),LE=de({},_a,{dataTransfer:0}),PE=nt(LE),GE=de({},ql,{relatedTarget:0}),Nu=nt(GE),qE=de({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),HE=nt(qE),VE=de({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zE=nt(VE),BE=de({},Si,{data:0}),vm=nt(BE),OE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YE[e])?!!t[e]:!1}function nf(){return JE}var KE=de({},ql,{key:function(e){if(e.key){var t=OE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?FE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nf,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$E=nt(KE),XE=de({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=nt(XE),QE=de({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nf}),ZE=nt(QE),WE=de({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),jE=nt(WE),e_=de({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t_=nt(e_),n_=de({},Si,{newState:0,oldState:0}),i_=nt(n_),o_=[9,13,27,32],of=mn&&"CompositionEvent"in window,sl=null;mn&&"documentMode"in document&&(sl=document.documentMode);var l_=mn&&"TextEvent"in window&&!sl,ng=mn&&(!of||sl&&8<sl&&11>=sl),Sm=String.fromCharCode(32),Em=!1;function ig(e,t){switch(e){case"keyup":return o_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function s_(e,t){switch(e){case"compositionend":return og(t);case"keypress":return t.which!==32?null:(Em=!0,Sm);case"textInput":return e=t.data,e===Sm&&Em?null:e;default:return null}}function a_(e,t){if(Yi)return e==="compositionend"||!of&&ig(e,t)?(e=tg(),Ds=tf=Ln=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ng&&t.locale!=="ko"?null:t.data;default:return null}}var r_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!r_[e.type]:t==="textarea"}function lg(e,t,n,i){Fi?to?to.push(i):to=[i]:Fi=i,t=pa(t,"onChange"),0<t.length&&(n=new Ea("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var al=null,El=null;function u_(e){ev(e,0)}function Ca(e){var t=il(e);if(Xh(t))return e}function Cm(e,t){if(e==="change")return t}var sg=!1;mn&&(mn?(Ts="oninput"in document,Ts||(wu=document.createElement("div"),wu.setAttribute("oninput","return;"),Ts=typeof wu.oninput=="function"),vs=Ts):vs=!1,sg=vs&&(!document.documentMode||9<document.documentMode));var vs,Ts,wu;function Am(){al&&(al.detachEvent("onpropertychange",ag),El=al=null)}function ag(e){if(e.propertyName==="value"&&Ca(El)){var t=[];lg(t,El,e,ef(e)),eg(u_,t)}}function c_(e,t,n){e==="focusin"?(Am(),al=t,El=n,al.attachEvent("onpropertychange",ag)):e==="focusout"&&Am()}function f_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(El)}function d_(e,t){if(e==="click")return Ca(t)}function p_(e,t){if(e==="input"||e==="change")return Ca(t)}function m_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:m_;function _l(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!lc.call(t,o)||!pt(e[o],t[o]))return!1}return!0}function xm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rm(e,t){var n=xm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xm(n)}}function rg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var h_=mn&&"documentMode"in document&&11>=document.documentMode,Ji=null,dc=null,rl=null,pc=!1;function Nm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pc||Ji==null||Ji!==Xs(i)||(i=Ji,"selectionStart"in i&&lf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),rl&&_l(rl,i)||(rl=i,i=pa(dc,"onSelect"),0<i.length&&(t=new Ea("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ji)))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ki={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Mu={},cg={};mn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function Ei(e){if(Mu[e])return Mu[e];if(!Ki[e])return e;var t=Ki[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cg)return Mu[e]=t[n];return e}var fg=Ei("animationend"),dg=Ei("animationiteration"),pg=Ei("animationstart"),g_=Ei("transitionrun"),y_=Ei("transitionstart"),v_=Ei("transitioncancel"),mg=Ei("transitionend"),hg=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function kt(e,t){hg.set(e,t),Ti(t,[e])}var Qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vt=[],$i=0,sf=0;function Aa(){for(var e=$i,t=sf=$i=0;t<e;){var n=vt[t];vt[t++]=null;var i=vt[t];vt[t++]=null;var o=vt[t];vt[t++]=null;var l=vt[t];if(vt[t++]=null,i!==null&&o!==null){var s=i.pending;s===null?o.next=o:(o.next=s.next,s.next=o),i.pending=o}l!==0&&gg(n,o,l)}}function xa(e,t,n,i){vt[$i++]=e,vt[$i++]=t,vt[$i++]=n,vt[$i++]=i,sf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function af(e,t,n,i){return xa(e,t,n,i),Zs(e)}function _i(e,t){return xa(e,null,null,t),Zs(e)}function gg(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=e.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(o=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,o&&t!==null&&(o=31-ft(n),e=l.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),l):null}function Zs(e){if(50<yl)throw yl=0,Lc=null,Error(C(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xi={};function T_(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,n,i){return new T_(e,t,n,i)}function rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fn(e,t){var n=e.alternate;return n===null?(n=at(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function yg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ks(e,t,n,i,o,l){var s=0;if(i=e,typeof e=="function")rf(e)&&(s=1);else if(typeof e=="string")s=_C(e,n,Kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case tc:return e=at(31,n,t,o),e.elementType=tc,e.lanes=l,e;case zi:return ci(n.children,o,l,t);case Ph:s=8,o|=24;break;case Wu:return e=at(12,n,t,o|2),e.elementType=Wu,e.lanes=l,e;case ju:return e=at(13,n,t,o),e.elementType=ju,e.lanes=l,e;case ec:return e=at(19,n,t,o),e.elementType=ec,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rn:s=10;break e;case Gh:s=9;break e;case Kc:s=11;break e;case $c:s=14;break e;case wn:s=16,i=null;break e}s=29,n=Error(C(130,e===null?"null":typeof e,"")),i=null}return t=at(s,n,t,o),t.elementType=e,t.type=i,t.lanes=l,t}function ci(e,t,n,i){return e=at(7,e,i,t),e.lanes=n,e}function bu(e,t,n){return e=at(6,e,null,t),e.lanes=n,e}function vg(e){var t=at(18,null,null,0);return t.stateNode=e,t}function Iu(e,t,n){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var wm=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var n=wm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:um(t)},wm.set(e,t),t)}return{value:e,source:t,stack:um(t)}}var Qi=[],Zi=0,Ws=null,Cl=0,St=[],Et=0,$n=null,Ft=1,Yt="";function sn(e,t){Qi[Zi++]=Cl,Qi[Zi++]=Ws,Ws=e,Cl=t}function Tg(e,t,n){St[Et++]=Ft,St[Et++]=Yt,St[Et++]=$n,$n=e;var i=Ft;e=Yt;var o=32-ft(i)-1;i&=~(1<<o),n+=1;var l=32-ft(t)+o;if(30<l){var s=o-o%5;l=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Ft=1<<32-ft(t)+o|n<<o|i,Yt=l+e}else Ft=1<<l|n<<o|i,Yt=e}function uf(e){e.return!==null&&(sn(e,1),Tg(e,1,0))}function cf(e){for(;e===Ws;)Ws=Qi[--Zi],Qi[Zi]=null,Cl=Qi[--Zi],Qi[Zi]=null;for(;e===$n;)$n=St[--Et],St[Et]=null,Yt=St[--Et],St[Et]=null,Ft=St[--Et],St[Et]=null}function Sg(e,t){St[Et++]=Ft,St[Et++]=Yt,St[Et++]=$n,Ft=t.id,Yt=t.overflow,$n=e}var Pe=null,fe=null,O=!1,Vn=null,At=!1,hc=Error(C(519));function Xn(e){var t=Error(C(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Ct(t,e)),hc}function Mm(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Le]=e,t[tt]=i,n){case"dialog":V("cancel",t),V("close",t);break;case"iframe":case"object":case"embed":V("load",t);break;case"video":case"audio":for(n=0;n<wl.length;n++)V(wl[n],t);break;case"source":V("error",t);break;case"img":case"image":case"link":V("error",t),V("load",t);break;case"details":V("toggle",t);break;case"input":V("invalid",t),Qh(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":V("invalid",t);break;case"textarea":V("invalid",t),Wh(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||nv(t.textContent,n)?(i.popover!=null&&(V("beforetoggle",t),V("toggle",t)),i.onScroll!=null&&V("scroll",t),i.onScrollEnd!=null&&V("scrollend",t),i.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Xn(e,!0)}function bm(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:At=!1;return;case 27:case 3:At=!0;return;default:Pe=Pe.return}}function Gi(e){if(e!==Pe)return!1;if(!O)return bm(e),O=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vc(e.type,e.memoizedProps)),n=!n),n&&fe&&Xn(e),bm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));fe=vh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));fe=vh(e)}else t===27?(t=fe,jn(e.type)?(e=Fc,Fc=null,fe=e):fe=t):fe=Pe?Rt(e.stateNode.nextSibling):null;return!0}function mi(){fe=Pe=null,O=!1}function Du(){var e=Vn;return e!==null&&(je===null?je=e:je.push.apply(je,e),Vn=null),e}function Al(e){Vn===null?Vn=[e]:Vn.push(e)}var gc=$t(null),Ci=null,cn=null;function bn(e,t,n){ae(gc,t._currentValue),t._currentValue=n}function dn(e){e._currentValue=gc.current,De(gc)}function yc(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function vc(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){var s=o.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=o;for(var c=0;c<t.length;c++)if(r.context===t[c]){l.lanes|=n,r=l.alternate,r!==null&&(r.lanes|=n),yc(l.return,n,e),i||(s=null);break e}l=r.next}}else if(o.tag===18){if(s=o.return,s===null)throw Error(C(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yc(s,n,e),s=null}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}}function So(e,t,n,i){e=null;for(var o=t,l=!1;o!==null;){if(!l){if((o.flags&524288)!==0)l=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var s=o.alternate;if(s===null)throw Error(C(387));if(s=s.memoizedProps,s!==null){var r=o.type;pt(o.pendingProps.value,s.value)||(e!==null?e.push(r):e=[r])}}else if(o===Ys.current){if(s=o.alternate,s===null)throw Error(C(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}o=o.return}e!==null&&vc(t,e,n,i),t.flags|=262144}function js(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hi(e){Ci=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Eg(Ci,e)}function Ss(e,t){return Ci===null&&hi(e),Eg(e,t)}function Eg(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},cn===null){if(e===null)throw Error(C(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return n}var S_=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},E_=Ne.unstable_scheduleCallback,__=Ne.unstable_NormalPriority,Ce={$$typeof:rn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new S_,data:new Map,refCount:0}}function Hl(e){e.refCount--,e.refCount===0&&E_(__,function(){e.controller.abort()})}var ul=null,Tc=0,uo=0,no=null;function C_(e,t){if(ul===null){var n=ul=[];Tc=0,uo=Pf(),no={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Tc++,t.then(Im,Im),t}function Im(){if(--Tc===0&&ul!==null){no!==null&&(no.status="fulfilled");var e=ul;ul=null,uo=0,no=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function A_(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Dm=k.S;k.S=function(e,t){Ly=ut(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&C_(e,t),Dm!==null&&Dm(e,t)};var fi=$t(null);function df(){var e=fi.current;return e!==null?e:le.pooledCache}function Ls(e,t){t===null?ae(fi,fi.current):ae(fi,t.pool)}function _g(){var e=df();return e===null?null:{parent:Ce._currentValue,pool:e}}var Eo=Error(C(460)),pf=Error(C(474)),Ra=Error(C(542)),ea={then:function(){}};function Um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(un,un),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lm(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(C(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lm(e),e}throw di=t,Eo}}function ai(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(di=n,Eo):n}}var di=null;function km(){if(di===null)throw Error(C(459));var e=di;return di=null,e}function Lm(e){if(e===Eo||e===Ra)throw Error(C(483))}var io=null,xl=0;function Es(e){var t=xl;return xl+=1,io===null&&(io=[]),Cg(io,e,t)}function Qo(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _s(e,t){throw t.$$typeof===cE?Error(C(525)):(e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ag(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function i(g){for(var y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function o(g,y){return g=fn(g,y),g.index=0,g.sibling=null,g}function l(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=67108866,y):v):(g.flags|=67108866,y)):(g.flags|=1048576,y)}function s(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function r(g,y,v,E){return y===null||y.tag!==6?(y=bu(v,g.mode,E),y.return=g,y):(y=o(y,v),y.return=g,y)}function c(g,y,v,E){var A=v.type;return A===zi?d(g,y,v.props.children,E,v.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wn&&ai(A)===y.type)?(y=o(y,v.props),Qo(y,v),y.return=g,y):(y=ks(v.type,v.key,v.props,null,g.mode,E),Qo(y,v),y.return=g,y)}function f(g,y,v,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Iu(v,g.mode,E),y.return=g,y):(y=o(y,v.children||[]),y.return=g,y)}function d(g,y,v,E,A){return y===null||y.tag!==7?(y=ci(v,g.mode,E,A),y.return=g,y):(y=o(y,v),y.return=g,y)}function m(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=bu(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ds:return v=ks(y.type,y.key,y.props,null,g.mode,v),Qo(v,y),v.return=g,v;case tl:return y=Iu(y,g.mode,v),y.return=g,y;case wn:return y=ai(y),m(g,y,v)}if(nl(y)||$o(y))return y=ci(y,g.mode,v,null),y.return=g,y;if(typeof y.then=="function")return m(g,Es(y),v);if(y.$$typeof===rn)return m(g,Ss(g,y),v);_s(g,y)}return null}function p(g,y,v,E){var A=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:r(g,y,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ds:return v.key===A?c(g,y,v,E):null;case tl:return v.key===A?f(g,y,v,E):null;case wn:return v=ai(v),p(g,y,v,E)}if(nl(v)||$o(v))return A!==null?null:d(g,y,v,E,null);if(typeof v.then=="function")return p(g,y,Es(v),E);if(v.$$typeof===rn)return p(g,y,Ss(g,v),E);_s(g,v)}return null}function h(g,y,v,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return g=g.get(v)||null,r(y,g,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ds:return g=g.get(E.key===null?v:E.key)||null,c(y,g,E,A);case tl:return g=g.get(E.key===null?v:E.key)||null,f(y,g,E,A);case wn:return E=ai(E),h(g,y,v,E,A)}if(nl(E)||$o(E))return g=g.get(v)||null,d(y,g,E,A,null);if(typeof E.then=="function")return h(g,y,v,Es(E),A);if(E.$$typeof===rn)return h(g,y,v,Ss(y,E),A);_s(y,E)}return null}function T(g,y,v,E){for(var A=null,w=null,x=y,b=y=0,R=null;x!==null&&b<v.length;b++){x.index>b?(R=x,x=null):R=x.sibling;var M=p(g,x,v[b],E);if(M===null){x===null&&(x=R);break}e&&x&&M.alternate===null&&t(g,x),y=l(M,y,b),w===null?A=M:w.sibling=M,w=M,x=R}if(b===v.length)return n(g,x),O&&sn(g,b),A;if(x===null){for(;b<v.length;b++)x=m(g,v[b],E),x!==null&&(y=l(x,y,b),w===null?A=x:w.sibling=x,w=x);return O&&sn(g,b),A}for(x=i(x);b<v.length;b++)R=h(x,g,b,v[b],E),R!==null&&(e&&R.alternate!==null&&x.delete(R.key===null?b:R.key),y=l(R,y,b),w===null?A=R:w.sibling=R,w=R);return e&&x.forEach(function(F){return t(g,F)}),O&&sn(g,b),A}function S(g,y,v,E){if(v==null)throw Error(C(151));for(var A=null,w=null,x=y,b=y=0,R=null,M=v.next();x!==null&&!M.done;b++,M=v.next()){x.index>b?(R=x,x=null):R=x.sibling;var F=p(g,x,M.value,E);if(F===null){x===null&&(x=R);break}e&&x&&F.alternate===null&&t(g,x),y=l(F,y,b),w===null?A=F:w.sibling=F,w=F,x=R}if(M.done)return n(g,x),O&&sn(g,b),A;if(x===null){for(;!M.done;b++,M=v.next())M=m(g,M.value,E),M!==null&&(y=l(M,y,b),w===null?A=M:w.sibling=M,w=M);return O&&sn(g,b),A}for(x=i(x);!M.done;b++,M=v.next())M=h(x,g,b,M.value,E),M!==null&&(e&&M.alternate!==null&&x.delete(M.key===null?b:M.key),y=l(M,y,b),w===null?A=M:w.sibling=M,w=M);return e&&x.forEach(function($e){return t(g,$e)}),O&&sn(g,b),A}function _(g,y,v,E){if(typeof v=="object"&&v!==null&&v.type===zi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ds:e:{for(var A=v.key;y!==null;){if(y.key===A){if(A=v.type,A===zi){if(y.tag===7){n(g,y.sibling),E=o(y,v.props.children),E.return=g,g=E;break e}}else if(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wn&&ai(A)===y.type){n(g,y.sibling),E=o(y,v.props),Qo(E,v),E.return=g,g=E;break e}n(g,y);break}else t(g,y);y=y.sibling}v.type===zi?(E=ci(v.props.children,g.mode,E,v.key),E.return=g,g=E):(E=ks(v.type,v.key,v.props,null,g.mode,E),Qo(E,v),E.return=g,g=E)}return s(g);case tl:e:{for(A=v.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),E=o(y,v.children||[]),E.return=g,g=E;break e}else{n(g,y);break}else t(g,y);y=y.sibling}E=Iu(v,g.mode,E),E.return=g,g=E}return s(g);case wn:return v=ai(v),_(g,y,v,E)}if(nl(v))return T(g,y,v,E);if($o(v)){if(A=$o(v),typeof A!="function")throw Error(C(150));return v=A.call(v),S(g,y,v,E)}if(typeof v.then=="function")return _(g,y,Es(v),E);if(v.$$typeof===rn)return _(g,y,Ss(g,v),E);_s(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),E=o(y,v),E.return=g,g=E):(n(g,y),E=bu(v,g.mode,E),E.return=g,g=E),s(g)):n(g,y)}return function(g,y,v,E){try{xl=0;var A=_(g,y,v,E);return io=null,A}catch(x){if(x===Eo||x===Ra)throw x;var w=at(29,x,null,g.mode);return w.lanes=E,w.return=g,w}finally{}}}var gi=Ag(!0),xg=Ag(!1),Mn=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(X&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Zs(e),gg(e,null,n),t}return xa(e,i,t,n),Zs(e)}function cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Oh(e,n)}}function Uu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=s:l=l.next=s,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ec=!1;function fl(){if(Ec){var e=no;if(e!==null)throw e}}function dl(e,t,n,i){Ec=!1;var o=e.updateQueue;Mn=!1;var l=o.firstBaseUpdate,s=o.lastBaseUpdate,r=o.shared.pending;if(r!==null){o.shared.pending=null;var c=r,f=c.next;c.next=null,s===null?l=f:s.next=f,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==s&&(r===null?d.firstBaseUpdate=f:r.next=f,d.lastBaseUpdate=c))}if(l!==null){var m=o.baseState;s=0,d=f=c=null,r=l;do{var p=r.lane&-536870913,h=p!==r.lane;if(h?(B&p)===p:(i&p)===p){p!==0&&p===uo&&(Ec=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var T=e,S=r;p=t;var _=n;switch(S.tag){case 1:if(T=S.payload,typeof T=="function"){m=T.call(_,m,p);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,p=typeof T=="function"?T.call(_,m,p):T,p==null)break e;m=de({},m,p);break e;case 2:Mn=!0}}p=r.callback,p!==null&&(e.flags|=64,h&&(e.flags|=8192),h=o.callbacks,h===null?o.callbacks=[p]:h.push(p))}else h={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(f=d=h,c=m):d=d.next=h,s|=p;if(r=r.next,r===null){if(r=o.shared.pending,r===null)break;h=r,r=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);d===null&&(c=m),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),Zn|=s,e.lanes=s,e.memoizedState=m}}function Rg(e,t){if(typeof e!="function")throw Error(C(191,e));e.call(t)}function Ng(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Rg(n[e],t)}var co=$t(null),ta=$t(0);function Pm(e,t){e=vn,ae(ta,e),ae(co,t),vn=e|t.baseLanes}function _c(){ae(ta,vn),ae(co,co.current)}function hf(){vn=ta.current,De(co),De(ta)}var mt=$t(null),xt=null;function In(e){var t=e.alternate;ae(ve,ve.current&1),ae(mt,e),xt===null&&(t===null||co.current!==null||t.memoizedState!==null)&&(xt=e)}function Cc(e){ae(ve,ve.current),ae(mt,e),xt===null&&(xt=e)}function wg(e){e.tag===22?(ae(ve,ve.current),ae(mt,e),xt===null&&(xt=e)):Dn(e)}function Dn(){ae(ve,ve.current),ae(mt,mt.current)}function st(e){De(mt),xt===e&&(xt=null),De(ve)}var ve=$t(0);function na(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Bc(n)||Oc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,q=null,oe=null,Ee=null,ia=!1,oo=!1,yi=!1,oa=0,Rl=0,lo=null,x_=0;function ge(){throw Error(C(321))}function gf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function yf(e,t,n,i,o,l){return hn=l,q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?ly:wf,yi=!1,l=n(i,o),yi=!1,oo&&(l=bg(t,n,i,o)),Mg(e),l}function Mg(e){k.H=Nl;var t=oe!==null&&oe.next!==null;if(hn=0,Ee=oe=q=null,ia=!1,Rl=0,lo=null,t)throw Error(C(300));e===null||Ae||(e=e.dependencies,e!==null&&js(e)&&(Ae=!0))}function bg(e,t,n,i){q=e;var o=0;do{if(oo&&(lo=null),Rl=0,oo=!1,25<=o)throw Error(C(301));if(o+=1,Ee=oe=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}k.H=sy,l=t(n,i)}while(oo);return l}function R_(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Vl(t):t,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(q.flags|=1024),t}function vf(){var e=oa!==0;return oa=0,e}function Tf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Sf(e){if(ia){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ia=!1}hn=0,Ee=oe=q=null,oo=!1,Rl=oa=0,lo=null}function Fe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?q.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(oe===null){var e=q.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=Ee===null?q.memoizedState:Ee.next;if(t!==null)Ee=t,oe=e;else{if(e===null)throw q.alternate===null?Error(C(467)):Error(C(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ee===null?q.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Na(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(e){var t=Rl;return Rl+=1,lo===null&&(lo=[]),e=Cg(lo,e,t),t=q,(Ee===null?t.memoizedState:Ee.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?ly:wf),e}function wa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vl(e);if(e.$$typeof===rn)return Ge(e)}throw Error(C(438,String(e)))}function Ef(e){var t=null,n=q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Na(),q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=fE;return t.index++,n}function gn(e,t){return typeof t=="function"?t(e):t}function Ps(e){var t=Te();return _f(t,oe,e)}function _f(e,t,n){var i=e.queue;if(i===null)throw Error(C(311));i.lastRenderedReducer=n;var o=e.baseQueue,l=i.pending;if(l!==null){if(o!==null){var s=o.next;o.next=l.next,l.next=s}t.baseQueue=o=l,i.pending=null}if(l=e.baseState,o===null)e.memoizedState=l;else{t=o.next;var r=s=null,c=null,f=t,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(B&m)===m:(hn&m)===m){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===uo&&(d=!0);else if((hn&p)===p){f=f.next,p===uo&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=m,s=l):c=c.next=m,q.lanes|=p,Zn|=p;m=f.action,yi&&n(l,m),l=f.hasEagerState?f.eagerState:n(l,m)}else p={lane:m,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(r=c=p,s=l):c=c.next=p,q.lanes|=m,Zn|=m;f=f.next}while(f!==null&&f!==t);if(c===null?s=l:c.next=r,!pt(l,e.memoizedState)&&(Ae=!0,d&&(n=no,n!==null)))throw n;e.memoizedState=l,e.baseState=s,e.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function ku(e){var t=Te(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do l=e(l,s.action),s=s.next;while(s!==o);pt(l,t.memoizedState)||(Ae=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Ig(e,t,n){var i=q,o=Te(),l=O;if(l){if(n===void 0)throw Error(C(407));n=n()}else n=t();var s=!pt((oe||o).memoizedState,n);if(s&&(o.memoizedState=n,Ae=!0),o=o.queue,Cf(kg.bind(null,i,o,e),[e]),o.getSnapshot!==t||s||Ee!==null&&Ee.memoizedState.tag&1){if(i.flags|=2048,fo(9,{destroy:void 0},Ug.bind(null,i,o,n,t),null),le===null)throw Error(C(349));l||(hn&127)!==0||Dg(i,t,n)}return n}function Dg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=q.updateQueue,t===null?(t=Na(),q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ug(e,t,n,i){t.value=n,t.getSnapshot=i,Lg(t)&&Pg(e)}function kg(e,t,n){return n(function(){Lg(t)&&Pg(e)})}function Lg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Pg(e){var t=_i(e,2);t!==null&&et(t,e,2)}function Ac(e){var t=Fe();if(typeof e=="function"){var n=e;if(e=n(),yi){kn(!0);try{n()}finally{kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t}function Gg(e,t,n,i){return e.baseState=n,_f(e,oe,typeof i=="function"?i:gn)}function N_(e,t,n,i,o){if(ba(e))throw Error(C(485));if(e=t.action,e!==null){var l={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){l.listeners.push(s)}};k.T!==null?n(!0):l.isTransition=!1,i(l),n=t.pending,n===null?(l.next=t.pending=l,qg(t,l)):(l.next=n.next,t.pending=n.next=l)}}function qg(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var l=k.T,s={};k.T=s;try{var r=n(o,i),c=k.S;c!==null&&c(s,r),Gm(e,t,r)}catch(f){xc(e,t,f)}finally{l!==null&&s.types!==null&&(l.types=s.types),k.T=l}}else try{l=n(o,i),Gm(e,t,l)}catch(f){xc(e,t,f)}}function Gm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){qm(e,t,i)},function(i){return xc(e,t,i)}):qm(e,t,n)}function qm(e,t,n){t.status="fulfilled",t.value=n,Hg(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,qg(e,n)))}function xc(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Hg(t),t=t.next;while(t!==i)}e.action=null}function Hg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vg(e,t){return t}function Hm(e,t){if(O){var n=le.formState;if(n!==null){e:{var i=q;if(O){if(fe){t:{for(var o=fe,l=At;o.nodeType!==8;){if(!l){o=null;break t}if(o=Rt(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){fe=Rt(o.nextSibling),i=o.data==="F!";break e}}Xn(i)}i=!1}i&&(t=n[0])}}return n=Fe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:t},n.queue=i,n=ny.bind(null,q,i),i.dispatch=n,i=Ac(!1),l=Nf.bind(null,q,!1,i.queue),i=Fe(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=N_.bind(null,q,o,l,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Vm(e){var t=Te();return zg(t,oe,e)}function zg(e,t,n){if(t=_f(e,t,Vg)[0],e=Ps(gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Vl(t)}catch(s){throw s===Eo?Ra:s}else i=t;t=Te();var o=t.queue,l=o.dispatch;return n!==t.memoizedState&&(q.flags|=2048,fo(9,{destroy:void 0},w_.bind(null,o,n),null)),[i,l,e]}function w_(e,t){e.action=t}function zm(e){var t=Te(),n=oe;if(n!==null)return zg(t,n,e);Te(),t=t.memoizedState,n=Te();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function fo(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=q.updateQueue,t===null&&(t=Na(),q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Bg(){return Te().memoizedState}function Gs(e,t,n,i){var o=Fe();q.flags|=e,o.memoizedState=fo(1|t,{destroy:void 0},n,i===void 0?null:i)}function Ma(e,t,n,i){var o=Te();i=i===void 0?null:i;var l=o.memoizedState.inst;oe!==null&&i!==null&&gf(i,oe.memoizedState.deps)?o.memoizedState=fo(t,l,n,i):(q.flags|=e,o.memoizedState=fo(1|t,l,n,i))}function Bm(e,t){Gs(8390656,8,e,t)}function Cf(e,t){Ma(2048,8,e,t)}function M_(e){q.flags|=4;var t=q.updateQueue;if(t===null)t=Na(),q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Og(e){var t=Te().memoizedState;return M_({ref:t,nextImpl:e}),function(){if((X&2)!==0)throw Error(C(440));return t.impl.apply(void 0,arguments)}}function Fg(e,t){return Ma(4,2,e,t)}function Yg(e,t){return Ma(4,4,e,t)}function Jg(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Kg(e,t,n){n=n!=null?n.concat([e]):null,Ma(4,4,Jg.bind(null,t,e),n)}function Af(){}function $g(e,t){var n=Te();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&gf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xg(e,t){var n=Te();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&gf(t,i[1]))return i[0];if(i=e(),yi){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[i,t],i}function xf(e,t,n){return n===void 0||(hn&1073741824)!==0&&(B&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Gy(),q.lanes|=e,Zn|=e,n)}function Qg(e,t,n,i){return pt(n,t)?n:co.current!==null?(e=xf(e,n,i),pt(e,t)||(Ae=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(B&261930)===0?(Ae=!0,e.memoizedState=n):(e=Gy(),q.lanes|=e,Zn|=e,t)}function Zg(e,t,n,i,o){var l=Q.p;Q.p=l!==0&&8>l?l:8;var s=k.T,r={};k.T=r,Nf(e,!1,t,n);try{var c=o(),f=k.S;if(f!==null&&f(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=A_(c,i);pl(e,t,d,dt(e))}else pl(e,t,i,dt(e))}catch(m){pl(e,t,{then:function(){},status:"rejected",reason:m},dt())}finally{Q.p=l,s!==null&&r.types!==null&&(s.types=r.types),k.T=s}}function b_(){}function Rc(e,t,n,i){if(e.tag!==5)throw Error(C(476));var o=Wg(e).queue;Zg(e,o,t,ui,n===null?b_:function(){return jg(e),n(i)})}function Wg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ui,baseState:ui,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:ui},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jg(e){var t=Wg(e);t.next===null&&(t=e.alternate.memoizedState),pl(e,t.next.queue,{},dt())}function Rf(){return Ge(bl)}function ey(){return Te().memoizedState}function ty(){return Te().memoizedState}function I_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dt();e=zn(n);var i=Bn(t,e,n);i!==null&&(et(i,t,n),cl(i,t,n)),t={cache:ff()},e.payload=t;return}t=t.return}}function D_(e,t,n){var i=dt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ba(e)?iy(t,n):(n=af(e,t,n,i),n!==null&&(et(n,e,i),oy(n,t,i)))}function ny(e,t,n){var i=dt();pl(e,t,n,i)}function pl(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ba(e))iy(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var s=t.lastRenderedState,r=l(s,n);if(o.hasEagerState=!0,o.eagerState=r,pt(r,s))return xa(e,t,o,0),le===null&&Aa(),!1}catch{}finally{}if(n=af(e,t,o,i),n!==null)return et(n,e,i),oy(n,t,i),!0}return!1}function Nf(e,t,n,i){if(i={lane:2,revertLane:Pf(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ba(e)){if(t)throw Error(C(479))}else t=af(e,n,i,2),t!==null&&et(t,e,2)}function ba(e){var t=e.alternate;return e===q||t!==null&&t===q}function iy(e,t){oo=ia=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oy(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Oh(e,n)}}var Nl={readContext:Ge,use:wa,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};Nl.useEffectEvent=ge;var ly={readContext:Ge,use:wa,useCallback:function(e,t){return Fe().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Bm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Gs(4194308,4,Jg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){Gs(4,2,e,t)},useMemo:function(e,t){var n=Fe();t=t===void 0?null:t;var i=e();if(yi){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Fe();if(n!==void 0){var o=n(t);if(yi){kn(!0);try{n(t)}finally{kn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=D_.bind(null,q,e),[i.memoizedState,e]},useRef:function(e){var t=Fe();return e={current:e},t.memoizedState=e},useState:function(e){e=Ac(e);var t=e.queue,n=ny.bind(null,q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Af,useDeferredValue:function(e,t){var n=Fe();return xf(n,e,t)},useTransition:function(){var e=Ac(!1);return e=Zg.bind(null,q,e.queue,!0,!1),Fe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=q,o=Fe();if(O){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),le===null)throw Error(C(349));(B&127)!==0||Dg(i,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Bm(kg.bind(null,i,l,e),[e]),i.flags|=2048,fo(9,{destroy:void 0},Ug.bind(null,i,l,n,t),null),n},useId:function(){var e=Fe(),t=le.identifierPrefix;if(O){var n=Yt,i=Ft;n=(i&~(1<<32-ft(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=oa++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=x_++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Rf,useFormState:Hm,useActionState:Hm,useOptimistic:function(e){var t=Fe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nf.bind(null,q,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ef,useCacheRefresh:function(){return Fe().memoizedState=I_.bind(null,q)},useEffectEvent:function(e){var t=Fe(),n={impl:e};return t.memoizedState=n,function(){if((X&2)!==0)throw Error(C(440));return n.impl.apply(void 0,arguments)}}},wf={readContext:Ge,use:wa,useCallback:$g,useContext:Ge,useEffect:Cf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Yg,useMemo:Xg,useReducer:Ps,useRef:Bg,useState:function(){return Ps(gn)},useDebugValue:Af,useDeferredValue:function(e,t){var n=Te();return Qg(n,oe.memoizedState,e,t)},useTransition:function(){var e=Ps(gn)[0],t=Te().memoizedState;return[typeof e=="boolean"?e:Vl(e),t]},useSyncExternalStore:Ig,useId:ey,useHostTransitionStatus:Rf,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,t){var n=Te();return Gg(n,oe,e,t)},useMemoCache:Ef,useCacheRefresh:ty};wf.useEffectEvent=Og;var sy={readContext:Ge,use:wa,useCallback:$g,useContext:Ge,useEffect:Cf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Yg,useMemo:Xg,useReducer:ku,useRef:Bg,useState:function(){return ku(gn)},useDebugValue:Af,useDeferredValue:function(e,t){var n=Te();return oe===null?xf(n,e,t):Qg(n,oe.memoizedState,e,t)},useTransition:function(){var e=ku(gn)[0],t=Te().memoizedState;return[typeof e=="boolean"?e:Vl(e),t]},useSyncExternalStore:Ig,useId:ey,useHostTransitionStatus:Rf,useFormState:zm,useActionState:zm,useOptimistic:function(e,t){var n=Te();return oe!==null?Gg(n,oe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:ty};sy.useEffectEvent=Og;function Lu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nc={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=dt(),o=zn(i);o.payload=t,n!=null&&(o.callback=n),t=Bn(e,o,i),t!==null&&(et(t,e,i),cl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=dt(),o=zn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Bn(e,o,i),t!==null&&(et(t,e,i),cl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),i=zn(n);i.tag=2,t!=null&&(i.callback=t),t=Bn(e,i,n),t!==null&&(et(t,e,n),cl(t,e,n))}};function Om(e,t,n,i,o,l,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,s):t.prototype&&t.prototype.isPureReactComponent?!_l(n,i)||!_l(o,l):!0}function Fm(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function vi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=de({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function ay(e){Qs(e)}function ry(e){console.error(e)}function uy(e){Qs(e)}function la(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Ym(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function wc(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){la(e,t)},n}function cy(e){return e=zn(e),e.tag=3,e}function fy(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;e.payload=function(){return o(l)},e.callback=function(){Ym(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Ym(t,n,i),typeof o!="function"&&(On===null?On=new Set([this]):On.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function U_(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&So(t,n,o,!0),n=mt.current,n!==null){switch(n.tag){case 31:case 13:return xt===null?ca():n.alternate===null&&ye===0&&(ye=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===ea?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Ju(e,i,o)),!1;case 22:return n.flags|=65536,i===ea?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Ju(e,i,o)),!1}throw Error(C(435,n.tag))}return Ju(e,i,o),ca(),!1}if(O)return t=mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==hc&&(e=Error(C(422),{cause:i}),Al(Ct(e,n)))):(i!==hc&&(t=Error(C(423),{cause:i}),Al(Ct(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Ct(i,n),o=wc(e.stateNode,i,o),Uu(e,o),ye!==4&&(ye=2)),!1;var l=Error(C(520),{cause:i});if(l=Ct(l,n),gl===null?gl=[l]:gl.push(l),ye!==4&&(ye=2),t===null)return!0;i=Ct(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=wc(n.stateNode,i,e),Uu(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(On===null||!On.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=cy(o),fy(o,e,n,i),Uu(n,o),!1}n=n.return}while(n!==null);return!1}var Mf=Error(C(461)),Ae=!1;function ke(e,t,n,i){t.child=e===null?xg(t,null,n,i):gi(t,e.child,n,i)}function Jm(e,t,n,i,o){n=n.render;var l=t.ref;if("ref"in i){var s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}else s=i;return hi(t),i=yf(e,t,n,s,l,o),r=vf(),e!==null&&!Ae?(Tf(e,t,o),yn(e,t,o)):(O&&r&&uf(t),t.flags|=1,ke(e,t,i,o),t.child)}function Km(e,t,n,i,o){if(e===null){var l=n.type;return typeof l=="function"&&!rf(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,dy(e,t,l,i,o)):(e=ks(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!bf(e,o)){var s=l.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(s,i)&&e.ref===t.ref)return yn(e,t,o)}return t.flags|=1,e=fn(l,i),e.ref=t.ref,e.return=t,t.child=e}function dy(e,t,n,i,o){if(e!==null){var l=e.memoizedProps;if(_l(l,i)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=i=l,bf(e,o))(e.flags&131072)!==0&&(Ae=!0);else return t.lanes=e.lanes,yn(e,t,o)}return Mc(e,t,n,i,o)}function py(e,t,n,i){var o=i.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(l=l!==null?l.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~l}else i=0,t.child=null;return $m(e,t,l,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ls(t,l!==null?l.cachePool:null),l!==null?Pm(t,l):_c(),wg(t);else return i=t.lanes=536870912,$m(e,t,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(Ls(t,l.cachePool),Pm(t,l),Dn(t),t.memoizedState=null):(e!==null&&Ls(t,null),_c(),Dn(t));return ke(e,t,o,n),t.child}function ol(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $m(e,t,n,i,o){var l=df();return l=l===null?null:{parent:Ce._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&Ls(t,null),_c(),wg(t),e!==null&&So(e,t,i,!0),t.childLanes=o,null}function qs(e,t){return t=sa({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xm(e,t,n){return gi(t,e.child,null,n),e=qs(t,t.pendingProps),e.flags|=2,st(t),t.memoizedState=null,e}function k_(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(O){if(i.mode==="hidden")return e=qs(t,i),t.lanes=536870912,ol(null,e);if(Cc(t),(e=fe)?(e=lv(e,At),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:Ft,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},n=vg(e),n.return=t,t.child=n,Pe=t,fe=null)):e=null,e===null)throw Xn(t);return t.lanes=536870912,null}return qs(t,i)}var l=e.memoizedState;if(l!==null){var s=l.dehydrated;if(Cc(t),o)if(t.flags&256)t.flags&=-257,t=Xm(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(C(558));else if(Ae||So(e,t,n,!1),o=(n&e.childLanes)!==0,Ae||o){if(i=le,i!==null&&(s=Fh(i,n),s!==0&&s!==l.retryLane))throw l.retryLane=s,_i(e,s),et(i,e,s),Mf;ca(),t=Xm(e,t,n)}else e=l.treeContext,fe=Rt(s.nextSibling),Pe=t,O=!0,Vn=null,At=!1,e!==null&&Sg(t,e),t=qs(t,i),t.flags|=4096;return t}return e=fn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(C(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mc(e,t,n,i,o){return hi(t),n=yf(e,t,n,i,void 0,o),i=vf(),e!==null&&!Ae?(Tf(e,t,o),yn(e,t,o)):(O&&i&&uf(t),t.flags|=1,ke(e,t,n,o),t.child)}function Qm(e,t,n,i,o,l){return hi(t),t.updateQueue=null,n=bg(t,i,n,o),Mg(e),i=vf(),e!==null&&!Ae?(Tf(e,t,l),yn(e,t,l)):(O&&i&&uf(t),t.flags|=1,ke(e,t,n,l),t.child)}function Zm(e,t,n,i,o){if(hi(t),t.stateNode===null){var l=Xi,s=n.contextType;typeof s=="object"&&s!==null&&(l=Ge(s)),l=new n(i,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Nc,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=i,l.state=t.memoizedState,l.refs={},mf(t),s=n.contextType,l.context=typeof s=="object"&&s!==null?Ge(s):Xi,l.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Lu(t,n,s,i),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(s=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),s!==l.state&&Nc.enqueueReplaceState(l,l.state,null),dl(t,i,l,o),fl(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,c=vi(n,r);l.props=c;var f=l.context,d=n.contextType;s=Xi,typeof d=="object"&&d!==null&&(s=Ge(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||f!==s)&&Fm(t,l,i,s),Mn=!1;var p=t.memoizedState;l.state=p,dl(t,i,l,o),fl(),f=t.memoizedState,r||p!==f||Mn?(typeof m=="function"&&(Lu(t,n,m,i),f=t.memoizedState),(c=Mn||Om(t,n,c,i,p,f,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),l.props=i,l.state=f,l.context=s,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Sc(e,t),s=t.memoizedProps,d=vi(n,s),l.props=d,m=t.pendingProps,p=l.context,f=n.contextType,c=Xi,typeof f=="object"&&f!==null&&(c=Ge(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==m||p!==c)&&Fm(t,l,i,c),Mn=!1,p=t.memoizedState,l.state=p,dl(t,i,l,o),fl();var h=t.memoizedState;s!==m||p!==h||Mn||e!==null&&e.dependencies!==null&&js(e.dependencies)?(typeof r=="function"&&(Lu(t,n,r,i),h=t.memoizedState),(d=Mn||Om(t,n,d,i,p,h,c)||e!==null&&e.dependencies!==null&&js(e.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,h,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,h,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),l.props=i,l.state=h,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return l=i,Hs(e,t),i=(t.flags&128)!==0,l||i?(l=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&i?(t.child=gi(t,e.child,null,o),t.child=gi(t,null,n,o)):ke(e,t,n,o),t.memoizedState=l.state,e=t.child):e=yn(e,t,o),e}function Wm(e,t,n,i){return mi(),t.flags|=256,ke(e,t,n,i),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gu(e){return{baseLanes:e,cachePool:_g()}}function qu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=rt),e}function my(e,t,n){var i=t.pendingProps,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),s&&(o=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(O){if(o?In(t):Dn(t),(e=fe)?(e=lv(e,At),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:Ft,overflow:Yt}:null,retryLane:536870912,hydrationErrors:null},n=vg(e),n.return=t,t.child=n,Pe=t,fe=null)):e=null,e===null)throw Xn(t);return Oc(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,o?(Dn(t),o=t.mode,r=sa({mode:"hidden",children:r},o),i=ci(i,o,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Gu(n),i.childLanes=qu(e,s,n),t.memoizedState=Pu,ol(null,i)):(In(t),bc(t,r))}var c=e.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(l)t.flags&256?(In(t),t.flags&=-257,t=Hu(e,t,n)):t.memoizedState!==null?(Dn(t),t.child=e.child,t.flags|=128,t=null):(Dn(t),r=i.fallback,o=t.mode,i=sa({mode:"visible",children:i.children},o),r=ci(r,o,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,gi(t,e.child,null,n),i=t.child,i.memoizedState=Gu(n),i.childLanes=qu(e,s,n),t.memoizedState=Pu,t=ol(null,i));else if(In(t),Oc(r)){if(s=r.nextSibling&&r.nextSibling.dataset,s)var f=s.dgst;s=f,i=Error(C(419)),i.stack="",i.digest=s,Al({value:i,source:null,stack:null}),t=Hu(e,t,n)}else if(Ae||So(e,t,n,!1),s=(n&e.childLanes)!==0,Ae||s){if(s=le,s!==null&&(i=Fh(s,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,_i(e,i),et(s,e,i),Mf;Bc(r)||ca(),t=Hu(e,t,n)}else Bc(r)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fe=Rt(r.nextSibling),Pe=t,O=!0,Vn=null,At=!1,e!==null&&Sg(t,e),t=bc(t,i.children),t.flags|=4096);return t}return o?(Dn(t),r=i.fallback,o=t.mode,c=e.child,f=c.sibling,i=fn(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?r=fn(f,r):(r=ci(r,o,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,ol(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Gu(n):(o=r.cachePool,o!==null?(c=Ce._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=_g(),r={baseLanes:r.baseLanes|n,cachePool:o}),i.memoizedState=r,i.childLanes=qu(e,s,n),t.memoizedState=Pu,ol(e.child,i)):(In(t),n=e.child,e=n.sibling,n=fn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function bc(e,t){return t=sa({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sa(e,t){return e=at(22,e,null,t),e.lanes=0,e}function Hu(e,t,n){return gi(t,e.child,null,n),e=bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jm(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),yc(e.return,t,n)}function Vu(e,t,n,i,o,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o,s.treeForkCount=l)}function hy(e,t,n){var i=t.pendingProps,o=i.revealOrder,l=i.tail;i=i.children;var s=ve.current,r=(s&2)!==0;if(r?(s=s&1|2,t.flags|=128):s&=1,ae(ve,s),ke(e,t,i,n),i=O?Cl:0,!r&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jm(e,n,t);else if(e.tag===19)jm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&na(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vu(t,!1,o,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&na(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vu(t,!0,n,null,l,i);break;case"together":Vu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(So(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&js(e)))}function L_(e,t,n){switch(t.tag){case 3:Js(t,t.stateNode.containerInfo),bn(t,Ce,e.memoizedState.cache),mi();break;case 27:case 5:oc(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:bn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Cc(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(In(t),t.flags|=128,null):(n&t.child.childLanes)!==0?my(e,t,n):(In(t),e=yn(e,t,n),e!==null?e.sibling:null);In(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(So(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return hy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ae(ve,ve.current),i)break;return null;case 22:return t.lanes=0,py(e,t,n,t.pendingProps);case 24:bn(t,Ce,e.memoizedState.cache)}return yn(e,t,n)}function gy(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ae=!0;else{if(!bf(e,n)&&(t.flags&128)===0)return Ae=!1,L_(e,t,n);Ae=(e.flags&131072)!==0}else Ae=!1,O&&(t.flags&1048576)!==0&&Tg(t,Cl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ai(t.elementType),t.type=e,typeof e=="function")rf(e)?(i=vi(e,i),t.tag=1,t=Zm(null,t,e,i,n)):(t.tag=0,t=Mc(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Kc){t.tag=11,t=Jm(null,t,e,i,n);break e}else if(o===$c){t.tag=14,t=Km(null,t,e,i,n);break e}}throw t=nc(e)||e,Error(C(306,t,""))}}return t;case 0:return Mc(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=vi(i,t.pendingProps),Zm(e,t,i,o,n);case 3:e:{if(Js(t,t.stateNode.containerInfo),e===null)throw Error(C(387));i=t.pendingProps;var l=t.memoizedState;o=l.element,Sc(e,t),dl(t,i,null,n);var s=t.memoizedState;if(i=s.cache,bn(t,Ce,i),i!==l.cache&&vc(t,[Ce],n,!0),fl(),i=s.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Wm(e,t,i,n);break e}else if(i!==o){o=Ct(Error(C(424)),t),Al(o),t=Wm(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Rt(e.firstChild),Pe=t,O=!0,Vn=null,At=!0,n=xg(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(mi(),i===o){t=yn(e,t,n);break e}ke(e,t,i,n)}t=t.child}return t;case 26:return Hs(e,t),e===null?(n=Eh(t.type,null,t.pendingProps,null))?t.memoizedState=n:O||(n=t.type,e=t.pendingProps,i=ma(Hn.current).createElement(n),i[Le]=t,i[tt]=e,qe(i,n,e),Ie(i),t.stateNode=i):t.memoizedState=Eh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oc(t),e===null&&O&&(i=t.stateNode=sv(t.type,t.pendingProps,Hn.current),Pe=t,At=!0,o=fe,jn(t.type)?(Fc=o,fe=Rt(i.firstChild)):fe=o),ke(e,t,t.pendingProps.children,n),Hs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&O&&((o=i=fe)&&(i=uC(i,t.type,t.pendingProps,At),i!==null?(t.stateNode=i,Pe=t,fe=Rt(i.firstChild),At=!1,o=!0):o=!1),o||Xn(t)),oc(t),o=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,i=l.children,Vc(o,l)?i=null:s!==null&&Vc(o,s)&&(t.flags|=32),t.memoizedState!==null&&(o=yf(e,t,R_,null,null,n),bl._currentValue=o),Hs(e,t),ke(e,t,i,n),t.child;case 6:return e===null&&O&&((e=n=fe)&&(n=cC(n,t.pendingProps,At),n!==null?(t.stateNode=n,Pe=t,fe=null,e=!0):e=!1),e||Xn(t)),null;case 13:return my(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=gi(t,null,i,n):ke(e,t,i,n),t.child;case 11:return Jm(e,t,t.type,t.pendingProps,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,bn(t,t.type,i.value),ke(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,hi(t),o=Ge(o),i=i(o),t.flags|=1,ke(e,t,i,n),t.child;case 14:return Km(e,t,t.type,t.pendingProps,n);case 15:return dy(e,t,t.type,t.pendingProps,n);case 19:return hy(e,t,n);case 31:return k_(e,t,n);case 22:return py(e,t,n,t.pendingProps);case 24:return hi(t),i=Ge(Ce),e===null?(o=df(),o===null&&(o=le,l=ff(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),t.memoizedState={parent:i,cache:o},mf(t),bn(t,Ce,o)):((e.lanes&n)!==0&&(Sc(e,t),dl(t,null,null,n),fl()),o=e.memoizedState,l=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),bn(t,Ce,i)):(i=l.cache,bn(t,Ce,i),i!==o.cache&&vc(t,[Ce],n,!0))),ke(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(C(156,t.tag))}function tn(e){e.flags|=4}function zu(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw di=ea,pf}else e.flags&=-16777217}function eh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!uv(t))if(Vy())e.flags|=8192;else throw di=ea,pf}function Cs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?zh():536870912,e.lanes|=t,po|=t)}function Zo(e,t){if(!O)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function P_(e,t,n){var i=t.pendingProps;switch(cf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),dn(Ce),so(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Gi(t)?tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Du())),ce(t),null;case 26:var o=t.type,l=t.memoizedState;return e===null?(tn(t),l!==null?(ce(t),eh(t,l)):(ce(t),zu(t,o,null,i,n))):l?l!==e.memoizedState?(tn(t),ce(t),eh(t,l)):(ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&tn(t),ce(t),zu(t,o,e,i,n)),null;case 27:if(Ks(t),n=Hn.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&tn(t);else{if(!i){if(t.stateNode===null)throw Error(C(166));return ce(t),null}e=Kt.current,Gi(t)?Mm(t,e):(e=sv(o,i,n),t.stateNode=e,tn(t))}return ce(t),null;case 5:if(Ks(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&tn(t);else{if(!i){if(t.stateNode===null)throw Error(C(166));return ce(t),null}if(l=Kt.current,Gi(t))Mm(t,l);else{var s=ma(Hn.current);switch(l){case 1:l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":l=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":l=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":l=s.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?s.createElement(o,{is:i.is}):s.createElement(o)}}l[Le]=t,l[tt]=i;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)l.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=l;e:switch(qe(l,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&tn(t)}}return ce(t),zu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&tn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(C(166));if(e=Hn.current,Gi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=Pe,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Le]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||nv(e.nodeValue,n)),e||Xn(t,!0)}else e=ma(e).createTextNode(i),e[Le]=t,t.stateNode=e}return ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Gi(t),n!==null){if(e===null){if(!i)throw Error(C(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(557));e[Le]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ce(t),e=!1}else n=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(st(t),t):(st(t),null);if((t.flags&128)!==0)throw Error(C(558))}return ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Gi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(C(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[Le]=t}else mi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ce(t),o=!1}else o=Du(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(st(t),t):(st(t),null)}return st(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Cs(t,t.updateQueue),ce(t),null);case 4:return so(),e===null&&Gf(t.stateNode.containerInfo),ce(t),null;case 10:return dn(t.type),ce(t),null;case 19:if(De(ve),i=t.memoizedState,i===null)return ce(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)Zo(i,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=na(e),l!==null){for(t.flags|=128,Zo(i,!1),e=l.updateQueue,t.updateQueue=e,Cs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)yg(n,e),n=n.sibling;return ae(ve,ve.current&1|2),O&&sn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ut()>ra&&(t.flags|=128,o=!0,Zo(i,!1),t.lanes=4194304)}else{if(!o)if(e=na(l),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Cs(t,e),Zo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!O)return ce(t),null}else 2*ut()-i.renderingStartTime>ra&&n!==536870912&&(t.flags|=128,o=!0,Zo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(e=i.last,e!==null?e.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=ve.current,ae(ve,o?n&1|2:n&1),O&&sn(t,i.treeForkCount),e):(ce(t),null);case 22:case 23:return st(t),hf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),n=t.updateQueue,n!==null&&Cs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&De(fi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),dn(Ce),ce(t),null;case 25:return null;case 30:return null}throw Error(C(156,t.tag))}function G_(e,t){switch(cf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(Ce),so(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ks(t),null;case 31:if(t.memoizedState!==null){if(st(t),t.alternate===null)throw Error(C(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(st(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(ve),null;case 4:return so(),null;case 10:return dn(t.type),null;case 22:case 23:return st(t),hf(),e!==null&&De(fi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(Ce),null;case 25:return null;default:return null}}function yy(e,t){switch(cf(t),t.tag){case 3:dn(Ce),so();break;case 26:case 27:case 5:Ks(t);break;case 4:so();break;case 31:t.memoizedState!==null&&st(t);break;case 13:st(t);break;case 19:De(ve);break;case 10:dn(t.type);break;case 22:case 23:st(t),hf(),e!==null&&De(fi);break;case 24:dn(Ce)}}function zl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var l=n.create,s=n.inst;i=l(),s.destroy=i}n=n.next}while(n!==o)}}catch(r){ee(t,t.return,r)}}function Qn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&e)===e){var s=i.inst,r=s.destroy;if(r!==void 0){s.destroy=void 0,o=t;var c=n,f=r;try{f()}catch(d){ee(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){ee(t,t.return,d)}}function vy(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ng(t,n)}catch(i){ee(e,e.return,i)}}}function Ty(e,t,n){n.props=vi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ee(e,t,i)}}function ml(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){ee(e,t,o)}}function Jt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){ee(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ee(e,t,o)}else n.current=null}function Sy(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){ee(e,e.return,o)}}function Bu(e,t,n){try{var i=e.stateNode;iC(i,e.type,n,t),i[tt]=t}catch(o){ee(e,e.return,o)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&jn(e.type)||e.tag===4}function Ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=un));else if(i!==4&&(i===27&&jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ic(e,t,n),e=e.sibling;e!==null;)Ic(e,t,n),e=e.sibling}function aa(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(aa(e,t,n),e=e.sibling;e!==null;)aa(e,t,n),e=e.sibling}function _y(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);qe(t,i,n),t[Le]=e,t[tt]=n}catch(l){ee(e,e.return,l)}}var an=!1,_e=!1,Fu=!1,th=typeof WeakSet=="function"?WeakSet:Set,be=null;function q_(e,t){if(e=e.containerInfo,qc=va,e=ug(e),lf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var s=0,r=-1,c=-1,f=0,d=0,m=e,p=null;t:for(;;){for(var h;m!==n||o!==0&&m.nodeType!==3||(r=s+o),m!==l||i!==0&&m.nodeType!==3||(c=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++f===o&&(r=s),p===l&&++d===i&&(c=s),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=r===-1||c===-1?null:{start:r,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:e,selectionRange:n},va=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){switch(t=be,l=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&l!==null){e=void 0,n=t,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var T=vi(n.type,o);e=i.getSnapshotBeforeUpdate(T,l),i.__reactInternalSnapshotBeforeUpdate=e}catch(S){ee(n,n.return,S)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(C(163))}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}}function Cy(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n),i&4&&zl(5,n);break;case 1:if(on(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){ee(n,n.return,s)}else{var o=vi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){ee(n,n.return,s)}}i&64&&vy(n),i&512&&ml(n,n.return);break;case 3:if(on(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ng(e,t)}catch(s){ee(n,n.return,s)}}break;case 27:t===null&&i&4&&_y(n);case 26:case 5:on(e,n),t===null&&i&4&&Sy(n),i&512&&ml(n,n.return);break;case 12:on(e,n);break;case 31:on(e,n),i&4&&Ry(e,n);break;case 13:on(e,n),i&4&&Ny(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=K_.bind(null,n),fC(e,n))));break;case 22:if(i=n.memoizedState!==null||an,!i){t=t!==null&&t.memoizedState!==null||_e,o=an;var l=_e;an=i,(_e=t)&&!l?ln(e,n,(n.subtreeFlags&8772)!==0):on(e,n),an=o,_e=l}break;case 30:break;default:on(e,n)}}function Ay(e){var t=e.alternate;t!==null&&(e.alternate=null,Ay(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,We=!1;function nn(e,t,n){for(n=n.child;n!==null;)xy(e,t,n),n=n.sibling}function xy(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(kl,n)}catch{}switch(n.tag){case 26:_e||Jt(n,t),nn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_e||Jt(n,t);var i=he,o=We;jn(n.type)&&(he=n.stateNode,We=!1),nn(e,t,n),vl(n.stateNode),he=i,We=o;break;case 5:_e||Jt(n,t);case 6:if(i=he,o=We,he=null,nn(e,t,n),he=i,We=o,he!==null)if(We)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(l){ee(n,t,l)}else try{he.removeChild(n.stateNode)}catch(l){ee(n,t,l)}break;case 18:he!==null&&(We?(e=he,gh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),yo(e)):gh(he,n.stateNode));break;case 4:i=he,o=We,he=n.stateNode.containerInfo,We=!0,nn(e,t,n),he=i,We=o;break;case 0:case 11:case 14:case 15:Qn(2,n,t),_e||Qn(4,n,t),nn(e,t,n);break;case 1:_e||(Jt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Ty(n,t,i)),nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:_e=(i=_e)||n.memoizedState!==null,nn(e,t,n),_e=i;break;default:nn(e,t,n)}}function Ry(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yo(e)}catch(n){ee(t,t.return,n)}}}function Ny(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yo(e)}catch(n){ee(t,t.return,n)}}function H_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new th),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new th),t;default:throw Error(C(435,e.tag))}}function As(e,t){var n=H_(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=$_.bind(null,e,i);i.then(o,o)}})}function Qe(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=e,s=t,r=s;e:for(;r!==null;){switch(r.tag){case 27:if(jn(r.type)){he=r.stateNode,We=!1;break e}break;case 5:he=r.stateNode,We=!1;break e;case 3:case 4:he=r.stateNode.containerInfo,We=!0;break e}r=r.return}if(he===null)throw Error(C(160));xy(l,s,o),he=null,We=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wy(t,e),t=t.sibling}var Ut=null;function wy(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qe(t,e),Ze(e),i&4&&(Qn(3,e,e.return),zl(3,e),Qn(5,e,e.return));break;case 1:Qe(t,e),Ze(e),i&512&&(_e||n===null||Jt(n,n.return)),i&64&&an&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Ut;if(Qe(t,e),Ze(e),i&512&&(_e||n===null||Jt(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[Gl]||l[Le]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),qe(l,i,n),l[Le]=e,Ie(l),i=l;break e;case"link":var s=Ch("link","href",o).get(i+(n.href||""));if(s){for(var r=0;r<s.length;r++)if(l=s[r],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(r,1);break t}}l=o.createElement(i),qe(l,i,n),o.head.appendChild(l);break;case"meta":if(s=Ch("meta","content",o).get(i+(n.content||""))){for(r=0;r<s.length;r++)if(l=s[r],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(r,1);break t}}l=o.createElement(i),qe(l,i,n),o.head.appendChild(l);break;default:throw Error(C(468,i))}l[Le]=e,Ie(l),i=l}e.stateNode=i}else Ah(o,e.type,e.stateNode);else e.stateNode=_h(o,i,e.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?Ah(o,e.type,e.stateNode):_h(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Qe(t,e),Ze(e),i&512&&(_e||n===null||Jt(n,n.return)),n!==null&&i&4&&Bu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Qe(t,e),Ze(e),i&512&&(_e||n===null||Jt(n,n.return)),e.flags&32){o=e.stateNode;try{ro(o,"")}catch(T){ee(e,e.return,T)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Bu(e,o,n!==null?n.memoizedProps:o)),i&1024&&(Fu=!0);break;case 6:if(Qe(t,e),Ze(e),i&4){if(e.stateNode===null)throw Error(C(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(T){ee(e,e.return,T)}}break;case 3:if(Bs=null,o=Ut,Ut=ha(t.containerInfo),Qe(t,e),Ut=o,Ze(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{yo(t.containerInfo)}catch(T){ee(e,e.return,T)}Fu&&(Fu=!1,My(e));break;case 4:i=Ut,Ut=ha(e.stateNode.containerInfo),Qe(t,e),Ze(e),Ut=i;break;case 12:Qe(t,e),Ze(e);break;case 31:Qe(t,e),Ze(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,As(e,i)));break;case 13:Qe(t,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ia=ut()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,As(e,i)));break;case 22:o=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=an,d=_e;if(an=f||o,_e=d||c,Qe(t,e),_e=d,an=f,Ze(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||c||an||_e||ri(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(l=c.stateNode,o)s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{r=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;r.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(T){ee(c,c.return,T)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(T){ee(c,c.return,T)}}}else if(t.tag===18){if(n===null){c=t;try{var h=c.stateNode;o?yh(h,!0):yh(c.stateNode,!1)}catch(T){ee(c,c.return,T)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,As(e,n))));break;case 19:Qe(t,e),Ze(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,As(e,i)));break;case 30:break;case 21:break;default:Qe(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Ey(i)){n=i;break}i=i.return}if(n==null)throw Error(C(160));switch(n.tag){case 27:var o=n.stateNode,l=Ou(e);aa(e,l,o);break;case 5:var s=n.stateNode;n.flags&32&&(ro(s,""),n.flags&=-33);var r=Ou(e);aa(e,r,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Ou(e);Ic(e,f,c);break;default:throw Error(C(161))}}catch(d){ee(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;My(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function on(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cy(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),ri(t);break;case 1:Jt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Ty(t,t.return,n),ri(t);break;case 27:vl(t.stateNode);case 26:case 5:Jt(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function ln(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,l=t,s=l.flags;switch(l.tag){case 0:case 11:case 15:ln(o,l,n),zl(4,l);break;case 1:if(ln(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){ee(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var r=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)Rg(c[o],r)}catch(f){ee(i,i.return,f)}}n&&s&64&&vy(l),ml(l,l.return);break;case 27:_y(l);case 26:case 5:ln(o,l,n),n&&i===null&&s&4&&Sy(l),ml(l,l.return);break;case 12:ln(o,l,n);break;case 31:ln(o,l,n),n&&s&4&&Ry(o,l);break;case 13:ln(o,l,n),n&&s&4&&Ny(o,l);break;case 22:l.memoizedState===null&&ln(o,l,n),ml(l,l.return);break;case 30:break;default:ln(o,l,n)}t=t.sibling}}function If(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Hl(n))}function Df(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hl(e))}function Dt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)by(e,t,n,i),t=t.sibling}function by(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Dt(e,t,n,i),o&2048&&zl(9,t);break;case 1:Dt(e,t,n,i);break;case 3:Dt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hl(e)));break;case 12:if(o&2048){Dt(e,t,n,i),e=t.stateNode;try{var l=t.memoizedProps,s=l.id,r=l.onPostCommit;typeof r=="function"&&r(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){ee(t,t.return,c)}}else Dt(e,t,n,i);break;case 31:Dt(e,t,n,i);break;case 13:Dt(e,t,n,i);break;case 23:break;case 22:l=t.stateNode,s=t.alternate,t.memoizedState!==null?l._visibility&2?Dt(e,t,n,i):hl(e,t):l._visibility&2?Dt(e,t,n,i):(l._visibility|=2,Hi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&If(s,t);break;case 24:Dt(e,t,n,i),o&2048&&Df(t.alternate,t);break;default:Dt(e,t,n,i)}}function Hi(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,s=t,r=n,c=i,f=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(l,s,r,c,o),zl(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Hi(l,s,r,c,o):hl(l,s):(d._visibility|=2,Hi(l,s,r,c,o)),o&&f&2048&&If(s.alternate,s);break;case 24:Hi(l,s,r,c,o),o&&f&2048&&Df(s.alternate,s);break;default:Hi(l,s,r,c,o)}t=t.sibling}}function hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:hl(n,i),o&2048&&If(i.alternate,i);break;case 24:hl(n,i),o&2048&&Df(i.alternate,i);break;default:hl(n,i)}t=t.sibling}}var ll=8192;function qi(e,t,n){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Iy(e,t,n),e=e.sibling}function Iy(e,t,n){switch(e.tag){case 26:qi(e,t,n),e.flags&ll&&e.memoizedState!==null&&CC(n,Ut,e.memoizedState,e.memoizedProps);break;case 5:qi(e,t,n);break;case 3:case 4:var i=Ut;Ut=ha(e.stateNode.containerInfo),qi(e,t,n),Ut=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ll,ll=16777216,qi(e,t,n),ll=i):qi(e,t,n));break;default:qi(e,t,n)}}function Dy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];be=i,ky(i,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vs(e)):Wo(e);break;default:Wo(e)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];be=i,ky(i,e)}Dy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),Vs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vs(t));break;default:Vs(t)}e=e.sibling}}function ky(e,t){for(;be!==null;){var n=be;switch(n.tag){case 0:case 11:case 15:Qn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Hl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,be=i;else e:for(n=e;be!==null;){i=be;var o=i.sibling,l=i.return;if(Ay(i),i===n){be=null;break e}if(o!==null){o.return=l,be=o;break e}be=l}}}var V_={getCacheForType:function(e){var t=Ge(Ce),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ge(Ce).controller.signal}},z_=typeof WeakMap=="function"?WeakMap:Map,X=0,le=null,z=null,B=0,j=0,lt=null,Pn=!1,_o=!1,Uf=!1,vn=0,ye=0,Zn=0,pi=0,kf=0,rt=0,po=0,gl=null,je=null,Dc=!1,Ia=0,Ly=0,ra=1/0,ua=null,On=null,Re=0,Fn=null,mo=null,pn=0,Uc=0,kc=null,Py=null,yl=0,Lc=null;function dt(){return(X&2)!==0&&B!==0?B&-B:k.T!==null?Pf():Yh()}function Gy(){if(rt===0)if((B&536870912)===0||O){var e=ms;ms<<=1,(ms&3932160)===0&&(ms=262144),rt=e}else rt=536870912;return e=mt.current,e!==null&&(e.flags|=32),rt}function et(e,t,n){(e===le&&(j===2||j===9)||e.cancelPendingCommit!==null)&&(ho(e,0),Gn(e,B,rt,!1)),Pl(e,n),((X&2)===0||e!==le)&&(e===le&&((X&2)===0&&(pi|=n),ye===4&&Gn(e,B,rt,!1)),Xt(e))}function qy(e,t,n){if((X&6)!==0)throw Error(C(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ll(e,t),o=i?F_(e,t):Yu(e,t,!0),l=i;do{if(o===0){_o&&!i&&Gn(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!B_(n)){o=Yu(e,t,!1),l=!1;continue}if(o===2){if(l=t,e.errorRecoveryDisabledLanes&l)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var r=e;o=gl;var c=r.current.memoizedState.isDehydrated;if(c&&(ho(r,s).flags|=256),s=Yu(r,s,!1),s!==2){if(Uf&&!c){r.errorRecoveryDisabledLanes|=l,pi|=l,o=4;break e}l=je,je=o,l!==null&&(je===null?je=l:je.push.apply(je,l))}o=s}if(l=!1,o!==2)continue}}if(o===1){ho(e,0),Gn(e,t,0,!0);break}e:{switch(i=e,l=o,l){case 0:case 1:throw Error(C(345));case 4:if((t&4194048)!==t)break;case 6:Gn(i,t,rt,!Pn);break e;case 2:je=null;break;case 3:case 5:break;default:throw Error(C(329))}if((t&62914560)===t&&(o=Ia+300-ut(),10<o)){if(Gn(i,t,rt,!Pn),Sa(i,0,!0)!==0)break e;pn=t,i.timeoutHandle=ov(nh.bind(null,i,n,je,ua,Dc,t,rt,pi,po,Pn,l,"Throttled",-0,0),o);break e}nh(i,n,je,ua,Dc,t,rt,pi,po,Pn,l,null,-0,0)}}break}while(1);Xt(e)}function nh(e,t,n,i,o,l,s,r,c,f,d,m,p,h){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Iy(t,l,m);var T=(l&62914560)===l?Ia-ut():(l&4194048)===l?Ly-ut():0;if(T=AC(m,T),T!==null){pn=l,e.cancelPendingCommit=T(oh.bind(null,e,t,l,n,i,o,s,r,c,d,m,null,p,h)),Gn(e,l,s,!f);return}}oh(e,t,l,n,i,o,s,r,c)}function B_(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!pt(l(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t,n,i){t&=~kf,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var l=31-ft(o),s=1<<l;i[l]=-1,o&=~s}n!==0&&Bh(e,n,t)}function Da(){return(X&6)===0?(Bl(0,!1),!1):!0}function Lf(){if(z!==null){if(j===0)var e=z.return;else e=z,cn=Ci=null,Sf(e),io=null,xl=0,e=z;for(;e!==null;)yy(e.alternate,e),e=e.return;z=null}}function ho(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,sC(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pn=0,Lf(),le=e,z=n=fn(e.current,null),B=t,j=0,lt=null,Pn=!1,_o=Ll(e,t),Uf=!1,po=rt=kf=pi=Zn=ye=0,je=gl=null,Dc=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-ft(i),l=1<<o;t|=e[o],i&=~l}return vn=t,Aa(),n}function Hy(e,t){q=null,k.H=Nl,t===Eo||t===Ra?(t=km(),j=3):t===pf?(t=km(),j=4):j=t===Mf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,lt=t,z===null&&(ye=1,la(e,Ct(t,e.current)))}function Vy(){var e=mt.current;return e===null?!0:(B&4194048)===B?xt===null:(B&62914560)===B||(B&536870912)!==0?e===xt:!1}function zy(){var e=k.H;return k.H=Nl,e===null?Nl:e}function By(){var e=k.A;return k.A=V_,e}function ca(){ye=4,Pn||(B&4194048)!==B&&mt.current!==null||(_o=!0),(Zn&134217727)===0&&(pi&134217727)===0||le===null||Gn(le,B,rt,!1)}function Yu(e,t,n){var i=X;X|=2;var o=zy(),l=By();(le!==e||B!==t)&&(ua=null,ho(e,t)),t=!1;var s=ye;e:do try{if(j!==0&&z!==null){var r=z,c=lt;switch(j){case 8:Lf(),s=6;break e;case 3:case 2:case 9:case 6:mt.current===null&&(t=!0);var f=j;if(j=0,lt=null,Wi(e,r,c,f),n&&_o){s=0;break e}break;default:f=j,j=0,lt=null,Wi(e,r,c,f)}}O_(),s=ye;break}catch(d){Hy(e,d)}while(1);return t&&e.shellSuspendCounter++,cn=Ci=null,X=i,k.H=o,k.A=l,z===null&&(le=null,B=0,Aa()),s}function O_(){for(;z!==null;)Oy(z)}function F_(e,t){var n=X;X|=2;var i=zy(),o=By();le!==e||B!==t?(ua=null,ra=ut()+500,ho(e,t)):_o=Ll(e,t);e:do try{if(j!==0&&z!==null){t=z;var l=lt;t:switch(j){case 1:j=0,lt=null,Wi(e,t,l,1);break;case 2:case 9:if(Um(l)){j=0,lt=null,ih(t);break}t=function(){j!==2&&j!==9||le!==e||(j=7),Xt(e)},l.then(t,t);break e;case 3:j=7;break e;case 4:j=5;break e;case 7:Um(l)?(j=0,lt=null,ih(t)):(j=0,lt=null,Wi(e,t,l,7));break;case 5:var s=null;switch(z.tag){case 26:s=z.memoizedState;case 5:case 27:var r=z;if(s?uv(s):r.stateNode.complete){j=0,lt=null;var c=r.sibling;if(c!==null)z=c;else{var f=r.return;f!==null?(z=f,Ua(f)):z=null}break t}}j=0,lt=null,Wi(e,t,l,5);break;case 6:j=0,lt=null,Wi(e,t,l,6);break;case 8:Lf(),ye=6;break e;default:throw Error(C(462))}}Y_();break}catch(d){Hy(e,d)}while(1);return cn=Ci=null,k.H=i,k.A=o,X=n,z!==null?0:(le=null,B=0,Aa(),ye)}function Y_(){for(;z!==null&&!mE();)Oy(z)}function Oy(e){var t=gy(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?Ua(e):z=t}function ih(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qm(n,t,t.pendingProps,t.type,void 0,B);break;case 11:t=Qm(n,t,t.pendingProps,t.type.render,t.ref,B);break;case 5:Sf(t);default:yy(n,t),t=z=yg(t,vn),t=gy(n,t,vn)}e.memoizedProps=e.pendingProps,t===null?Ua(e):z=t}function Wi(e,t,n,i){cn=Ci=null,Sf(t),io=null,xl=0;var o=t.return;try{if(U_(e,o,t,n,B)){ye=1,la(e,Ct(n,e.current)),z=null;return}}catch(l){if(o!==null)throw z=o,l;ye=1,la(e,Ct(n,e.current)),z=null;return}t.flags&32768?(O||i===1?e=!0:_o||(B&536870912)!==0?e=!1:(Pn=e=!0,(i===2||i===9||i===3||i===6)&&(i=mt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Fy(t,e)):Ua(t)}function Ua(e){var t=e;do{if((t.flags&32768)!==0){Fy(t,Pn);return}e=t.return;var n=P_(t.alternate,t,vn);if(n!==null){z=n;return}if(t=t.sibling,t!==null){z=t;return}z=t=e}while(t!==null);ye===0&&(ye=5)}function Fy(e,t){do{var n=G_(e.alternate,e);if(n!==null){n.flags&=32767,z=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){z=e;return}z=e=n}while(e!==null);ye=6,z=null}function oh(e,t,n,i,o,l,s,r,c){e.cancelPendingCommit=null;do ka();while(Re!==0);if((X&6)!==0)throw Error(C(327));if(t!==null){if(t===e.current)throw Error(C(177));if(l=t.lanes|t.childLanes,l|=sf,AE(e,n,l,s,r,c),e===le&&(z=le=null,B=0),mo=t,Fn=e,pn=n,Uc=l,kc=o,Py=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,X_($s,function(){return Xy(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,o=Q.p,Q.p=2,s=X,X|=4;try{q_(e,t,n)}finally{X=s,Q.p=o,k.T=i}}Re=1,Yy(),Jy(),Ky()}}function Yy(){if(Re===1){Re=0;var e=Fn,t=mo,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null;var i=Q.p;Q.p=2;var o=X;X|=4;try{wy(t,e);var l=Hc,s=ug(e.containerInfo),r=l.focusedElem,c=l.selectionRange;if(s!==r&&r&&r.ownerDocument&&rg(r.ownerDocument.documentElement,r)){if(c!==null&&lf(r)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(d,r.value.length);else{var m=r.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var h=p.getSelection(),T=r.textContent.length,S=Math.min(c.start,T),_=c.end===void 0?S:Math.min(c.end,T);!h.extend&&S>_&&(s=_,_=S,S=s);var g=Rm(r,S),y=Rm(r,_);if(g&&y&&(h.rangeCount!==1||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var v=m.createRange();v.setStart(g.node,g.offset),h.removeAllRanges(),S>_?(h.addRange(v),h.extend(y.node,y.offset)):(v.setEnd(y.node,y.offset),h.addRange(v))}}}}for(m=[],h=r;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<m.length;r++){var E=m[r];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}va=!!qc,Hc=qc=null}finally{X=o,Q.p=i,k.T=n}}e.current=t,Re=2}}function Jy(){if(Re===2){Re=0;var e=Fn,t=mo,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=k.T,k.T=null;var i=Q.p;Q.p=2;var o=X;X|=4;try{Cy(e,t.alternate,t)}finally{X=o,Q.p=i,k.T=n}}Re=3}}function Ky(){if(Re===4||Re===3){Re=0,hE();var e=Fn,t=mo,n=pn,i=Py;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Re=5:(Re=0,mo=Fn=null,$y(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(On=null),Zc(n),t=t.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(kl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,o=Q.p,Q.p=2,k.T=null;try{for(var l=e.onRecoverableError,s=0;s<i.length;s++){var r=i[s];l(r.value,{componentStack:r.stack})}}finally{k.T=t,Q.p=o}}(pn&3)!==0&&ka(),Xt(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Lc?yl++:(yl=0,Lc=e):yl=0,Bl(0,!1)}}function $y(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hl(t)))}function ka(){return Yy(),Jy(),Ky(),Xy()}function Xy(){if(Re!==5)return!1;var e=Fn,t=Uc;Uc=0;var n=Zc(pn),i=k.T,o=Q.p;try{Q.p=32>n?32:n,k.T=null,n=kc,kc=null;var l=Fn,s=pn;if(Re=0,mo=Fn=null,pn=0,(X&6)!==0)throw Error(C(331));var r=X;if(X|=4,Uy(l.current),by(l,l.current,s,n),X=r,Bl(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(kl,l)}catch{}return!0}finally{Q.p=o,k.T=i,$y(e,t)}}function lh(e,t,n){t=Ct(n,t),t=wc(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(Pl(e,2),Xt(e))}function ee(e,t,n){if(e.tag===3)lh(e,e,n);else for(;t!==null;){if(t.tag===3){lh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(On===null||!On.has(i))){e=Ct(n,e),n=cy(2),i=Bn(t,n,2),i!==null&&(fy(n,i,t,e),Pl(i,2),Xt(i));break}}t=t.return}}function Ju(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new z_;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(Uf=!0,o.add(n),e=J_.bind(null,e,t,n),t.then(e,e))}function J_(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,le===e&&(B&n)===n&&(ye===4||ye===3&&(B&62914560)===B&&300>ut()-Ia?(X&2)===0&&ho(e,0):kf|=n,po===B&&(po=0)),Xt(e)}function Qy(e,t){t===0&&(t=zh()),e=_i(e,t),e!==null&&(Pl(e,t),Xt(e))}function K_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qy(e,n)}function $_(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(C(314))}i!==null&&i.delete(t),Qy(e,n)}function X_(e,t){return Xc(e,t)}var fa=null,Vi=null,Pc=!1,da=!1,Ku=!1,qn=0;function Xt(e){e!==Vi&&e.next===null&&(Vi===null?fa=Vi=e:Vi=Vi.next=e),da=!0,Pc||(Pc=!0,Z_())}function Bl(e,t){if(!Ku&&da){Ku=!0;do for(var n=!1,i=fa;i!==null;){if(!t)if(e!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var s=i.suspendedLanes,r=i.pingedLanes;l=(1<<31-ft(42|e)+1)-1,l&=o&~(s&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,sh(i,l))}else l=B,l=Sa(i,i===le?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(l&3)===0||Ll(i,l)||(n=!0,sh(i,l));i=i.next}while(n);Ku=!1}}function Q_(){Zy()}function Zy(){da=Pc=!1;var e=0;qn!==0&&lC()&&(e=qn);for(var t=ut(),n=null,i=fa;i!==null;){var o=i.next,l=Wy(i,t);l===0?(i.next=null,n===null?fa=o:n.next=o,o===null&&(Vi=n)):(n=i,(e!==0||(l&3)!==0)&&(da=!0)),i=o}Re!==0&&Re!==5||Bl(e,!1),qn!==0&&(qn=0)}function Wy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var s=31-ft(l),r=1<<s,c=o[s];c===-1?((r&n)===0||(r&i)!==0)&&(o[s]=CE(r,t)):c<=t&&(e.expiredLanes|=r),l&=~r}if(t=le,n=B,n=Sa(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(j===2||j===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&_u(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ll(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&_u(i),Zc(n)){case 2:case 8:n=Hh;break;case 32:n=$s;break;case 268435456:n=Vh;break;default:n=$s}return i=jy.bind(null,e),n=Xc(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&_u(i),e.callbackPriority=2,e.callbackNode=null,2}function jy(e,t){if(Re!==0&&Re!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ka()&&e.callbackNode!==n)return null;var i=B;return i=Sa(e,e===le?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(qy(e,i,t),Wy(e,ut()),e.callbackNode!=null&&e.callbackNode===n?jy.bind(null,e):null)}function sh(e,t){if(ka())return null;qy(e,t,!0)}function Z_(){aC(function(){(X&6)!==0?Xc(qh,Q_):Zy()})}function Pf(){if(qn===0){var e=uo;e===0&&(e=ps,ps<<=1,(ps&261888)===0&&(ps=256)),qn=e}return qn}function ah(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Is(""+e)}function rh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function W_(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var l=ah((o[tt]||null).action),s=i.submitter;s&&(t=(t=s[tt]||null)?ah(t.formAction):s.getAttribute("formAction"),t!==null&&(l=t,s=null));var r=new Ea("action","action",null,i,o);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(qn!==0){var c=s?rh(o,s):new FormData(o);Rc(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=s?rh(o,s):new FormData(o),Rc(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(xs=0;xs<mc.length;xs++)Rs=mc[xs],uh=Rs.toLowerCase(),ch=Rs[0].toUpperCase()+Rs.slice(1),kt(uh,"on"+ch);var Rs,uh,ch,xs;kt(fg,"onAnimationEnd");kt(dg,"onAnimationIteration");kt(pg,"onAnimationStart");kt("dblclick","onDoubleClick");kt("focusin","onFocus");kt("focusout","onBlur");kt(g_,"onTransitionRun");kt(y_,"onTransitionStart");kt(v_,"onTransitionCancel");kt(mg,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function ev(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var s=i.length-1;0<=s;s--){var r=i[s],c=r.instance,f=r.currentTarget;if(r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Qs(d)}o.currentTarget=null,l=c}else for(s=0;s<i.length;s++){if(r=i[s],c=r.instance,f=r.currentTarget,r=r.listener,c!==l&&o.isPropagationStopped())break e;l=r,o.currentTarget=f;try{l(o)}catch(d){Qs(d)}o.currentTarget=null,l=c}}}}function V(e,t){var n=t[sc];n===void 0&&(n=t[sc]=new Set);var i=e+"__bubble";n.has(i)||(tv(t,e,2,!1),n.add(i))}function $u(e,t,n){var i=0;t&&(i|=4),tv(n,e,i,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Gf(e){if(!e[Ns]){e[Ns]=!0,Jh.forEach(function(n){n!=="selectionchange"&&(j_.has(n)||$u(n,!1,e),$u(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,$u("selectionchange",!1,t))}}function tv(e,t,n,i){switch(mv(t)){case 2:var o=NC;break;case 8:o=wC;break;default:o=zf}n=o.bind(null,t,n,e),o=void 0,!fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xu(e,t,n,i,o){var l=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var r=i.stateNode.containerInfo;if(r===o)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===o)return;s=s.return}for(;r!==null;){if(s=Oi(r),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){i=l=s;continue e}r=r.parentNode}}i=i.return}eg(function(){var f=l,d=ef(n),m=[];e:{var p=hg.get(e);if(p!==void 0){var h=Ea,T=e;switch(e){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":h=$E;break;case"focusin":T="focus",h=Nu;break;case"focusout":T="blur",h=Nu;break;case"beforeblur":case"afterblur":h=Nu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=PE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ZE;break;case fg:case dg:case pg:h=HE;break;case mg:h=jE;break;case"scroll":case"scrollend":h=kE;break;case"wheel":h=t_;break;case"copy":case"cut":case"paste":h=zE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Tm;break;case"toggle":case"beforetoggle":h=i_}var S=(t&4)!==0,_=!S&&(e==="scroll"||e==="scrollend"),g=S?p!==null?p+"Capture":null:p;S=[];for(var y=f,v;y!==null;){var E=y;if(v=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||v===null||g===null||(E=Sl(y,g),E!=null&&S.push(Ml(y,E,v))),_)break;y=y.return}0<S.length&&(p=new h(p,T,null,n,d),m.push({event:p,listeners:S}))}}if((t&7)===0){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==cc&&(T=n.relatedTarget||n.fromElement)&&(Oi(T)||T[vo]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(T=n.relatedTarget||n.toElement,h=f,T=T?Oi(T):null,T!==null&&(_=Ul(T),S=T.tag,T!==_||S!==5&&S!==27&&S!==6)&&(T=null)):(h=null,T=f),h!==T)){if(S=ym,E="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(S=Tm,E="onPointerLeave",g="onPointerEnter",y="pointer"),_=h==null?p:il(h),v=T==null?p:il(T),p=new S(E,y+"leave",h,n,d),p.target=_,p.relatedTarget=v,E=null,Oi(d)===f&&(S=new S(g,y+"enter",T,n,d),S.target=v,S.relatedTarget=_,E=S),_=E,h&&T)t:{for(S=eC,g=h,y=T,v=0,E=g;E;E=S(E))v++;E=0;for(var A=y;A;A=S(A))E++;for(;0<v-E;)g=S(g),v--;for(;0<E-v;)y=S(y),E--;for(;v--;){if(g===y||y!==null&&g===y.alternate){S=g;break t}g=S(g),y=S(y)}S=null}else S=null;h!==null&&fh(m,p,h,S,!1),T!==null&&_!==null&&fh(m,_,T,S,!0)}}e:{if(p=f?il(f):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=Cm;else if(_m(p))if(sg)w=p_;else{w=f_;var x=c_}else h=p.nodeName,!h||h.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&jc(f.elementType)&&(w=Cm):w=d_;if(w&&(w=w(e,f))){lg(m,w,n,d);break e}x&&x(e,p,f),e==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&uc(p,"number",p.value)}switch(x=f?il(f):window,e){case"focusin":(_m(x)||x.contentEditable==="true")&&(Ji=x,dc=f,rl=null);break;case"focusout":rl=dc=Ji=null;break;case"mousedown":pc=!0;break;case"contextmenu":case"mouseup":case"dragend":pc=!1,Nm(m,n,d);break;case"selectionchange":if(h_)break;case"keydown":case"keyup":Nm(m,n,d)}var b;if(of)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Yi?ig(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ng&&n.locale!=="ko"&&(Yi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Yi&&(b=tg()):(Ln=d,tf="value"in Ln?Ln.value:Ln.textContent,Yi=!0)),x=pa(f,R),0<x.length&&(R=new vm(R,e,null,n,d),m.push({event:R,listeners:x}),b?R.data=b:(b=og(n),b!==null&&(R.data=b)))),(b=l_?s_(e,n):a_(e,n))&&(R=pa(f,"onBeforeInput"),0<R.length&&(x=new vm("onBeforeInput","beforeinput",null,n,d),m.push({event:x,listeners:R}),x.data=b)),W_(m,e,f,n,d)}ev(m,t)})}function Ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pa(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=Sl(e,n),o!=null&&i.unshift(Ml(e,o,l)),o=Sl(e,t),o!=null&&i.push(Ml(e,o,l))),e.tag===3)return i;e=e.return}return[]}function eC(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fh(e,t,n,i,o){for(var l=t._reactName,s=[];n!==null&&n!==i;){var r=n,c=r.alternate,f=r.stateNode;if(r=r.tag,c!==null&&c===i)break;r!==5&&r!==26&&r!==27||f===null||(c=f,o?(f=Sl(n,l),f!=null&&s.unshift(Ml(n,f,c))):o||(f=Sl(n,l),f!=null&&s.push(Ml(n,f,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var tC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function dh(e){return(typeof e=="string"?e:""+e).replace(tC,`
`).replace(nC,"")}function nv(e,t){return t=dh(t),dh(e)===t}function ie(e,t,n,i,o,l){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ro(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ro(e,""+i);break;case"className":gs(e,"class",i);break;case"tabIndex":gs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":gs(e,n,i);break;case"style":jh(e,i,l);break;case"data":if(t!=="object"){gs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Is(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&ie(e,t,"name",o.name,o,null),ie(e,t,"formEncType",o.formEncType,o,null),ie(e,t,"formMethod",o.formMethod,o,null),ie(e,t,"formTarget",o.formTarget,o,null)):(ie(e,t,"encType",o.encType,o,null),ie(e,t,"method",o.method,o,null),ie(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Is(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=un);break;case"onScroll":i!=null&&V("scroll",e);break;case"onScrollEnd":i!=null&&V("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(C(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Is(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":V("beforetoggle",e),V("toggle",e),bs(e,"popover",i);break;case"xlinkActuate":en(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":en(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":en(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":en(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":en(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":en(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":en(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":en(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":en(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":bs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=DE.get(n)||n,bs(e,n,i))}}function Gc(e,t,n,i,o,l){switch(n){case"style":jh(e,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(C(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(C(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ro(e,i):(typeof i=="number"||typeof i=="bigint")&&ro(e,""+i);break;case"onScroll":i!=null&&V("scroll",e);break;case"onScrollEnd":i!=null&&V("scrollend",e);break;case"onClick":i!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),l=e[tt]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):bs(e,n,i)}}}function qe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":V("error",e),V("load",e);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var s=n[l];if(s!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:ie(e,t,l,s,n,null)}}o&&ie(e,t,"srcSet",n.srcSet,n,null),i&&ie(e,t,"src",n.src,n,null);return;case"input":V("invalid",e);var r=l=s=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(C(137,t));break;default:ie(e,t,i,d,n,null)}}Qh(e,l,r,c,f,s,o,!1);return;case"select":V("invalid",e),i=s=l=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":l=r;break;case"defaultValue":s=r;break;case"multiple":i=r;default:ie(e,t,o,r,n,null)}t=l,n=s,e.multiple=!!i,t!=null?eo(e,!!i,t,!1):n!=null&&eo(e,!!i,n,!0);return;case"textarea":V("invalid",e),l=o=i=null;for(s in n)if(n.hasOwnProperty(s)&&(r=n[s],r!=null))switch(s){case"value":i=r;break;case"defaultValue":o=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(C(91));break;default:ie(e,t,s,r,n,null)}Wh(e,i,o,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ie(e,t,c,i,n,null)}return;case"dialog":V("beforetoggle",e),V("toggle",e),V("cancel",e),V("close",e);break;case"iframe":case"object":V("load",e);break;case"video":case"audio":for(i=0;i<wl.length;i++)V(wl[i],e);break;case"image":V("error",e),V("load",e);break;case"details":V("toggle",e);break;case"embed":case"source":case"link":V("error",e),V("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(C(137,t));default:ie(e,t,f,i,n,null)}return;default:if(jc(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Gc(e,t,d,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ie(e,t,r,i,n,null))}function iC(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,s=null,r=null,c=null,f=null,d=null;for(h in n){var m=n[h];if(n.hasOwnProperty(h)&&m!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(h)||ie(e,t,h,null,i,m)}}for(var p in i){var h=i[p];if(m=n[p],i.hasOwnProperty(p)&&(h!=null||m!=null))switch(p){case"type":l=h;break;case"name":o=h;break;case"checked":f=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":r=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(C(137,t));break;default:h!==m&&ie(e,t,p,h,i,m)}}rc(e,s,r,c,f,d,l,o);return;case"select":h=s=r=p=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":h=c;default:i.hasOwnProperty(l)||ie(e,t,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":p=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:l!==c&&ie(e,t,o,l,i,c)}t=r,n=s,i=h,p!=null?eo(e,!!n,p,!1):!!i!=!!n&&(t!=null?eo(e,!!n,t,!0):eo(e,!!n,n?[]:"",!1));return;case"textarea":h=p=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ie(e,t,r,null,i,o)}for(s in i)if(o=i[s],l=n[s],i.hasOwnProperty(s)&&(o!=null||l!=null))switch(s){case"value":p=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(C(91));break;default:o!==l&&ie(e,t,s,o,i,l)}Zh(e,p,h);return;case"option":for(var T in n)if(p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:ie(e,t,T,null,i,p)}for(c in i)if(p=i[c],h=n[c],i.hasOwnProperty(c)&&p!==h&&(p!=null||h!=null))switch(c){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ie(e,t,c,p,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)p=n[S],n.hasOwnProperty(S)&&p!=null&&!i.hasOwnProperty(S)&&ie(e,t,S,null,i,p);for(f in i)if(p=i[f],h=n[f],i.hasOwnProperty(f)&&p!==h&&(p!=null||h!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(C(137,t));break;default:ie(e,t,f,p,i,h)}return;default:if(jc(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!i.hasOwnProperty(_)&&Gc(e,t,_,void 0,i,p);for(d in i)p=i[d],h=n[d],!i.hasOwnProperty(d)||p===h||p===void 0&&h===void 0||Gc(e,t,d,p,i,h);return}}for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!i.hasOwnProperty(g)&&ie(e,t,g,null,i,p);for(m in i)p=i[m],h=n[m],!i.hasOwnProperty(m)||p===h||p==null&&h==null||ie(e,t,m,p,i,h)}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oC(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],l=o.transferSize,s=o.initiatorType,r=o.duration;if(l&&r&&ph(s)){for(s=0,r=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>r)break;var d=c.transferSize,m=c.initiatorType;d&&ph(m)&&(c=c.responseEnd,s+=d*(c<r?1:(r-f)/(c-f)))}if(--i,t+=8*(l+s)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qc=null,Hc=null;function ma(e){return e.nodeType===9?e:e.ownerDocument}function mh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qu=null;function lC(){var e=window.event;return e&&e.type==="popstate"?e===Qu?!1:(Qu=e,!0):(Qu=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,aC=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(rC)}:ov;function rC(e){setTimeout(function(){throw e})}function jn(e){return e==="head"}function gh(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),yo(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")vl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,vl(n);for(var l=n.firstChild;l;){var s=l.nextSibling,r=l.nodeName;l[Gl]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=s}}else n==="body"&&vl(e.ownerDocument.body);n=o}while(n);yo(t)}function yh(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zc(n),Wc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function uC(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Gl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=Rt(e.nextSibling),e===null)break}return null}function cC(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rt(e.nextSibling),e===null))return null;return e}function lv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rt(e.nextSibling),e===null))return null;return e}function Bc(e){return e.data==="$?"||e.data==="$~"}function Oc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function fC(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fc=null;function vh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Rt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Th(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function sv(e,t,n){switch(t=ma(n),e){case"html":if(e=t.documentElement,!e)throw Error(C(452));return e;case"head":if(e=t.head,!e)throw Error(C(453));return e;case"body":if(e=t.body,!e)throw Error(C(454));return e;default:throw Error(C(451))}}function vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wc(e)}var Nt=new Map,Sh=new Set;function ha(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=Q.d;Q.d={f:dC,r:pC,D:mC,C:hC,L:gC,m:yC,X:TC,S:vC,M:SC};function dC(){var e=Tn.f(),t=Da();return e||t}function pC(e){var t=To(e);t!==null&&t.tag===5&&t.type==="form"?jg(t):Tn.r(e)}var Co=typeof document>"u"?null:document;function av(e,t,n){var i=Co;if(i&&typeof t=="string"&&t){var o=_t(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Sh.has(o)||(Sh.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),qe(t,"link",e),Ie(t),i.head.appendChild(t)))}}function mC(e){Tn.D(e),av("dns-prefetch",e,null)}function hC(e,t){Tn.C(e,t),av("preconnect",e,t)}function gC(e,t,n){Tn.L(e,t,n);var i=Co;if(i&&e&&t){var o='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+_t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+_t(n.imageSizes)+'"]')):o+='[href="'+_t(e)+'"]';var l=o;switch(t){case"style":l=go(e);break;case"script":l=Ao(e)}Nt.has(l)||(e=de({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nt.set(l,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Ol(l))||t==="script"&&i.querySelector(Fl(l))||(t=i.createElement("link"),qe(t,"link",e),Ie(t),i.head.appendChild(t)))}}function yC(e,t){Tn.m(e,t);var n=Co;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+_t(i)+'"][href="'+_t(e)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ao(e)}if(!Nt.has(l)&&(e=de({rel:"modulepreload",href:e},t),Nt.set(l,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fl(l)))return}i=n.createElement("link"),qe(i,"link",e),Ie(i),n.head.appendChild(i)}}}function vC(e,t,n){Tn.S(e,t,n);var i=Co;if(i&&e){var o=ji(i).hoistableStyles,l=go(e);t=t||"default";var s=o.get(l);if(!s){var r={loading:0,preload:null};if(s=i.querySelector(Ol(l)))r.loading=5;else{e=de({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nt.get(l))&&qf(e,n);var c=s=i.createElement("link");Ie(c),qe(c,"link",e),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,zs(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:r},o.set(l,s)}}}function TC(e,t){Tn.X(e,t);var n=Co;if(n&&e){var i=ji(n).hoistableScripts,o=Ao(e),l=i.get(o);l||(l=n.querySelector(Fl(o)),l||(e=de({src:e,async:!0},t),(t=Nt.get(o))&&Hf(e,t),l=n.createElement("script"),Ie(l),qe(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function SC(e,t){Tn.M(e,t);var n=Co;if(n&&e){var i=ji(n).hoistableScripts,o=Ao(e),l=i.get(o);l||(l=n.querySelector(Fl(o)),l||(e=de({src:e,async:!0,type:"module"},t),(t=Nt.get(o))&&Hf(e,t),l=n.createElement("script"),Ie(l),qe(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function Eh(e,t,n,i){var o=(o=Hn.current)?ha(o):null;if(!o)throw Error(C(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=go(n.href),n=ji(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=go(n.href);var l=ji(o).hoistableStyles,s=l.get(e);if(s||(o=o.ownerDocument||o,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,s),(l=o.querySelector(Ol(e)))&&!l._p&&(s.instance=l,s.state.loading=5),Nt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nt.set(e,n),l||EC(o,e,n,s.state))),t&&i===null)throw Error(C(528,""));return s}if(t&&i!==null)throw Error(C(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ao(n),n=ji(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(C(444,e))}}function go(e){return'href="'+_t(e)+'"'}function Ol(e){return'link[rel="stylesheet"]['+e+"]"}function rv(e){return de({},e,{"data-precedence":e.precedence,precedence:null})}function EC(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),qe(t,"link",n),Ie(t),e.head.appendChild(t))}function Ao(e){return'[src="'+_t(e)+'"]'}function Fl(e){return"script[async]"+e}function _h(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+_t(n.href)+'"]');if(i)return t.instance=i,Ie(i),i;var o=de({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ie(i),qe(i,"style",o),zs(i,n.precedence,e),t.instance=i;case"stylesheet":o=go(n.href);var l=e.querySelector(Ol(o));if(l)return t.state.loading|=4,t.instance=l,Ie(l),l;i=rv(n),(o=Nt.get(o))&&qf(i,o),l=(e.ownerDocument||e).createElement("link"),Ie(l);var s=l;return s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),qe(l,"link",i),t.state.loading|=4,zs(l,n.precedence,e),t.instance=l;case"script":return l=Ao(n.src),(o=e.querySelector(Fl(l)))?(t.instance=o,Ie(o),o):(i=n,(o=Nt.get(l))&&(i=de({},n),Hf(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ie(o),qe(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(C(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,zs(i,n.precedence,e));return t.instance}function zs(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,s=0;s<i.length;s++){var r=i[s];if(r.dataset.precedence===t)l=r;else if(l!==o)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function qf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Bs=null;function Ch(e,t,n){if(Bs===null){var i=new Map,o=Bs=new Map;o.set(n,i)}else o=Bs,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var l=n[o];if(!(l[Gl]||l[Le]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var s=l.getAttribute(t)||"";s=e+s;var r=i.get(s);r?r.push(l):i.set(s,[l])}}return i}function Ah(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function _C(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function uv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function CC(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=go(i.href),l=t.querySelector(Ol(o));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ga.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,Ie(l);return}l=t.ownerDocument||t,i=rv(i),(o=Nt.get(o))&&qf(i,o),l=l.createElement("link"),Ie(l);var s=l;s._p=new Promise(function(r,c){s.onload=r,s.onerror=c}),qe(l,"link",i),n.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ga.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Zu=0;function AC(e,t){return e.stylesheets&&e.count===0&&Os(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Os(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&Zu===0&&(Zu=62500*oC());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Os(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>Zu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Os(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ya=null;function Os(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ya=new Map,t.forEach(xC,e),ya=null,ga.call(e))}function xC(e,t){if(!(t.state.loading&4)){var n=ya.get(e);if(n)var i=n.get(null);else{n=new Map,ya.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var s=o[l];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}o=t.instance,s=o.getAttribute("data-precedence"),l=n.get(s)||i,l===i&&n.set(null,o),n.set(s,o),this.count++,i=ga.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var bl={$$typeof:rn,Provider:null,Consumer:null,_currentValue:ui,_currentValue2:ui,_threadCount:0};function RC(e,t,n,i,o,l,s,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cu(0),this.hiddenUpdates=Cu(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function cv(e,t,n,i,o,l,s,r,c,f,d,m){return e=new RC(e,t,n,s,c,f,d,m,r),t=1,l===!0&&(t|=24),l=at(3,null,null,t),e.current=l,l.stateNode=e,t=ff(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:t},mf(l),e}function fv(e){return e?(e=Xi,e):Xi}function dv(e,t,n,i,o,l){o=fv(o),i.context===null?i.context=o:i.pendingContext=o,i=zn(t),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=Bn(e,i,t),n!==null&&(et(n,e,t),cl(n,e,t))}function xh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vf(e,t){xh(e,t),(e=e.alternate)&&xh(e,t)}function pv(e){if(e.tag===13||e.tag===31){var t=_i(e,67108864);t!==null&&et(t,e,67108864),Vf(e,67108864)}}function Rh(e){if(e.tag===13||e.tag===31){var t=dt();t=Qc(t);var n=_i(e,t);n!==null&&et(n,e,t),Vf(e,t)}}var va=!0;function NC(e,t,n,i){var o=k.T;k.T=null;var l=Q.p;try{Q.p=2,zf(e,t,n,i)}finally{Q.p=l,k.T=o}}function wC(e,t,n,i){var o=k.T;k.T=null;var l=Q.p;try{Q.p=8,zf(e,t,n,i)}finally{Q.p=l,k.T=o}}function zf(e,t,n,i){if(va){var o=Yc(i);if(o===null)Xu(e,t,i,Ta,n),Nh(e,i);else if(bC(o,e,t,n,i))i.stopPropagation();else if(Nh(e,i),t&4&&-1<MC.indexOf(e)){for(;o!==null;){var l=To(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var s=si(l.pendingLanes);if(s!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;s;){var c=1<<31-ft(s);r.entanglements[1]|=c,s&=~c}Xt(l),(X&6)===0&&(ra=ut()+500,Bl(0,!1))}}break;case 31:case 13:r=_i(l,2),r!==null&&et(r,l,2),Da(),Vf(l,2)}if(l=Yc(i),l===null&&Xu(e,t,i,Ta,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else Xu(e,t,i,null,n)}}function Yc(e){return e=ef(e),Bf(e)}var Ta=null;function Bf(e){if(Ta=null,e=Oi(e),e!==null){var t=Ul(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Uh(t),e!==null)return e;e=null}else if(n===31){if(e=kh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ta=e,null}function mv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gE()){case qh:return 2;case Hh:return 8;case $s:case yE:return 32;case Vh:return 268435456;default:return 32}default:return 32}}var Jc=!1,Yn=null,Jn=null,Kn=null,Il=new Map,Dl=new Map,Un=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function jo(e,t,n,i,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},t!==null&&(t=To(t),t!==null&&pv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function bC(e,t,n,i,o){switch(t){case"focusin":return Yn=jo(Yn,e,t,n,i,o),!0;case"dragenter":return Jn=jo(Jn,e,t,n,i,o),!0;case"mouseover":return Kn=jo(Kn,e,t,n,i,o),!0;case"pointerover":var l=o.pointerId;return Il.set(l,jo(Il.get(l)||null,e,t,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,Dl.set(l,jo(Dl.get(l)||null,e,t,n,i,o)),!0}return!1}function hv(e){var t=Oi(e.target);if(t!==null){var n=Ul(t);if(n!==null){if(t=n.tag,t===13){if(t=Uh(n),t!==null){e.blockedOn=t,cm(e.priority,function(){Rh(n)});return}}else if(t===31){if(t=kh(n),t!==null){e.blockedOn=t,cm(e.priority,function(){Rh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);cc=i,n.target.dispatchEvent(i),cc=null}else return t=To(n),t!==null&&pv(t),e.blockedOn=n,!1;t.shift()}return!0}function wh(e,t,n){Fs(e)&&n.delete(t)}function IC(){Jc=!1,Yn!==null&&Fs(Yn)&&(Yn=null),Jn!==null&&Fs(Jn)&&(Jn=null),Kn!==null&&Fs(Kn)&&(Kn=null),Il.forEach(wh),Dl.forEach(wh)}function ws(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,IC)))}var Ms=null;function Mh(e){Ms!==e&&(Ms=e,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,function(){Ms===e&&(Ms=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Bf(i||n)===null)continue;break}var l=To(n);l!==null&&(e.splice(t,3),t-=3,Rc(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function yo(e){function t(c){return ws(c,e)}Yn!==null&&ws(Yn,e),Jn!==null&&ws(Jn,e),Kn!==null&&ws(Kn,e),Il.forEach(t),Dl.forEach(t);for(var n=0;n<Un.length;n++){var i=Un[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)hv(n),n.blockedOn===null&&Un.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],s=o[tt]||null;if(typeof l=="function")s||Mh(n);else if(s){var r=null;if(l&&l.hasAttribute("formAction")){if(o=l,s=l[tt]||null)r=s.formAction;else if(Bf(o)!==null)continue}else r=s.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),Mh(n)}}}function gv(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(s){return o=s})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Of(e){this._internalRoot=e}La.prototype.render=Of.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));var n=t.current,i=dt();dv(n,i,e,t,null,null)};La.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dv(e.current,2,null,e,null,null),Da(),t[vo]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Un.length&&t!==0&&t<Un[n].priority;n++);Un.splice(n,0,e),n===0&&hv(e)}};var bh=Ih.version;if(bh!=="19.2.3")throw Error(C(527,bh,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=uE(t),e=e!==null?Lh(e):null,e=e===null?null:e.stateNode,e};var DC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(el=__REACT_DEVTOOLS_GLOBAL_HOOK__,!el.isDisabled&&el.supportsFiber))try{kl=el.inject(DC),ct=el}catch{}var el;Pa.createRoot=function(e,t){if(!Dh(e))throw Error(C(299));var n=!1,i="",o=ay,l=ry,s=uy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cv(e,1,!1,null,null,n,i,null,o,l,s,gv),e[vo]=t.current,Gf(e),new Of(t)};Pa.hydrateRoot=function(e,t,n){if(!Dh(e))throw Error(C(299));var i=!1,o="",l=ay,s=ry,r=uy,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=cv(e,1,!0,t,n??null,i,o,c,l,s,r,gv),t.context=fv(null),n=t.current,i=dt(),i=Qc(i),o=zn(i),o.callback=null,Bn(n,o,i),n=i,t.current.lanes=n,Pl(t,n),Xt(t),e[vo]=t.current,Gf(e),new La(t)};Pa.version="19.2.3"});var Sv=Bt((Zb,Tv)=>{"use strict";function vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vv)}catch(e){console.error(e)}}vv(),Tv.exports=yv()});var BT=Bt(Hr=>{"use strict";var zM=Symbol.for("react.transitional.element"),BM=Symbol.for("react.fragment");function zT(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var o in t)o!=="key"&&(n[o]=t[o])}else n=t;return t=n.ref,{$$typeof:zM,type:e,key:i,ref:t!==void 0?t:null,props:n}}Hr.Fragment=BM;Hr.jsx=zT;Hr.jsxs=zT});var we=Bt((JI,OT)=>{"use strict";OT.exports=BT()});var zb={};Ue(zb,{default:()=>Zr});module.exports=zS(zb);var NS=require("obsidian");var yS=re(Wt()),vS=require("obsidian"),TS=re(Sv());var J=re(Wt());function Ev(e){try{localStorage.setItem("hermes-settings",JSON.stringify(e))}catch(t){console.warn("Failed to save settings:",t)}}function Ga(){try{let e=localStorage.getItem("hermes-settings");return e?JSON.parse(e):null}catch(e){return console.warn("Failed to load settings:",e),null}}function _v(){try{let e=localStorage.getItem("hermes-files");return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to load files:",e),{}}}function xo(e){try{localStorage.setItem("hermes-files",JSON.stringify(e))}catch(t){console.warn("Failed to save files:",t)}}function wt(){return typeof globalThis.app<"u"&&globalThis.app?.vault!==void 0}function Ye(){return wt()?globalThis.app:null}var Qt=wt(),Cv={"first.md":`Green leaves in the wind,
Softly dancing on the branch,
Nature's quiet song.`,"second.md":`Golden sun descends,
Painting clouds in fire light,
Day turns into night.`,"third.md":`Winter's cold embrace,
Snowflakes drift on silent air,
World is white and still.`,"projects/ideas.md":`# Project Ideas
- Voice controlled vault
- Markdown visualizer
- AI Haiku generator`,"projects/tasks.md":`# Task List
- [ ] Implement rename tool
- [ ] Fix markdown rendering
- [ ] Add batch action logic`,"projects/notes.md":`# Research Notes
Vaults are better when they are interactive. Hermes is the messenger.`},pe={...Cv},Ff=!1,Av=async()=>{if(Ff)return;if(Qt){Ff=!0;return}let e=await _v();e?pe=e:await xo(Cv),Ff=!0},ei=()=>Qt?Ye().vault.getMarkdownFiles().map(e=>e.path):Object.keys(pe),xv=async e=>{let{limit:t=20,offset:n=0,sortBy:i="mtime",sortOrder:o="desc",filter:l}=e,s=[];if(Qt?s=Ye().vault.getMarkdownFiles().map(f=>({path:f.path,name:f.name,mtime:f.stat.mtime,size:f.stat.size})):s=Object.keys(pe).map(f=>({path:f,name:f.split("/").pop()||f,mtime:Date.now(),size:pe[f].length*2})),l){let f=l.toLowerCase();s=s.filter(d=>d.path.toLowerCase().includes(f)||d.name.toLowerCase().includes(f))}s.sort((f,d)=>{let m=f[i],p=d[i];return typeof m=="string"&&(m=m.toLowerCase(),p=p.toLowerCase()),m<p?o==="asc"?-1:1:m>p?o==="asc"?1:-1:0});let r=s.length;return{files:s.slice(n,n+t),total:r}},Rv=()=>{if(Qt)return Ye().vault.getAllLoadedFiles().filter(t=>t.children!==void 0).map(t=>t.path).sort();{let e=Object.keys(pe),t=new Set(["/"]);return e.forEach(n=>{let i=n.split("/");i.pop();let o="";i.forEach(l=>{o+=(o?"/":"")+l,t.add(o)})}),Array.from(t).sort()}},Nv=()=>{if(Qt)return Ye().vault.getAllLoadedFiles().filter(t=>t.children!==void 0).map(t=>({path:t.path,children:[]}));{let e=Object.keys(pe),t=new Map;e.forEach(i=>{let o=i.split("/");o.pop();for(let l=0;l<o.length;l++){let s=o.slice(0,l+1).join("/"),r=l===0?"/":o.slice(0,l).join("/");t.has(r)||t.set(r,new Set),t.get(r).add(s)}});let n=i=>{let o=Array.from(t.get(i)||[]).map(l=>n(l)).sort((l,s)=>l.path.localeCompare(s.path));return{path:i==="/"?"":i,children:o}};return[n("/")]}},ht=async e=>{if(Qt){let n=Ye().vault.getAbstractFileByPath(e);if(!n)throw new Error(`File not found in vault: ${e}`);return await Ye().vault.read(n)}let t=pe[e.toLowerCase()];if(!t)throw new Error(`File not found: ${e}`);return t},qa=async(e,t)=>{if(Qt)return await Ye().vault.create(e,t),`Created ${e} in vault`;let n=e.toLowerCase();if(pe[n])throw new Error(`File already exists: ${e}`);return pe[n]=t,await xo(pe),`Successfully created ${e}`},Ai=async(e,t)=>{if(Qt){let i=Ye().vault.getAbstractFileByPath(e);if(!i)throw new Error(`File not found: ${e}`);return await Ye().vault.modify(i,t),`Updated ${e} in vault`}let n=e.toLowerCase();if(!pe[n])throw new Error(`File not found: ${e}`);return pe[n]=t,await xo(pe),`Successfully updated ${e}`},wv=async(e,t)=>{if(Qt){let l=Ye().vault.getAbstractFileByPath(e);if(!l)throw new Error(`File not found: ${e}`);return await Ye().fileManager.renameFile(l,t),`Renamed ${e} to ${t} in vault`}let n=e.toLowerCase(),i=t.toLowerCase();if(!pe[n])throw new Error(`File not found: ${e}`);if(pe[i])throw new Error(`File already exists: ${t}`);let o=pe[n];return delete pe[n],pe[i]=o,await xo(pe),`Successfully renamed ${e} to ${t}`},Mv=async(e,t)=>{if(Qt){let l=Ye().vault.getAbstractFileByPath(e);if(!l)throw new Error(`Source file not found: ${e}`);if(Ye().vault.getAbstractFileByPath(t))throw new Error(`Target file already exists: ${t}`);return await Ye().fileManager.renameFile(l,t),`Moved ${e} to ${t} in vault`}let n=e.toLowerCase(),i=t.toLowerCase();if(!pe[n])throw new Error(`Source file not found: ${e}`);if(pe[i])throw new Error(`Target file already exists: ${t}`);let o=pe[n];return delete pe[n],pe[i]=o,await xo(pe),`Successfully moved ${e} to ${t}`},bv=async(e,t,n,i)=>{let l=(await ht(e)).split(`
`);if(t==="append")l.push(n||"");else if(t==="replace_line"){if(i===void 0||i<1||i>l.length)throw new Error(`Invalid line number: ${i}`);l[i-1]=n||""}else if(t==="remove_line"){if(i===void 0||i<1||i>l.length)throw new Error(`Invalid line number: ${i}`);l.splice(i-1,1)}else throw new Error(`Unknown operation: ${t}`);let s=l.join(`
`);return await Ai(e,s),`Successfully performed ${t} on ${e}`},Ha=async(e,t=!1,n="i")=>{let i=ei(),o=[],l=t?new RegExp(e,n):null,s=t?"":e.toLowerCase();for(let r of i){let f=(await ht(r)).split(`
`),d=[];f.forEach((m,p)=>{let h=!1;t&&l?h=l.test(m):h=m.toLowerCase().includes(s),h&&d.push({line:p+1,content:m,contextBefore:f.slice(Math.max(0,p-2),p),contextAfter:f.slice(p+1,Math.min(f.length,p+3))})}),d.length>0&&o.push({filename:r,matches:d})}return o};var UC,kC;function LC(){return{geminiUrl:UC,vertexUrl:kC}}function PC(e,t,n,i){var o,l;if(!e?.baseUrl){let s=LC();return t?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(l=s.geminiUrl)!==null&&l!==void 0?l:i}return e.baseUrl}var Gt=class{};function N(e,t){let n=/\{([^}]+)\}/g;return e.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){let l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(e,t,n){for(let l=0;l<t.length-1;l++){let s=t[l];if(s.endsWith("[]")){let r=s.slice(0,-2);if(!(r in e))if(Array.isArray(n))e[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[r])){let c=e[r];if(Array.isArray(n))for(let f=0;f<c.length;f++){let d=c[f];u(d,t.slice(l+1),n[f])}else for(let f of c)u(f,t.slice(l+1),n)}return}else if(s.endsWith("[0]")){let r=s.slice(0,-3);r in e||(e[r]=[{}]);let c=e[r];u(c[0],t.slice(l+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}let i=t[t.length-1],o=e[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function a(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;let o=t[i];if(o.endsWith("[]")){let l=o.slice(0,-2);if(l in e){let s=e[l];return Array.isArray(s)?s.map(r=>a(r,t.slice(i+1),n)):n}else return n}else e=e[o]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function GC(e,t){for(let[n,i]of Object.entries(t)){let o=n.split("."),l=i.split("."),s=new Set,r=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){r=c;break}if(r!==-1&&l.length>r)for(let c=r;c<l.length;c++){let f=l[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}Kf(e,o,l,0,s)}}function Kf(e,t,n,i,o){if(i>=t.length||typeof e!="object"||e===null)return;let l=t[i];if(l.endsWith("[]")){let s=l.slice(0,-2),r=e;if(s in r&&Array.isArray(r[s]))for(let c of r[s])Kf(c,t,n,i+1,o)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){let s=e,r=Object.keys(s).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(let f of r)c[f]=s[f];for(let[f,d]of Object.entries(c)){let m=[];for(let p of n.slice(i))p==="*"?m.push(f):m.push(p);u(s,m,d)}for(let f of r)delete s[f]}}else{let s=e;l in s&&Kf(s[l],t,n,i+1,o)}}function zd(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function qC(e){let t={},n=a(e,["operationName"]);n!=null&&u(t,["operationName"],n);let i=a(e,["resourceName"]);return i!=null&&u(t,["_url","resourceName"],i),t}function HC(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response","generateVideoResponse"]);return s!=null&&u(t,["response"],zC(s)),t}function VC(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response"]);return s!=null&&u(t,["response"],BC(s)),t}function zC(e){let t={},n=a(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>OC(s))),u(t,["generatedVideos"],l)}let i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function BC(e){let t={},n=a(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>FC(s))),u(t,["generatedVideos"],l)}let i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function OC(e){let t={},n=a(e,["video"]);return n!=null&&u(t,["video"],QC(n)),t}function FC(e){let t={},n=a(e,["_self"]);return n!=null&&u(t,["video"],ZC(n)),t}function YC(e){let t={},n=a(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function JC(e){let t={},n=a(e,["operationName"]);return n!=null&&u(t,["_url","operationName"],n),t}function KC(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response"]);return s!=null&&u(t,["response"],$C(s)),t}function $C(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["parent"]);i!=null&&u(t,["parent"],i);let o=a(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function eT(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response"]);return s!=null&&u(t,["response"],XC(s)),t}function XC(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["parent"]);i!=null&&u(t,["parent"],i);let o=a(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function QC(e){let t={},n=a(e,["uri"]);n!=null&&u(t,["uri"],n);let i=a(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],zd(i));let o=a(e,["encoding"]);return o!=null&&u(t,["mimeType"],o),t}function ZC(e){let t={},n=a(e,["gcsUri"]);n!=null&&u(t,["uri"],n);let i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],zd(i));let o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}var Iv;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Iv||(Iv={}));var Dv;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Dv||(Dv={}));var Uv;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Uv||(Uv={}));var I;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(I||(I={}));var kv;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kv||(kv={}));var Lv;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Lv||(Lv={}));var Pv;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Pv||(Pv={}));var Gv;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Gv||(Gv={}));var qv;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(qv||(qv={}));var Hv;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Hv||(Hv={}));var Vv;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Vv||(Vv={}));var zv;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(zv||(zv={}));var Bv;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Bv||(Bv={}));var Ov;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Ov||(Ov={}));var Fv;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Fv||(Fv={}));var Yv;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Yv||(Yv={}));var Jv;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Jv||(Jv={}));var Kv;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Kv||(Kv={}));var $v;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($v||($v={}));var Xv;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Xv||(Xv={}));var Qv;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Qv||(Qv={}));var bo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bo||(bo={}));var Zv;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zv||(Zv={}));var Wv;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Wv||(Wv={}));var jv;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(jv||(jv={}));var $f;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($f||($f={}));var e0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(e0||(e0={}));var t0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(t0||(t0={}));var Xf;(function(e){e.COLLECTION="COLLECTION"})(Xf||(Xf={}));var n0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(n0||(n0={}));var i0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(i0||(i0={}));var o0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(o0||(o0={}));var l0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(l0||(l0={}));var s0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(s0||(s0={}));var a0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(a0||(a0={}));var r0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(r0||(r0={}));var u0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(u0||(u0={}));var c0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(c0||(c0={}));var f0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(f0||(f0={}));var d0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(d0||(d0={}));var p0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(p0||(p0={}));var m0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(m0||(m0={}));var h0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(h0||(h0={}));var g0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(g0||(g0={}));var y0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(y0||(y0={}));var v0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(v0||(v0={}));var T0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(T0||(T0={}));var S0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(S0||(S0={}));var E0;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(E0||(E0={}));var _0;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(_0||(_0={}));var C0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(C0||(C0={}));var A0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(A0||(A0={}));var x0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(x0||(x0={}));var R0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(R0||(R0={}));var N0;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(N0||(N0={}));var w0;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(w0||(w0={}));var No;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(No||(No={}));var Kl=class{constructor(t){let n={};for(let i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}};var Ri=class{get text(){var t,n,i,o,l,s,r,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1,m=[];for(let p of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(let[h,T]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var t,n,i,o,l,s,r,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="",d=[];for(let m of(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)!==null&&c!==void 0?c:[]){for(let[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,o,l,s,r,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let f=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(f?.length!==0)return f}get executableCode(){var t,n,i,o,l,s,r,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,o,l,s,r,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let d=(c=(r=(s=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content)===null||r===void 0?void 0:r.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if(d?.length!==0)return(f=d?.[0])===null||f===void 0?void 0:f.output}},Ka=class{},$a=class{},Qf=class{},Zf=class{},Wf=class{},jf=class{},Xa=class{},Qa=class{},Za=class{},ed=class{};var Io=class{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let i=new Io,o,l=t;return n?o=VC(l):o=HC(l),Object.assign(i,o),i}},Wa=class{},ja=class{},er=class{},tr=class{},td=class{},nd=class{},id=class{};var $l=class{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let i=new $l,l=KC(t);return Object.assign(i,l),i}},od=class{},ld=class{},sd=class{};var nr=class{};var ad=class{get text(){var t,n,i;let o="",l=!1,s=[];for(let r of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(let[c,f]of Object.entries(r))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;l=!0,o+=r.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var t,n,i;let o="",l=[];for(let s of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(let[r,c]of Object.entries(s))r!=="inlineData"&&c!==null&&l.push(r);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}};var rd=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Xl=class{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){let i=new Xl,l=eT(t);return Object.assign(i,l),i}};function K(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){let n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tT(e,t){let n=K(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function nT(e){return Array.isArray(e)?e.map(t=>ir(t)):[ir(e)]}function ir(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function iT(e){let t=ir(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function oT(e){let t=ir(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function M0(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function lT(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>M0(t)):[M0(e)]}function ud(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function b0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function I0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ze(e){if(e==null)throw new Error("ContentUnion is required");return ud(e)?e:{role:"user",parts:lT(e)}}function Bd(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{let i=ze(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){let n=ze(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>ze(n)):[ze(t)]}function Mt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(b0(e)||I0(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ze(e)]}let t=[],n=[],i=ud(e[0]);for(let o of e){let l=ud(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(b0(o)||I0(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||t.push({role:"user",parts:lT(n)}),t}function WC(e,t){e.includes("null")&&(t.nullable=!0);let n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(I).includes(n[0].toUpperCase())?n[0].toUpperCase():I.TYPE_UNSPECIFIED;else{t.anyOf=[];for(let i of n)t.anyOf.push({type:Object.values(I).includes(i.toUpperCase())?i.toUpperCase():I.TYPE_UNSPECIFIED})}}function wo(e){let t={},n=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");let l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&WC(e.type,t);for(let[s,r]of Object.entries(e))if(r!=null)if(s=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;t.type=Object.values(I).includes(r.toUpperCase())?r.toUpperCase():I.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=wo(r);else if(i.includes(s)){let c=[];for(let f of r){if(f.type=="null"){t.nullable=!0;continue}c.push(wo(f))}t[s]=c}else if(o.includes(s)){let c={};for(let[f,d]of Object.entries(r))c[f]=wo(d);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=r}return t}function Od(e){return wo(e)}function Fd(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Yd(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Po(e){if(e.functionDeclarations)for(let t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=wo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=wo(t.response));return e}function Go(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");let t=[];for(let n of e)t.push(n);return t}function jC(e,t,n,i=1){let o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function _n(e,t){if(typeof t!="string")throw new Error("name must be a string");return jC(e,t,"cachedContents")}function sT(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ni(e){return zd(e)}function eA(e){return e!=null&&typeof e=="object"&&"name"in e}function tA(e){return e!=null&&typeof e=="object"&&"video"in e}function nA(e){return e!=null&&typeof e=="object"&&"uri"in e}function aT(e){var t;let n;if(eA(e)&&(n=e.name),!(nA(e)&&(n=e.uri,n===void 0))&&!(tA(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function rT(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function uT(e){for(let t of["models","tunedModels","publisherModels"])if(iA(e,t))return e[t];return[]}function iA(e,t){return e!==null&&typeof e=="object"&&t in e}function oA(e,t={}){let n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function lA(e,t={}){let n=[],i=new Set;for(let o of e){let l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);let s=oA(o,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function cT(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;let i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function sA(e){if(typeof e!="string")return e;let t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function fT(e){if(typeof e!="object"||e===null)return{};let t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;let o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let l=!1;for(let s of o){if(typeof s!="object"||s===null)continue;let c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function qo(e,t){let n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dT(e){let t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function aA(e){let t={},n=a(e,["responsesFile"]);n!=null&&u(t,["fileName"],n);let i=a(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>zA(s))),u(t,["inlinedResponses"],l)}let o=a(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["inlinedEmbedContentResponses"],l)}return t}function rA(e){let t={},n=a(e,["predictionsFormat"]);n!=null&&u(t,["format"],n);let i=a(e,["gcsDestination","outputUriPrefix"]);i!=null&&u(t,["gcsUri"],i);let o=a(e,["bigqueryDestination","outputUri"]);return o!=null&&u(t,["bigqueryUri"],o),t}function uA(e){let t={},n=a(e,["format"]);n!=null&&u(t,["predictionsFormat"],n);let i=a(e,["gcsUri"]);i!=null&&u(t,["gcsDestination","outputUriPrefix"],i);let o=a(e,["bigqueryUri"]);if(o!=null&&u(t,["bigqueryDestination","outputUri"],o),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ya(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata","displayName"]);i!=null&&u(t,["displayName"],i);let o=a(e,["metadata","state"]);o!=null&&u(t,["state"],dT(o));let l=a(e,["metadata","createTime"]);l!=null&&u(t,["createTime"],l);let s=a(e,["metadata","endTime"]);s!=null&&u(t,["endTime"],s);let r=a(e,["metadata","updateTime"]);r!=null&&u(t,["updateTime"],r);let c=a(e,["metadata","model"]);c!=null&&u(t,["model"],c);let f=a(e,["metadata","output"]);return f!=null&&u(t,["dest"],aA(fT(f))),t}function cd(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);let o=a(e,["state"]);o!=null&&u(t,["state"],dT(o));let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["createTime"]);s!=null&&u(t,["createTime"],s);let r=a(e,["startTime"]);r!=null&&u(t,["startTime"],r);let c=a(e,["endTime"]);c!=null&&u(t,["endTime"],c);let f=a(e,["updateTime"]);f!=null&&u(t,["updateTime"],f);let d=a(e,["model"]);d!=null&&u(t,["model"],d);let m=a(e,["inputConfig"]);m!=null&&u(t,["src"],cA(m));let p=a(e,["outputConfig"]);p!=null&&u(t,["dest"],rA(fT(p)));let h=a(e,["completionStats"]);return h!=null&&u(t,["completionStats"],h),t}function cA(e){let t={},n=a(e,["instancesFormat"]);n!=null&&u(t,["format"],n);let i=a(e,["gcsSource","uris"]);i!=null&&u(t,["gcsUri"],i);let o=a(e,["bigquerySource","inputUri"]);return o!=null&&u(t,["bigqueryUri"],o),t}function fA(e,t){let n={};if(a(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let i=a(t,["fileName"]);i!=null&&u(n,["fileName"],i);let o=a(t,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>VA(e,s))),u(n,["requests","requests"],l)}return n}function dA(e){let t={},n=a(e,["format"]);n!=null&&u(t,["instancesFormat"],n);let i=a(e,["gcsUri"]);i!=null&&u(t,["gcsSource","uris"],i);let o=a(e,["bigqueryUri"]);if(o!=null&&u(t,["bigquerySource","inputUri"],o),a(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function pA(e){let t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function mA(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],qo(e,i)),n}function hA(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],qo(e,i)),n}function gA(e){let t={},n=a(e,["content"]);n!=null&&u(t,["content"],n);let i=a(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],yA(i));let o=a(e,["tokenCount"]);o!=null&&u(t,["tokenCount"],o);let l=a(e,["finishReason"]);l!=null&&u(t,["finishReason"],l);let s=a(e,["avgLogprobs"]);s!=null&&u(t,["avgLogprobs"],s);let r=a(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);let c=a(e,["index"]);c!=null&&u(t,["index"],c);let f=a(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);let d=a(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),u(t,["safetyRatings"],p)}let m=a(e,["urlContextMetadata"]);return m!=null&&u(t,["urlContextMetadata"],m),t}function yA(e){let t={},n=a(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["citations"],i)}return t}function pT(e){let t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>$A(l))),u(t,["parts"],o)}let i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function vA(e,t){let n={},i=a(e,["displayName"]);if(t!==void 0&&i!=null&&u(t,["batch","displayName"],i),a(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function TA(e,t){let n={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);let o=a(e,["dest"]);return t!==void 0&&o!=null&&u(t,["outputConfig"],uA(sA(o))),n}function D0(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["src"]);o!=null&&u(n,["batch","inputConfig"],fA(e,cT(e,o)));let l=a(t,["config"]);return l!=null&&vA(l,n),n}function SA(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["model"],K(e,i));let o=a(t,["src"]);o!=null&&u(n,["inputConfig"],dA(cT(e,o)));let l=a(t,["config"]);return l!=null&&TA(l,n),n}function EA(e,t){let n={},i=a(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["batch","displayName"],i),n}function _A(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["src"]);o!=null&&u(n,["batch","inputConfig"],MA(e,o));let l=a(t,["config"]);return l!=null&&EA(l,n),n}function CA(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],qo(e,i)),n}function AA(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],qo(e,i)),n}function xA(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["name"]);i!=null&&u(t,["name"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);return l!=null&&u(t,["error"],l),t}function RA(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["name"]);i!=null&&u(t,["name"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);return l!=null&&u(t,["error"],l),t}function NA(e,t){let n={},i=a(t,["contents"]);if(i!=null){let l=Bd(e,i);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["requests[]","request","content"],l)}let o=a(t,["config"]);return o!=null&&(u(n,["_self"],wA(o,n)),GC(n,{"requests[].*":"requests[].request.*"})),n}function wA(e,t){let n={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);let o=a(e,["title"]);t!==void 0&&o!=null&&u(t,["requests[]","title"],o);let l=a(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&u(t,["requests[]","outputDimensionality"],l),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function MA(e,t){let n={},i=a(t,["fileName"]);i!=null&&u(n,["file_name"],i);let o=a(t,["inlinedRequests"]);return o!=null&&u(n,["requests"],NA(e,o)),n}function bA(e){let t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function IA(e){let t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);let i=a(e,["args"]);i!=null&&u(t,["args"],i);let o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DA(e){let t={},n=a(e,["allowedFunctionNames"]);n!=null&&u(t,["allowedFunctionNames"],n);let i=a(e,["mode"]);if(i!=null&&u(t,["mode"],i),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UA(e,t,n){let i={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],pT(ze(o)));let l=a(t,["temperature"]);l!=null&&u(i,["temperature"],l);let s=a(t,["topP"]);s!=null&&u(i,["topP"],s);let r=a(t,["topK"]);r!=null&&u(i,["topK"],r);let c=a(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);let f=a(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);let d=a(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);let m=a(t,["responseLogprobs"]);m!=null&&u(i,["responseLogprobs"],m);let p=a(t,["logprobs"]);p!=null&&u(i,["logprobs"],p);let h=a(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);let T=a(t,["frequencyPenalty"]);T!=null&&u(i,["frequencyPenalty"],T);let S=a(t,["seed"]);S!=null&&u(i,["seed"],S);let _=a(t,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);let g=a(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],Od(g));let y=a(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let se=v;Array.isArray(se)&&(se=se.map(gt=>XA(gt))),u(n,["safetySettings"],se)}let E=a(t,["tools"]);if(n!==void 0&&E!=null){let se=Go(E);Array.isArray(se)&&(se=se.map(gt=>ZA(Po(gt)))),u(n,["tools"],se)}let A=a(t,["toolConfig"]);if(n!==void 0&&A!=null&&u(n,["toolConfig"],QA(A)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let w=a(t,["cachedContent"]);n!==void 0&&w!=null&&u(n,["cachedContent"],_n(e,w));let x=a(t,["responseModalities"]);x!=null&&u(i,["responseModalities"],x);let b=a(t,["mediaResolution"]);b!=null&&u(i,["mediaResolution"],b);let R=a(t,["speechConfig"]);if(R!=null&&u(i,["speechConfig"],Fd(R)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let M=a(t,["thinkingConfig"]);M!=null&&u(i,["thinkingConfig"],M);let F=a(t,["imageConfig"]);F!=null&&u(i,["imageConfig"],HA(F));let $e=a(t,["enableEnhancedCivicAnswers"]);if($e!=null&&u(i,["enableEnhancedCivicAnswers"],$e),a(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function kA(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>gA(f))),u(t,["candidates"],c)}let o=a(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);let l=a(e,["promptFeedback"]);l!=null&&u(t,["promptFeedback"],l);let s=a(e,["responseId"]);s!=null&&u(t,["responseId"],s);let r=a(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function LA(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],qo(e,i)),n}function PA(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],qo(e,i)),n}function GA(e){let t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function qA(e){let t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function HA(e){let t={},n=a(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);let i=a(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),a(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function VA(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["request","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let r=Mt(o);Array.isArray(r)&&(r=r.map(c=>pT(c))),u(n,["request","contents"],r)}let l=a(t,["metadata"]);l!=null&&u(n,["metadata"],l);let s=a(t,["config"]);return s!=null&&u(n,["request","generationConfig"],UA(e,s,a(n,["request"],{}))),n}function zA(e){let t={},n=a(e,["response"]);n!=null&&u(t,["response"],kA(n));let i=a(e,["error"]);return i!=null&&u(t,["error"],i),t}function BA(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);if(t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),a(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function OA(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);t!==void 0&&o!=null&&u(t,["_query","pageToken"],o);let l=a(e,["filter"]);return t!==void 0&&l!=null&&u(t,["_query","filter"],l),n}function FA(e){let t={},n=a(e,["config"]);return n!=null&&BA(n,t),t}function YA(e){let t={},n=a(e,["config"]);return n!=null&&OA(n,t),t}function JA(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>Ya(s))),u(t,["batchJobs"],l)}return t}function KA(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>cd(s))),u(t,["batchJobs"],l)}return t}function $A(e){let t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let l=a(e,["fileData"]);l!=null&&u(t,["fileData"],bA(l));let s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],IA(s));let r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);let c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],pA(c));let f=a(e,["text"]);f!=null&&u(t,["text"],f);let d=a(e,["thought"]);d!=null&&u(t,["thought"],d);let m=a(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);let p=a(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function XA(e){let t={},n=a(e,["category"]);if(n!=null&&u(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=a(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function QA(e){let t={},n=a(e,["retrievalConfig"]);n!=null&&u(t,["retrievalConfig"],n);let i=a(e,["functionCallingConfig"]);return i!=null&&u(t,["functionCallingConfig"],DA(i)),t}function ZA(e){let t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=a(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=a(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(e,["functionDeclarations"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}let s=a(e,["googleMaps"]);s!=null&&u(t,["googleMaps"],GA(s));let r=a(e,["googleSearch"]);r!=null&&u(t,["googleSearch"],qA(r));let c=a(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}var Sn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Sn||(Sn={}));var En=class{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(l=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}};var fd=class extends Gt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new En(Sn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){let n=D0(this.apiClient,t),i=n._url,o=N("{model}:batchGenerateContent",i),r=n.batch.inputConfig.requests,c=r.requests,f=[];for(let d of c){let m=Object.assign({},d);if(m.systemInstruction){let p=m.systemInstruction;delete m.systemInstruction;let h=m.request;h.systemInstruction=p,m.request=h}f.push(m)}return r.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){let i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){let l=this.getGcsUri(t),s=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(s)i.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=SA(this.apiClient,t);return r=N("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>cd(d))}else{let f=D0(this.apiClient,t);return r=N("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>Ya(d))}}async createEmbeddingsInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=_A(this.apiClient,t);return l=N("{model}:asyncBatchEmbedContent",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>Ya(c))}}async get(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=PA(this.apiClient,t);return r=N("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>cd(d))}else{let f=LA(this.apiClient,t);return r=N("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>Ya(d))}}async cancel(t){var n,i,o,l;let s="",r={};if(this.apiClient.isVertexAI()){let c=hA(this.apiClient,t);s=N("batchPredictionJobs/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{let c=mA(this.apiClient,t);s=N("batches/{name}:cancel",c._url),r=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=YA(t);return r=N("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=KA(d),p=new nr;return Object.assign(p,m),p})}else{let f=FA(t);return r=N("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=JA(d),p=new nr;return Object.assign(p,m),p})}}async delete(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=AA(this.apiClient,t);return r=N("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>RA(d))}else{let f=CA(this.apiClient,t);return r=N("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>xA(d))}}};function WA(e){let t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function U0(e){let t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Ex(l))),u(t,["parts"],o)}let i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function jA(e,t){let n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=a(e,["expireTime"]);t!==void 0&&o!=null&&u(t,["expireTime"],o);let l=a(e,["displayName"]);t!==void 0&&l!=null&&u(t,["displayName"],l);let s=a(e,["contents"]);if(t!==void 0&&s!=null){let d=Mt(s);Array.isArray(d)&&(d=d.map(m=>U0(m))),u(t,["contents"],d)}let r=a(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],U0(ze(r)));let c=a(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Cx(m))),u(t,["tools"],d)}let f=a(e,["toolConfig"]);if(t!==void 0&&f!=null&&u(t,["toolConfig"],_x(f)),a(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ex(e,t){let n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=a(e,["expireTime"]);t!==void 0&&o!=null&&u(t,["expireTime"],o);let l=a(e,["displayName"]);t!==void 0&&l!=null&&u(t,["displayName"],l);let s=a(e,["contents"]);if(t!==void 0&&s!=null){let m=Mt(s);Array.isArray(m)&&(m=m.map(p=>p)),u(t,["contents"],m)}let r=a(e,["systemInstruction"]);t!==void 0&&r!=null&&u(t,["systemInstruction"],ze(r));let c=a(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>Ax(p))),u(t,["tools"],m)}let f=a(e,["toolConfig"]);t!==void 0&&f!=null&&u(t,["toolConfig"],f);let d=a(e,["kmsKeyName"]);return t!==void 0&&d!=null&&u(t,["encryption_spec","kmsKeyName"],d),n}function tx(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["model"],tT(e,i));let o=a(t,["config"]);return o!=null&&jA(o,n),n}function nx(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["model"],tT(e,i));let o=a(t,["config"]);return o!=null&&ex(o,n),n}function ix(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],_n(e,i)),n}function ox(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],_n(e,i)),n}function lx(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function sx(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function ax(e){let t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function rx(e){let t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);let i=a(e,["args"]);i!=null&&u(t,["args"],i);let o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ux(e){let t={},n=a(e,["allowedFunctionNames"]);n!=null&&u(t,["allowedFunctionNames"],n);let i=a(e,["mode"]);if(i!=null&&u(t,["mode"],i),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function cx(e){let t={},n=a(e,["description"]);n!=null&&u(t,["description"],n);let i=a(e,["name"]);i!=null&&u(t,["name"],i);let o=a(e,["parameters"]);o!=null&&u(t,["parameters"],o);let l=a(e,["parametersJsonSchema"]);l!=null&&u(t,["parametersJsonSchema"],l);let s=a(e,["response"]);s!=null&&u(t,["response"],s);let r=a(e,["responseJsonSchema"]);if(r!=null&&u(t,["responseJsonSchema"],r),a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function fx(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],_n(e,i)),n}function dx(e,t){let n={},i=a(t,["name"]);return i!=null&&u(n,["_url","name"],_n(e,i)),n}function px(e){let t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function mx(e){let t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function hx(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function gx(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function yx(e){let t={},n=a(e,["config"]);return n!=null&&hx(n,t),t}function vx(e){let t={},n=a(e,["config"]);return n!=null&&gx(n,t),t}function Tx(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["cachedContents"],l)}return t}function Sx(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["cachedContents"],l)}return t}function Ex(e){let t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let l=a(e,["fileData"]);l!=null&&u(t,["fileData"],ax(l));let s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],rx(s));let r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);let c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],WA(c));let f=a(e,["text"]);f!=null&&u(t,["text"],f);let d=a(e,["thought"]);d!=null&&u(t,["thought"],d);let m=a(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);let p=a(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function _x(e){let t={},n=a(e,["retrievalConfig"]);n!=null&&u(t,["retrievalConfig"],n);let i=a(e,["functionCallingConfig"]);return i!=null&&u(t,["functionCallingConfig"],ux(i)),t}function Cx(e){let t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=a(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=a(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(e,["functionDeclarations"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}let s=a(e,["googleMaps"]);s!=null&&u(t,["googleMaps"],px(s));let r=a(e,["googleSearch"]);r!=null&&u(t,["googleSearch"],mx(r));let c=a(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function Ax(e){let t={},n=a(e,["retrieval"]);n!=null&&u(t,["retrieval"],n);let i=a(e,["computerUse"]);if(i!=null&&u(t,["computerUse"],i),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=a(e,["codeExecution"]);o!=null&&u(t,["codeExecution"],o);let l=a(e,["enterpriseWebSearch"]);l!=null&&u(t,["enterpriseWebSearch"],l);let s=a(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>cx(p))),u(t,["functionDeclarations"],m)}let r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],r);let c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],c);let f=a(e,["googleSearchRetrieval"]);f!=null&&u(t,["googleSearchRetrieval"],f);let d=a(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function xx(e,t){let n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=a(e,["expireTime"]);return t!==void 0&&o!=null&&u(t,["expireTime"],o),n}function Rx(e,t){let n={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);let o=a(e,["expireTime"]);return t!==void 0&&o!=null&&u(t,["expireTime"],o),n}function Nx(e,t){let n={},i=a(t,["name"]);i!=null&&u(n,["_url","name"],_n(e,i));let o=a(t,["config"]);return o!=null&&xx(o,n),n}function wx(e,t){let n={},i=a(t,["name"]);i!=null&&u(n,["_url","name"],_n(e,i));let o=a(t,["config"]);return o!=null&&Rx(o,n),n}var dd=class extends Gt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new En(Sn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=nx(this.apiClient,t);return r=N("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let f=tx(this.apiClient,t);return r=N("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=dx(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let f=fx(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=ox(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=sx(d),p=new er;return Object.assign(p,m),p})}else{let f=ix(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=lx(d),p=new er;return Object.assign(p,m),p})}}async update(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=wx(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{let f=Nx(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=vx(t);return r=N("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=Sx(d),p=new tr;return Object.assign(p,m),p})}else{let f=yx(t);return r=N("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=Tx(d),p=new tr;return Object.assign(p,m),p})}}};function or(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function k0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(e){return this instanceof P?(this.v=e,this):new P(e)}function Lt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(T){return Promise.resolve(T).then(h,m)}}function r(h,T){i[h]&&(o[h]=function(S){return new Promise(function(_,g){l.push([h,S,_,g])>1||c(h,S)})},T&&(o[h]=T(o[h])))}function c(h,T){try{f(i[h](T))}catch(S){p(l[0][3],S)}}function f(h){h.value instanceof P?Promise.resolve(h.value.v).then(d,m):p(l[0][2],h)}function d(h){c("next",h)}function m(h){c("throw",h)}function p(h,T){h(T),l.shift(),l.length&&c(l[0][0],l[0][1])}}function Pt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof k0=="function"?k0(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=e[l]&&function(s){return new Promise(function(r,c){s=e[l](s),o(r,c,s.done,s.value)})}}function o(l,s,r,c){Promise.resolve(c).then(function(f){l({value:f,done:r})},s)}}function Mx(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;let n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:mT(n)}function mT(e){if(e.parts===void 0||e.parts.length===0)return!1;for(let t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function bx(e){if(e.length!==0){for(let t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function L0(e){if(e===void 0||e.length===0)return[];let t=[],n=e.length,i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{let o=[],l=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),l&&!mT(e[i])&&(l=!1),i++;l?t.push(...o):t.pop()}return t}var pd=class{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new md(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}},md=class{constructor(t,n,i,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),bx(l)}async sendMessage(t){var n;await this.sendPromise;let i=ze(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,s,r;let c=await o,f=(s=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length,p=[];d!=null&&(p=(r=d.slice(m))!==null&&r!==void 0?r:[]);let h=f?[f]:[];this.recordHistory(i,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;let i=ze(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});let l=await o;return this.processStreamResponse(l,i)}getHistory(t=!1){let n=t?L0(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Lt(this,arguments,function*(){var o,l,s,r,c,f;let d=[];try{for(var m=!0,p=Pt(t),h;h=yield P(p.next()),o=h.done,!o;m=!0){r=h.value,m=!1;let T=r;if(Mx(T)){let S=(f=(c=T.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;S!==void 0&&d.push(S)}yield yield P(T)}}catch(T){l={error:T}}finally{try{!m&&!o&&(s=p.return)&&(yield P(s.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...L0(i)):this.history.push(t),this.history.push(...o)}};var Ni=class extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ni.prototype)}};function Ix(e){let t={},n=a(e,["file"]);return n!=null&&u(t,["file"],n),t}function Dx(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function Ux(e){let t={},n=a(e,["name"]);return n!=null&&u(t,["_url","file"],aT(n)),t}function kx(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function Lx(e){let t={},n=a(e,["name"]);return n!=null&&u(t,["_url","file"],aT(n)),t}function Px(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function Gx(e){let t={},n=a(e,["config"]);return n!=null&&Px(n,t),t}function qx(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["files"],l)}return t}var hd=class extends Gt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new En(Sn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=Gx(t);return l=N("files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=qx(c),d=new od;return Object.assign(d,f),d})}}async createInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=Ix(t);return l=N("upload/v1beta/files",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=Dx(c),d=new ld;return Object.assign(d,f),d})}}async get(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=Lx(t);return l=N("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=Ux(t);return l=N("files/{file}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=kx(c),d=new sd;return Object.assign(d,f),d})}}};function Ja(e){let t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Hx(e){let t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>tR(l))),u(t,["parts"],o)}let i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Vx(e){let t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function zx(e){let t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);let i=a(e,["args"]);i!=null&&u(t,["args"],i);let o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Bx(e){let t={},n=a(e,["description"]);n!=null&&u(t,["description"],n);let i=a(e,["name"]);i!=null&&u(t,["name"],i);let o=a(e,["parameters"]);o!=null&&u(t,["parameters"],o);let l=a(e,["parametersJsonSchema"]);l!=null&&u(t,["parametersJsonSchema"],l);let s=a(e,["response"]);s!=null&&u(t,["response"],s);let r=a(e,["responseJsonSchema"]);if(r!=null&&u(t,["responseJsonSchema"],r),a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Ox(e){let t={},n=a(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);let i=a(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);let o=a(e,["audioTimestamp"]);o!=null&&u(t,["audioTimestamp"],o);let l=a(e,["candidateCount"]);l!=null&&u(t,["candidateCount"],l);let s=a(e,["enableAffectiveDialog"]);s!=null&&u(t,["enableAffectiveDialog"],s);let r=a(e,["frequencyPenalty"]);r!=null&&u(t,["frequencyPenalty"],r);let c=a(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);let f=a(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);let d=a(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);let m=a(e,["presencePenalty"]);m!=null&&u(t,["presencePenalty"],m);let p=a(e,["responseLogprobs"]);p!=null&&u(t,["responseLogprobs"],p);let h=a(e,["responseMimeType"]);h!=null&&u(t,["responseMimeType"],h);let T=a(e,["responseModalities"]);T!=null&&u(t,["responseModalities"],T);let S=a(e,["responseSchema"]);S!=null&&u(t,["responseSchema"],S);let _=a(e,["routingConfig"]);_!=null&&u(t,["routingConfig"],_);let g=a(e,["seed"]);g!=null&&u(t,["seed"],g);let y=a(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],y);let v=a(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);let E=a(e,["temperature"]);E!=null&&u(t,["temperature"],E);let A=a(e,["thinkingConfig"]);A!=null&&u(t,["thinkingConfig"],A);let w=a(e,["topK"]);w!=null&&u(t,["topK"],w);let x=a(e,["topP"]);if(x!=null&&u(t,["topP"],x),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Fx(e){let t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function Yx(e){let t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function Jx(e,t){let n={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);let o=a(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);let l=a(e,["temperature"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","temperature"],l);let s=a(e,["topP"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","topP"],s);let r=a(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);let c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);let f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);let d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);let m=a(e,["speechConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","speechConfig"],Yd(m));let p=a(e,["thinkingConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","thinkingConfig"],p);let h=a(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);let T=a(e,["systemInstruction"]);t!==void 0&&T!=null&&u(t,["setup","systemInstruction"],Hx(ze(T)));let S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Go(S);Array.isArray(w)&&(w=w.map(x=>iR(Po(x)))),u(t,["setup","tools"],w)}let _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&u(t,["setup","sessionResumption"],nR(_));let g=a(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);let y=a(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);let v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);let E=a(e,["contextWindowCompression"]);t!==void 0&&E!=null&&u(t,["setup","contextWindowCompression"],E);let A=a(e,["proactivity"]);if(t!==void 0&&A!=null&&u(t,["setup","proactivity"],A),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Kx(e,t){let n={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],Ox(i));let o=a(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);let l=a(e,["temperature"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","temperature"],l);let s=a(e,["topP"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","topP"],s);let r=a(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);let c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);let f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);let d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);let m=a(e,["speechConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","speechConfig"],Yd(m));let p=a(e,["thinkingConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","thinkingConfig"],p);let h=a(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);let T=a(e,["systemInstruction"]);t!==void 0&&T!=null&&u(t,["setup","systemInstruction"],ze(T));let S=a(e,["tools"]);if(t!==void 0&&S!=null){let x=Go(S);Array.isArray(x)&&(x=x.map(b=>oR(Po(b)))),u(t,["setup","tools"],x)}let _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&u(t,["setup","sessionResumption"],_);let g=a(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);let y=a(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);let v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);let E=a(e,["contextWindowCompression"]);t!==void 0&&E!=null&&u(t,["setup","contextWindowCompression"],E);let A=a(e,["proactivity"]);t!==void 0&&A!=null&&u(t,["setup","proactivity"],A);let w=a(e,["explicitVadSignal"]);return t!==void 0&&w!=null&&u(t,["setup","explicitVadSignal"],w),n}function $x(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["setup","model"],K(e,i));let o=a(t,["config"]);return o!=null&&u(n,["config"],Jx(o,n)),n}function Xx(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["setup","model"],K(e,i));let o=a(t,["config"]);return o!=null&&u(n,["config"],Kx(o,n)),n}function Qx(e){let t={},n=a(e,["musicGenerationConfig"]);return n!=null&&u(t,["musicGenerationConfig"],n),t}function Zx(e){let t={},n=a(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["weightedPrompts"],i)}return t}function Wx(e){let t={},n=a(e,["media"]);if(n!=null){let f=nT(n);Array.isArray(f)&&(f=f.map(d=>Ja(d))),u(t,["mediaChunks"],f)}let i=a(e,["audio"]);i!=null&&u(t,["audio"],Ja(oT(i)));let o=a(e,["audioStreamEnd"]);o!=null&&u(t,["audioStreamEnd"],o);let l=a(e,["video"]);l!=null&&u(t,["video"],Ja(iT(l)));let s=a(e,["text"]);s!=null&&u(t,["text"],s);let r=a(e,["activityStart"]);r!=null&&u(t,["activityStart"],r);let c=a(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function jx(e){let t={},n=a(e,["media"]);if(n!=null){let f=nT(n);Array.isArray(f)&&(f=f.map(d=>d)),u(t,["mediaChunks"],f)}let i=a(e,["audio"]);i!=null&&u(t,["audio"],oT(i));let o=a(e,["audioStreamEnd"]);o!=null&&u(t,["audioStreamEnd"],o);let l=a(e,["video"]);l!=null&&u(t,["video"],iT(l));let s=a(e,["text"]);s!=null&&u(t,["text"],s);let r=a(e,["activityStart"]);r!=null&&u(t,["activityStart"],r);let c=a(e,["activityEnd"]);return c!=null&&u(t,["activityEnd"],c),t}function eR(e){let t={},n=a(e,["setupComplete"]);n!=null&&u(t,["setupComplete"],n);let i=a(e,["serverContent"]);i!=null&&u(t,["serverContent"],i);let o=a(e,["toolCall"]);o!=null&&u(t,["toolCall"],o);let l=a(e,["toolCallCancellation"]);l!=null&&u(t,["toolCallCancellation"],l);let s=a(e,["usageMetadata"]);s!=null&&u(t,["usageMetadata"],lR(s));let r=a(e,["goAway"]);r!=null&&u(t,["goAway"],r);let c=a(e,["sessionResumptionUpdate"]);c!=null&&u(t,["sessionResumptionUpdate"],c);let f=a(e,["voiceActivityDetectionSignal"]);f!=null&&u(t,["voiceActivityDetectionSignal"],f);let d=a(e,["voiceActivity"]);return d!=null&&u(t,["voiceActivity"],sR(d)),t}function tR(e){let t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let l=a(e,["fileData"]);l!=null&&u(t,["fileData"],Vx(l));let s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],zx(s));let r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);let c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],Ja(c));let f=a(e,["text"]);f!=null&&u(t,["text"],f);let d=a(e,["thought"]);d!=null&&u(t,["thought"],d);let m=a(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);let p=a(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function nR(e){let t={},n=a(e,["handle"]);if(n!=null&&u(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function iR(e){let t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=a(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=a(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(e,["functionDeclarations"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}let s=a(e,["googleMaps"]);s!=null&&u(t,["googleMaps"],Fx(s));let r=a(e,["googleSearch"]);r!=null&&u(t,["googleSearch"],Yx(r));let c=a(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function oR(e){let t={},n=a(e,["retrieval"]);n!=null&&u(t,["retrieval"],n);let i=a(e,["computerUse"]);if(i!=null&&u(t,["computerUse"],i),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=a(e,["codeExecution"]);o!=null&&u(t,["codeExecution"],o);let l=a(e,["enterpriseWebSearch"]);l!=null&&u(t,["enterpriseWebSearch"],l);let s=a(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>Bx(p))),u(t,["functionDeclarations"],m)}let r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],r);let c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],c);let f=a(e,["googleSearchRetrieval"]);f!=null&&u(t,["googleSearchRetrieval"],f);let d=a(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function lR(e){let t={},n=a(e,["promptTokenCount"]);n!=null&&u(t,["promptTokenCount"],n);let i=a(e,["cachedContentTokenCount"]);i!=null&&u(t,["cachedContentTokenCount"],i);let o=a(e,["candidatesTokenCount"]);o!=null&&u(t,["responseTokenCount"],o);let l=a(e,["toolUsePromptTokenCount"]);l!=null&&u(t,["toolUsePromptTokenCount"],l);let s=a(e,["thoughtsTokenCount"]);s!=null&&u(t,["thoughtsTokenCount"],s);let r=a(e,["totalTokenCount"]);r!=null&&u(t,["totalTokenCount"],r);let c=a(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(T=>T)),u(t,["promptTokensDetails"],h)}let f=a(e,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(T=>T)),u(t,["cacheTokensDetails"],h)}let d=a(e,["candidatesTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(T=>T)),u(t,["responseTokensDetails"],h)}let m=a(e,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(T=>T)),u(t,["toolUsePromptTokensDetails"],h)}let p=a(e,["trafficType"]);return p!=null&&u(t,["trafficType"],p),t}function sR(e){let t={},n=a(e,["type"]);return n!=null&&u(t,["voiceActivityType"],n),t}function aR(e){let t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function rR(e){let t={},n=a(e,["content"]);n!=null&&u(t,["content"],n);let i=a(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],uR(i));let o=a(e,["tokenCount"]);o!=null&&u(t,["tokenCount"],o);let l=a(e,["finishReason"]);l!=null&&u(t,["finishReason"],l);let s=a(e,["avgLogprobs"]);s!=null&&u(t,["avgLogprobs"],s);let r=a(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);let c=a(e,["index"]);c!=null&&u(t,["index"],c);let f=a(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);let d=a(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),u(t,["safetyRatings"],p)}let m=a(e,["urlContextMetadata"]);return m!=null&&u(t,["urlContextMetadata"],m),t}function uR(e){let t={},n=a(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),u(t,["citations"],i)}return t}function cR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let l=Mt(o);Array.isArray(l)&&(l=l.map(s=>s)),u(n,["contents"],l)}return n}function fR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(t,["tokensInfo"],o)}return t}function dR(e){let t={},n=a(e,["values"]);n!=null&&u(t,["values"],n);let i=a(e,["statistics"]);return i!=null&&u(t,["statistics"],pR(i)),t}function pR(e){let t={},n=a(e,["truncated"]);n!=null&&u(t,["truncated"],n);let i=a(e,["token_count"]);return i!=null&&u(t,["tokenCount"],i),t}function Tr(e){let t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>_1(l))),u(t,["parts"],o)}let i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function mR(e){let t={},n=a(e,["controlType"]);n!=null&&u(t,["controlType"],n);let i=a(e,["enableControlImageComputation"]);return i!=null&&u(t,["computeControl"],i),t}function hR(e){let t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function gR(e,t){let n={},i=a(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],ze(i));let o=a(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>vT(r))),u(t,["tools"],s)}let l=a(e,["generationConfig"]);return t!==void 0&&l!=null&&u(t,["generationConfig"],a1(l)),n}function yR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let s=Mt(o);Array.isArray(s)&&(s=s.map(r=>Tr(r))),u(n,["contents"],s)}let l=a(t,["config"]);return l!=null&&hR(l),n}function vR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let s=Mt(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}let l=a(t,["config"]);return l!=null&&gR(l,n),n}function TR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["totalTokens"]);i!=null&&u(t,["totalTokens"],i);let o=a(e,["cachedContentTokenCount"]);return o!=null&&u(t,["cachedContentTokenCount"],o),t}function SR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["totalTokens"]);return i!=null&&u(t,["totalTokens"],i),t}function ER(e,t){let n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function _R(e,t){let n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function CR(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function AR(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}function xR(e,t){let n={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);let o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&u(t,["parameters","negativePrompt"],o);let l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&u(t,["parameters","sampleCount"],l);let s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&u(t,["parameters","aspectRatio"],s);let r=a(e,["guidanceScale"]);t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r);let c=a(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);let f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);let d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);let m=a(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&u(t,["parameters","includeSafetyAttributes"],m);let p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&u(t,["parameters","includeRaiReason"],p);let h=a(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);let T=a(e,["outputMimeType"]);t!==void 0&&T!=null&&u(t,["parameters","outputOptions","mimeType"],T);let S=a(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&u(t,["parameters","outputOptions","compressionQuality"],S);let _=a(e,["addWatermark"]);t!==void 0&&_!=null&&u(t,["parameters","addWatermark"],_);let g=a(e,["labels"]);t!==void 0&&g!=null&&u(t,["labels"],g);let y=a(e,["editMode"]);t!==void 0&&y!=null&&u(t,["parameters","editMode"],y);let v=a(e,["baseSteps"]);return t!==void 0&&v!=null&&u(t,["parameters","editConfig","baseSteps"],v),n}function RR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let l=a(t,["referenceImages"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>w1(c))),u(n,["instances[0]","referenceImages"],r)}let s=a(t,["config"]);return s!=null&&xR(s,n),n}function NR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Sr(l))),u(t,["generatedImages"],o)}return t}function wR(e,t){let n={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);let o=a(e,["title"]);t!==void 0&&o!=null&&u(t,["requests[]","title"],o);let l=a(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&u(t,["requests[]","outputDimensionality"],l),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function MR(e,t){let n={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["instances[]","task_type"],i);let o=a(e,["title"]);t!==void 0&&o!=null&&u(t,["instances[]","title"],o);let l=a(e,["outputDimensionality"]);t!==void 0&&l!=null&&u(t,["parameters","outputDimensionality"],l);let s=a(e,["mimeType"]);t!==void 0&&s!=null&&u(t,["instances[]","mimeType"],s);let r=a(e,["autoTruncate"]);return t!==void 0&&r!=null&&u(t,["parameters","autoTruncate"],r),n}function bR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let r=Bd(e,o);Array.isArray(r)&&(r=r.map(c=>c)),u(n,["requests[]","content"],r)}let l=a(t,["config"]);l!=null&&wR(l,n);let s=a(t,["model"]);return s!==void 0&&u(n,["requests[]","model"],K(e,s)),n}function IR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let s=Bd(e,o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["instances[]","content"],s)}let l=a(t,["config"]);return l!=null&&MR(l,n),n}function DR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["embeddings"],l)}let o=a(e,["metadata"]);return o!=null&&u(t,["metadata"],o),t}function UR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>dR(s))),u(t,["embeddings"],l)}let o=a(e,["metadata"]);return o!=null&&u(t,["metadata"],o),t}function kR(e){let t={},n=a(e,["endpoint"]);n!=null&&u(t,["name"],n);let i=a(e,["deployedModelId"]);return i!=null&&u(t,["deployedModelId"],i),t}function LR(e){let t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function PR(e){let t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);let i=a(e,["args"]);i!=null&&u(t,["args"],i);let o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function GR(e){let t={},n=a(e,["allowedFunctionNames"]);n!=null&&u(t,["allowedFunctionNames"],n);let i=a(e,["mode"]);if(i!=null&&u(t,["mode"],i),a(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qR(e){let t={},n=a(e,["description"]);n!=null&&u(t,["description"],n);let i=a(e,["name"]);i!=null&&u(t,["name"],i);let o=a(e,["parameters"]);o!=null&&u(t,["parameters"],o);let l=a(e,["parametersJsonSchema"]);l!=null&&u(t,["parametersJsonSchema"],l);let s=a(e,["response"]);s!=null&&u(t,["response"],s);let r=a(e,["responseJsonSchema"]);if(r!=null&&u(t,["responseJsonSchema"],r),a(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function HR(e,t,n){let i={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],Tr(ze(o)));let l=a(t,["temperature"]);l!=null&&u(i,["temperature"],l);let s=a(t,["topP"]);s!=null&&u(i,["topP"],s);let r=a(t,["topK"]);r!=null&&u(i,["topK"],r);let c=a(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);let f=a(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);let d=a(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);let m=a(t,["responseLogprobs"]);m!=null&&u(i,["responseLogprobs"],m);let p=a(t,["logprobs"]);p!=null&&u(i,["logprobs"],p);let h=a(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);let T=a(t,["frequencyPenalty"]);T!=null&&u(i,["frequencyPenalty"],T);let S=a(t,["seed"]);S!=null&&u(i,["seed"],S);let _=a(t,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);let g=a(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],Od(g));let y=a(t,["responseJsonSchema"]);if(y!=null&&u(i,["responseJsonSchema"],y),a(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let v=a(t,["safetySettings"]);if(n!==void 0&&v!=null){let se=v;Array.isArray(se)&&(se=se.map(gt=>M1(gt))),u(n,["safetySettings"],se)}let E=a(t,["tools"]);if(n!==void 0&&E!=null){let se=Go(E);Array.isArray(se)&&(se=se.map(gt=>P1(Po(gt)))),u(n,["tools"],se)}let A=a(t,["toolConfig"]);if(n!==void 0&&A!=null&&u(n,["toolConfig"],L1(A)),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let w=a(t,["cachedContent"]);n!==void 0&&w!=null&&u(n,["cachedContent"],_n(e,w));let x=a(t,["responseModalities"]);x!=null&&u(i,["responseModalities"],x);let b=a(t,["mediaResolution"]);b!=null&&u(i,["mediaResolution"],b);let R=a(t,["speechConfig"]);if(R!=null&&u(i,["speechConfig"],Fd(R)),a(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let M=a(t,["thinkingConfig"]);M!=null&&u(i,["thinkingConfig"],M);let F=a(t,["imageConfig"]);F!=null&&u(i,["imageConfig"],d1(F));let $e=a(t,["enableEnhancedCivicAnswers"]);if($e!=null&&u(i,["enableEnhancedCivicAnswers"],$e),a(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function VR(e,t,n){let i={},o=a(t,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],ze(o));let l=a(t,["temperature"]);l!=null&&u(i,["temperature"],l);let s=a(t,["topP"]);s!=null&&u(i,["topP"],s);let r=a(t,["topK"]);r!=null&&u(i,["topK"],r);let c=a(t,["candidateCount"]);c!=null&&u(i,["candidateCount"],c);let f=a(t,["maxOutputTokens"]);f!=null&&u(i,["maxOutputTokens"],f);let d=a(t,["stopSequences"]);d!=null&&u(i,["stopSequences"],d);let m=a(t,["responseLogprobs"]);m!=null&&u(i,["responseLogprobs"],m);let p=a(t,["logprobs"]);p!=null&&u(i,["logprobs"],p);let h=a(t,["presencePenalty"]);h!=null&&u(i,["presencePenalty"],h);let T=a(t,["frequencyPenalty"]);T!=null&&u(i,["frequencyPenalty"],T);let S=a(t,["seed"]);S!=null&&u(i,["seed"],S);let _=a(t,["responseMimeType"]);_!=null&&u(i,["responseMimeType"],_);let g=a(t,["responseSchema"]);g!=null&&u(i,["responseSchema"],Od(g));let y=a(t,["responseJsonSchema"]);y!=null&&u(i,["responseJsonSchema"],y);let v=a(t,["routingConfig"]);v!=null&&u(i,["routingConfig"],v);let E=a(t,["modelSelectionConfig"]);E!=null&&u(i,["modelConfig"],E);let A=a(t,["safetySettings"]);if(n!==void 0&&A!=null){let bt=A;Array.isArray(bt)&&(bt=bt.map(Bo=>Bo)),u(n,["safetySettings"],bt)}let w=a(t,["tools"]);if(n!==void 0&&w!=null){let bt=Go(w);Array.isArray(bt)&&(bt=bt.map(Bo=>vT(Po(Bo)))),u(n,["tools"],bt)}let x=a(t,["toolConfig"]);n!==void 0&&x!=null&&u(n,["toolConfig"],x);let b=a(t,["labels"]);n!==void 0&&b!=null&&u(n,["labels"],b);let R=a(t,["cachedContent"]);n!==void 0&&R!=null&&u(n,["cachedContent"],_n(e,R));let M=a(t,["responseModalities"]);M!=null&&u(i,["responseModalities"],M);let F=a(t,["mediaResolution"]);F!=null&&u(i,["mediaResolution"],F);let $e=a(t,["speechConfig"]);$e!=null&&u(i,["speechConfig"],Fd($e));let se=a(t,["audioTimestamp"]);se!=null&&u(i,["audioTimestamp"],se);let gt=a(t,["thinkingConfig"]);gt!=null&&u(i,["thinkingConfig"],gt);let zo=a(t,["imageConfig"]);if(zo!=null&&u(i,["imageConfig"],p1(zo)),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let ss=a(t,["modelArmorConfig"]);return n!==void 0&&ss!=null&&u(n,["modelArmorConfig"],ss),i}function P0(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let s=Mt(o);Array.isArray(s)&&(s=s.map(r=>Tr(r))),u(n,["contents"],s)}let l=a(t,["config"]);return l!=null&&u(n,["generationConfig"],HR(e,l,n)),n}function G0(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["contents"]);if(o!=null){let s=Mt(o);Array.isArray(s)&&(s=s.map(r=>r)),u(n,["contents"],s)}let l=a(t,["config"]);return l!=null&&u(n,["generationConfig"],VR(e,l,n)),n}function q0(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>rR(f))),u(t,["candidates"],c)}let o=a(e,["modelVersion"]);o!=null&&u(t,["modelVersion"],o);let l=a(e,["promptFeedback"]);l!=null&&u(t,["promptFeedback"],l);let s=a(e,["responseId"]);s!=null&&u(t,["responseId"],s);let r=a(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function H0(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),u(t,["candidates"],f)}let o=a(e,["createTime"]);o!=null&&u(t,["createTime"],o);let l=a(e,["modelVersion"]);l!=null&&u(t,["modelVersion"],l);let s=a(e,["promptFeedback"]);s!=null&&u(t,["promptFeedback"],s);let r=a(e,["responseId"]);r!=null&&u(t,["responseId"],r);let c=a(e,["usageMetadata"]);return c!=null&&u(t,["usageMetadata"],c),t}function zR(e,t){let n={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);let o=a(e,["aspectRatio"]);t!==void 0&&o!=null&&u(t,["parameters","aspectRatio"],o);let l=a(e,["guidanceScale"]);if(t!==void 0&&l!=null&&u(t,["parameters","guidanceScale"],l),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&u(t,["parameters","safetySetting"],s);let r=a(e,["personGeneration"]);t!==void 0&&r!=null&&u(t,["parameters","personGeneration"],r);let c=a(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&u(t,["parameters","includeSafetyAttributes"],c);let f=a(e,["includeRaiReason"]);t!==void 0&&f!=null&&u(t,["parameters","includeRaiReason"],f);let d=a(e,["language"]);t!==void 0&&d!=null&&u(t,["parameters","language"],d);let m=a(e,["outputMimeType"]);t!==void 0&&m!=null&&u(t,["parameters","outputOptions","mimeType"],m);let p=a(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&u(t,["parameters","outputOptions","compressionQuality"],p),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let h=a(e,["imageSize"]);if(t!==void 0&&h!=null&&u(t,["parameters","sampleImageSize"],h),a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function BR(e,t){let n={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);let o=a(e,["negativePrompt"]);t!==void 0&&o!=null&&u(t,["parameters","negativePrompt"],o);let l=a(e,["numberOfImages"]);t!==void 0&&l!=null&&u(t,["parameters","sampleCount"],l);let s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&u(t,["parameters","aspectRatio"],s);let r=a(e,["guidanceScale"]);t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r);let c=a(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);let f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);let d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);let m=a(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&u(t,["parameters","includeSafetyAttributes"],m);let p=a(e,["includeRaiReason"]);t!==void 0&&p!=null&&u(t,["parameters","includeRaiReason"],p);let h=a(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);let T=a(e,["outputMimeType"]);t!==void 0&&T!=null&&u(t,["parameters","outputOptions","mimeType"],T);let S=a(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&u(t,["parameters","outputOptions","compressionQuality"],S);let _=a(e,["addWatermark"]);t!==void 0&&_!=null&&u(t,["parameters","addWatermark"],_);let g=a(e,["labels"]);t!==void 0&&g!=null&&u(t,["labels"],g);let y=a(e,["imageSize"]);t!==void 0&&y!=null&&u(t,["parameters","sampleImageSize"],y);let v=a(e,["enhancePrompt"]);return t!==void 0&&v!=null&&u(t,["parameters","enhancePrompt"],v),n}function OR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let l=a(t,["config"]);return l!=null&&zR(l,n),n}function FR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let l=a(t,["config"]);return l!=null&&BR(l,n),n}function YR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>i1(s))),u(t,["generatedImages"],l)}let o=a(e,["positivePromptSafetyAttributes"]);return o!=null&&u(t,["positivePromptSafetyAttributes"],gT(o)),t}function JR(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>Sr(s))),u(t,["generatedImages"],l)}let o=a(e,["positivePromptSafetyAttributes"]);return o!=null&&u(t,["positivePromptSafetyAttributes"],yT(o)),t}function KR(e,t){let n={},i=a(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let o=a(e,["durationSeconds"]);if(t!==void 0&&o!=null&&u(t,["parameters","durationSeconds"],o),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let l=a(e,["aspectRatio"]);t!==void 0&&l!=null&&u(t,["parameters","aspectRatio"],l);let s=a(e,["resolution"]);t!==void 0&&s!=null&&u(t,["parameters","resolution"],s);let r=a(e,["personGeneration"]);if(t!==void 0&&r!=null&&u(t,["parameters","personGeneration"],r),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=a(e,["negativePrompt"]);t!==void 0&&c!=null&&u(t,["parameters","negativePrompt"],c);let f=a(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&u(t,["parameters","enhancePrompt"],f),a(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let d=a(e,["lastFrame"]);t!==void 0&&d!=null&&u(t,["instances[0]","lastFrame"],Er(d));let m=a(e,["referenceImages"]);if(t!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>X1(h))),u(t,["instances[0]","referenceImages"],p)}if(a(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $R(e,t){let n={},i=a(e,["numberOfVideos"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);let o=a(e,["outputGcsUri"]);t!==void 0&&o!=null&&u(t,["parameters","storageUri"],o);let l=a(e,["fps"]);t!==void 0&&l!=null&&u(t,["parameters","fps"],l);let s=a(e,["durationSeconds"]);t!==void 0&&s!=null&&u(t,["parameters","durationSeconds"],s);let r=a(e,["seed"]);t!==void 0&&r!=null&&u(t,["parameters","seed"],r);let c=a(e,["aspectRatio"]);t!==void 0&&c!=null&&u(t,["parameters","aspectRatio"],c);let f=a(e,["resolution"]);t!==void 0&&f!=null&&u(t,["parameters","resolution"],f);let d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);let m=a(e,["pubsubTopic"]);t!==void 0&&m!=null&&u(t,["parameters","pubsubTopic"],m);let p=a(e,["negativePrompt"]);t!==void 0&&p!=null&&u(t,["parameters","negativePrompt"],p);let h=a(e,["enhancePrompt"]);t!==void 0&&h!=null&&u(t,["parameters","enhancePrompt"],h);let T=a(e,["generateAudio"]);t!==void 0&&T!=null&&u(t,["parameters","generateAudio"],T);let S=a(e,["lastFrame"]);t!==void 0&&S!=null&&u(t,["instances[0]","lastFrame"],qt(S));let _=a(e,["referenceImages"]);if(t!==void 0&&_!=null){let v=_;Array.isArray(v)&&(v=v.map(E=>Q1(E))),u(t,["instances[0]","referenceImages"],v)}let g=a(e,["mask"]);t!==void 0&&g!=null&&u(t,["instances[0]","mask"],$1(g));let y=a(e,["compressionQuality"]);return t!==void 0&&y!=null&&u(t,["parameters","compressionQuality"],y),n}function XR(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response","generateVideoResponse"]);return s!=null&&u(t,["response"],jR(s)),t}function QR(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response"]);return s!=null&&u(t,["response"],e1(s)),t}function ZR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let l=a(t,["image"]);l!=null&&u(n,["instances[0]","image"],Er(l));let s=a(t,["video"]);s!=null&&u(n,["instances[0]","video"],TT(s));let r=a(t,["source"]);r!=null&&t1(r,n);let c=a(t,["config"]);return c!=null&&KR(c,n),n}function WR(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let l=a(t,["image"]);l!=null&&u(n,["instances[0]","image"],qt(l));let s=a(t,["video"]);s!=null&&u(n,["instances[0]","video"],ST(s));let r=a(t,["source"]);r!=null&&n1(r,n);let c=a(t,["config"]);return c!=null&&$R(c,n),n}function jR(e){let t={},n=a(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>l1(s))),u(t,["generatedVideos"],l)}let i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function e1(e){let t={},n=a(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(s=>s1(s))),u(t,["generatedVideos"],l)}let i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);let o=a(e,["raiMediaFilteredReasons"]);return o!=null&&u(t,["raiMediaFilteredReasons"],o),t}function t1(e,t){let n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=a(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],Er(o));let l=a(e,["video"]);return t!==void 0&&l!=null&&u(t,["instances[0]","video"],TT(l)),n}function n1(e,t){let n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=a(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],qt(o));let l=a(e,["video"]);return t!==void 0&&l!=null&&u(t,["instances[0]","video"],ST(l)),n}function i1(e){let t={},n=a(e,["_self"]);n!=null&&u(t,["image"],m1(n));let i=a(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);let o=a(e,["_self"]);return o!=null&&u(t,["safetyAttributes"],gT(o)),t}function Sr(e){let t={},n=a(e,["_self"]);n!=null&&u(t,["image"],hT(n));let i=a(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);let o=a(e,["_self"]);o!=null&&u(t,["safetyAttributes"],yT(o));let l=a(e,["prompt"]);return l!=null&&u(t,["enhancedPrompt"],l),t}function o1(e){let t={},n=a(e,["_self"]);n!=null&&u(t,["mask"],hT(n));let i=a(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(t,["labels"],o)}return t}function l1(e){let t={},n=a(e,["video"]);return n!=null&&u(t,["video"],J1(n)),t}function s1(e){let t={},n=a(e,["_self"]);return n!=null&&u(t,["video"],K1(n)),t}function a1(e){let t={},n=a(e,["modelSelectionConfig"]);n!=null&&u(t,["modelConfig"],n);let i=a(e,["responseJsonSchema"]);i!=null&&u(t,["responseJsonSchema"],i);let o=a(e,["audioTimestamp"]);o!=null&&u(t,["audioTimestamp"],o);let l=a(e,["candidateCount"]);l!=null&&u(t,["candidateCount"],l);let s=a(e,["enableAffectiveDialog"]);s!=null&&u(t,["enableAffectiveDialog"],s);let r=a(e,["frequencyPenalty"]);r!=null&&u(t,["frequencyPenalty"],r);let c=a(e,["logprobs"]);c!=null&&u(t,["logprobs"],c);let f=a(e,["maxOutputTokens"]);f!=null&&u(t,["maxOutputTokens"],f);let d=a(e,["mediaResolution"]);d!=null&&u(t,["mediaResolution"],d);let m=a(e,["presencePenalty"]);m!=null&&u(t,["presencePenalty"],m);let p=a(e,["responseLogprobs"]);p!=null&&u(t,["responseLogprobs"],p);let h=a(e,["responseMimeType"]);h!=null&&u(t,["responseMimeType"],h);let T=a(e,["responseModalities"]);T!=null&&u(t,["responseModalities"],T);let S=a(e,["responseSchema"]);S!=null&&u(t,["responseSchema"],S);let _=a(e,["routingConfig"]);_!=null&&u(t,["routingConfig"],_);let g=a(e,["seed"]);g!=null&&u(t,["seed"],g);let y=a(e,["speechConfig"]);y!=null&&u(t,["speechConfig"],y);let v=a(e,["stopSequences"]);v!=null&&u(t,["stopSequences"],v);let E=a(e,["temperature"]);E!=null&&u(t,["temperature"],E);let A=a(e,["thinkingConfig"]);A!=null&&u(t,["thinkingConfig"],A);let w=a(e,["topK"]);w!=null&&u(t,["topK"],w);let x=a(e,["topP"]);if(x!=null&&u(t,["topP"],x),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function r1(e,t){let n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function u1(e,t){let n={},i=a(t,["model"]);return i!=null&&u(n,["_url","name"],K(e,i)),n}function c1(e){let t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function f1(e){let t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function d1(e){let t={},n=a(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);let i=a(e,["imageSize"]);if(i!=null&&u(t,["imageSize"],i),a(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function p1(e){let t={},n=a(e,["aspectRatio"]);n!=null&&u(t,["aspectRatio"],n);let i=a(e,["imageSize"]);i!=null&&u(t,["imageSize"],i);let o=a(e,["personGeneration"]);o!=null&&u(t,["personGeneration"],o);let l=a(e,["outputMimeType"]);l!=null&&u(t,["imageOutputOptions","mimeType"],l);let s=a(e,["outputCompressionQuality"]);return s!=null&&u(t,["imageOutputOptions","compressionQuality"],s),t}function m1(e){let t={},n=a(e,["bytesBase64Encoded"]);n!=null&&u(t,["imageBytes"],ni(n));let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function hT(e){let t={},n=a(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);let i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["imageBytes"],ni(i));let o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function Er(e){let t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=a(e,["imageBytes"]);n!=null&&u(t,["bytesBase64Encoded"],ni(n));let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function qt(e){let t={},n=a(e,["gcsUri"]);n!=null&&u(t,["gcsUri"],n);let i=a(e,["imageBytes"]);i!=null&&u(t,["bytesBase64Encoded"],ni(i));let o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function h1(e,t,n){let i={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);let l=a(t,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);let s=a(t,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);let r=a(t,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],rT(e,r)),i}function g1(e,t,n){let i={},o=a(t,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);let l=a(t,["pageToken"]);n!==void 0&&l!=null&&u(n,["_query","pageToken"],l);let s=a(t,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);let r=a(t,["queryBase"]);return n!==void 0&&r!=null&&u(n,["_url","models_url"],rT(e,r)),i}function y1(e,t){let n={},i=a(t,["config"]);return i!=null&&h1(e,i,n),n}function v1(e,t){let n={},i=a(t,["config"]);return i!=null&&g1(e,i,n),n}function T1(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["_self"]);if(o!=null){let l=uT(o);Array.isArray(l)&&(l=l.map(s=>gd(s))),u(t,["models"],l)}return t}function S1(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["_self"]);if(o!=null){let l=uT(o);Array.isArray(l)&&(l=l.map(s=>yd(s))),u(t,["models"],l)}return t}function E1(e){let t={},n=a(e,["maskMode"]);n!=null&&u(t,["maskMode"],n);let i=a(e,["segmentationClasses"]);i!=null&&u(t,["maskClasses"],i);let o=a(e,["maskDilation"]);return o!=null&&u(t,["dilation"],o),t}function gd(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);let o=a(e,["description"]);o!=null&&u(t,["description"],o);let l=a(e,["version"]);l!=null&&u(t,["version"],l);let s=a(e,["_self"]);s!=null&&u(t,["tunedModelInfo"],G1(s));let r=a(e,["inputTokenLimit"]);r!=null&&u(t,["inputTokenLimit"],r);let c=a(e,["outputTokenLimit"]);c!=null&&u(t,["outputTokenLimit"],c);let f=a(e,["supportedGenerationMethods"]);f!=null&&u(t,["supportedActions"],f);let d=a(e,["temperature"]);d!=null&&u(t,["temperature"],d);let m=a(e,["maxTemperature"]);m!=null&&u(t,["maxTemperature"],m);let p=a(e,["topP"]);p!=null&&u(t,["topP"],p);let h=a(e,["topK"]);h!=null&&u(t,["topK"],h);let T=a(e,["thinking"]);return T!=null&&u(t,["thinking"],T),t}function yd(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);let o=a(e,["description"]);o!=null&&u(t,["description"],o);let l=a(e,["versionId"]);l!=null&&u(t,["version"],l);let s=a(e,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>kR(p))),u(t,["endpoints"],m)}let r=a(e,["labels"]);r!=null&&u(t,["labels"],r);let c=a(e,["_self"]);c!=null&&u(t,["tunedModelInfo"],q1(c));let f=a(e,["defaultCheckpointId"]);f!=null&&u(t,["defaultCheckpointId"],f);let d=a(e,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>p)),u(t,["checkpoints"],m)}return t}function _1(e){let t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let l=a(e,["fileData"]);l!=null&&u(t,["fileData"],LR(l));let s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],PR(s));let r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);let c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],aR(c));let f=a(e,["text"]);f!=null&&u(t,["text"],f);let d=a(e,["thought"]);d!=null&&u(t,["thought"],d);let m=a(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);let p=a(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function C1(e){let t={},n=a(e,["productImage"]);return n!=null&&u(t,["image"],qt(n)),t}function A1(e,t){let n={},i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);let o=a(e,["baseSteps"]);t!==void 0&&o!=null&&u(t,["parameters","baseSteps"],o);let l=a(e,["outputGcsUri"]);t!==void 0&&l!=null&&u(t,["parameters","storageUri"],l);let s=a(e,["seed"]);t!==void 0&&s!=null&&u(t,["parameters","seed"],s);let r=a(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&u(t,["parameters","safetySetting"],r);let c=a(e,["personGeneration"]);t!==void 0&&c!=null&&u(t,["parameters","personGeneration"],c);let f=a(e,["addWatermark"]);t!==void 0&&f!=null&&u(t,["parameters","addWatermark"],f);let d=a(e,["outputMimeType"]);t!==void 0&&d!=null&&u(t,["parameters","outputOptions","mimeType"],d);let m=a(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&u(t,["parameters","outputOptions","compressionQuality"],m);let p=a(e,["enhancePrompt"]);t!==void 0&&p!=null&&u(t,["parameters","enhancePrompt"],p);let h=a(e,["labels"]);return t!==void 0&&h!=null&&u(t,["labels"],h),n}function x1(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["source"]);o!=null&&N1(o,n);let l=a(t,["config"]);return l!=null&&A1(l,n),n}function R1(e){let t={},n=a(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Sr(o))),u(t,["generatedImages"],i)}return t}function N1(e,t){let n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=a(e,["personImage"]);t!==void 0&&o!=null&&u(t,["instances[0]","personImage","image"],qt(o));let l=a(e,["productImages"]);if(t!==void 0&&l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>C1(r))),u(t,["instances[0]","productImages"],s)}return n}function w1(e){let t={},n=a(e,["referenceImage"]);n!=null&&u(t,["referenceImage"],qt(n));let i=a(e,["referenceId"]);i!=null&&u(t,["referenceId"],i);let o=a(e,["referenceType"]);o!=null&&u(t,["referenceType"],o);let l=a(e,["maskImageConfig"]);l!=null&&u(t,["maskImageConfig"],E1(l));let s=a(e,["controlImageConfig"]);s!=null&&u(t,["controlImageConfig"],mR(s));let r=a(e,["styleImageConfig"]);r!=null&&u(t,["styleImageConfig"],r);let c=a(e,["subjectImageConfig"]);return c!=null&&u(t,["subjectImageConfig"],c),t}function gT(e){let t={},n=a(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);let i=a(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);let o=a(e,["contentType"]);return o!=null&&u(t,["contentType"],o),t}function yT(e){let t={},n=a(e,["safetyAttributes","categories"]);n!=null&&u(t,["categories"],n);let i=a(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);let o=a(e,["contentType"]);return o!=null&&u(t,["contentType"],o),t}function M1(e){let t={},n=a(e,["category"]);if(n!=null&&u(t,["category"],n),a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=a(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function b1(e){let t={},n=a(e,["image"]);return n!=null&&u(t,["image"],qt(n)),t}function I1(e,t){let n={},i=a(e,["mode"]);t!==void 0&&i!=null&&u(t,["parameters","mode"],i);let o=a(e,["maxPredictions"]);t!==void 0&&o!=null&&u(t,["parameters","maxPredictions"],o);let l=a(e,["confidenceThreshold"]);t!==void 0&&l!=null&&u(t,["parameters","confidenceThreshold"],l);let s=a(e,["maskDilation"]);t!==void 0&&s!=null&&u(t,["parameters","maskDilation"],s);let r=a(e,["binaryColorThreshold"]);t!==void 0&&r!=null&&u(t,["parameters","binaryColorThreshold"],r);let c=a(e,["labels"]);return t!==void 0&&c!=null&&u(t,["labels"],c),n}function D1(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["source"]);o!=null&&k1(o,n);let l=a(t,["config"]);return l!=null&&I1(l,n),n}function U1(e){let t={},n=a(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o1(o))),u(t,["generatedMasks"],i)}return t}function k1(e,t){let n={},i=a(e,["prompt"]);t!==void 0&&i!=null&&u(t,["instances[0]","prompt"],i);let o=a(e,["image"]);t!==void 0&&o!=null&&u(t,["instances[0]","image"],qt(o));let l=a(e,["scribbleImage"]);return t!==void 0&&l!=null&&u(t,["instances[0]","scribble"],b1(l)),n}function L1(e){let t={},n=a(e,["retrievalConfig"]);n!=null&&u(t,["retrievalConfig"],n);let i=a(e,["functionCallingConfig"]);return i!=null&&u(t,["functionCallingConfig"],GR(i)),t}function P1(e){let t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=a(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=a(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(e,["functionDeclarations"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}let s=a(e,["googleMaps"]);s!=null&&u(t,["googleMaps"],c1(s));let r=a(e,["googleSearch"]);r!=null&&u(t,["googleSearch"],f1(r));let c=a(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function vT(e){let t={},n=a(e,["retrieval"]);n!=null&&u(t,["retrieval"],n);let i=a(e,["computerUse"]);if(i!=null&&u(t,["computerUse"],i),a(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let o=a(e,["codeExecution"]);o!=null&&u(t,["codeExecution"],o);let l=a(e,["enterpriseWebSearch"]);l!=null&&u(t,["enterpriseWebSearch"],l);let s=a(e,["functionDeclarations"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(p=>qR(p))),u(t,["functionDeclarations"],m)}let r=a(e,["googleMaps"]);r!=null&&u(t,["googleMaps"],r);let c=a(e,["googleSearch"]);c!=null&&u(t,["googleSearch"],c);let f=a(e,["googleSearchRetrieval"]);f!=null&&u(t,["googleSearchRetrieval"],f);let d=a(e,["urlContext"]);return d!=null&&u(t,["urlContext"],d),t}function G1(e){let t={},n=a(e,["baseModel"]);n!=null&&u(t,["baseModel"],n);let i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);let o=a(e,["updateTime"]);return o!=null&&u(t,["updateTime"],o),t}function q1(e){let t={},n=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(t,["baseModel"],n);let i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);let o=a(e,["updateTime"]);return o!=null&&u(t,["updateTime"],o),t}function H1(e,t){let n={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);let o=a(e,["description"]);t!==void 0&&o!=null&&u(t,["description"],o);let l=a(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&u(t,["defaultCheckpointId"],l),n}function V1(e,t){let n={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);let o=a(e,["description"]);t!==void 0&&o!=null&&u(t,["description"],o);let l=a(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&u(t,["defaultCheckpointId"],l),n}function z1(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","name"],K(e,i));let o=a(t,["config"]);return o!=null&&H1(o,n),n}function B1(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["config"]);return o!=null&&V1(o,n),n}function O1(e,t){let n={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);let o=a(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&u(t,["parameters","safetySetting"],o);let l=a(e,["personGeneration"]);t!==void 0&&l!=null&&u(t,["parameters","personGeneration"],l);let s=a(e,["includeRaiReason"]);t!==void 0&&s!=null&&u(t,["parameters","includeRaiReason"],s);let r=a(e,["outputMimeType"]);t!==void 0&&r!=null&&u(t,["parameters","outputOptions","mimeType"],r);let c=a(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&u(t,["parameters","outputOptions","compressionQuality"],c);let f=a(e,["enhanceInputImage"]);t!==void 0&&f!=null&&u(t,["parameters","upscaleConfig","enhanceInputImage"],f);let d=a(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&u(t,["parameters","upscaleConfig","imagePreservationFactor"],d);let m=a(e,["labels"]);t!==void 0&&m!=null&&u(t,["labels"],m);let p=a(e,["numberOfImages"]);t!==void 0&&p!=null&&u(t,["parameters","sampleCount"],p);let h=a(e,["mode"]);return t!==void 0&&h!=null&&u(t,["parameters","mode"],h),n}function F1(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["_url","model"],K(e,i));let o=a(t,["image"]);o!=null&&u(n,["instances[0]","image"],qt(o));let l=a(t,["upscaleFactor"]);l!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],l);let s=a(t,["config"]);return s!=null&&O1(s,n),n}function Y1(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Sr(l))),u(t,["generatedImages"],o)}return t}function J1(e){let t={},n=a(e,["uri"]);n!=null&&u(t,["uri"],n);let i=a(e,["encodedVideo"]);i!=null&&u(t,["videoBytes"],ni(i));let o=a(e,["encoding"]);return o!=null&&u(t,["mimeType"],o),t}function K1(e){let t={},n=a(e,["gcsUri"]);n!=null&&u(t,["uri"],n);let i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],ni(i));let o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function $1(e){let t={},n=a(e,["image"]);n!=null&&u(t,["_self"],qt(n));let i=a(e,["maskMode"]);return i!=null&&u(t,["maskMode"],i),t}function X1(e){let t={},n=a(e,["image"]);n!=null&&u(t,["image"],Er(n));let i=a(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function Q1(e){let t={},n=a(e,["image"]);n!=null&&u(t,["image"],qt(n));let i=a(e,["referenceType"]);return i!=null&&u(t,["referenceType"],i),t}function TT(e){let t={},n=a(e,["uri"]);n!=null&&u(t,["uri"],n);let i=a(e,["videoBytes"]);i!=null&&u(t,["encodedVideo"],ni(i));let o=a(e,["mimeType"]);return o!=null&&u(t,["encoding"],o),t}function ST(e){let t={},n=a(e,["uri"]);n!=null&&u(t,["gcsUri"],n);let i=a(e,["videoBytes"]);i!=null&&u(t,["bytesBase64Encoded"],ni(i));let o=a(e,["mimeType"]);return o!=null&&u(t,["mimeType"],o),t}function Z1(e,t){let n={},i=a(e,["displayName"]);return t!==void 0&&i!=null&&u(t,["displayName"],i),n}function W1(e){let t={},n=a(e,["config"]);return n!=null&&Z1(n,t),t}function j1(e,t){let n={},i=a(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function eN(e){let t={},n=a(e,["name"]);n!=null&&u(t,["_url","name"],n);let i=a(e,["config"]);return i!=null&&j1(i,t),t}function tN(e){let t={},n=a(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function nN(e,t){let n={},i=a(e,["customMetadata"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["customMetadata"],l)}let o=a(e,["chunkingConfig"]);return t!==void 0&&o!=null&&u(t,["chunkingConfig"],o),n}function iN(e){let t={},n=a(e,["name"]);n!=null&&u(t,["name"],n);let i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);let o=a(e,["done"]);o!=null&&u(t,["done"],o);let l=a(e,["error"]);l!=null&&u(t,["error"],l);let s=a(e,["response"]);return s!=null&&u(t,["response"],lN(s)),t}function oN(e){let t={},n=a(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);let i=a(e,["fileName"]);i!=null&&u(t,["fileName"],i);let o=a(e,["config"]);return o!=null&&nN(o,t),t}function lN(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["parent"]);i!=null&&u(t,["parent"],i);let o=a(e,["documentName"]);return o!=null&&u(t,["documentName"],o),t}function sN(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function aN(e){let t={},n=a(e,["config"]);return n!=null&&sN(n,t),t}function rN(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["fileSearchStores"],l)}return t}function ET(e,t){let n={},i=a(e,["mimeType"]);t!==void 0&&i!=null&&u(t,["mimeType"],i);let o=a(e,["displayName"]);t!==void 0&&o!=null&&u(t,["displayName"],o);let l=a(e,["customMetadata"]);if(t!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),u(t,["customMetadata"],r)}let s=a(e,["chunkingConfig"]);return t!==void 0&&s!=null&&u(t,["chunkingConfig"],s),n}function uN(e){let t={},n=a(e,["fileSearchStoreName"]);n!=null&&u(t,["_url","file_search_store_name"],n);let i=a(e,["config"]);return i!=null&&ET(i,t),t}function cN(e){let t={},n=a(e,["sdkHttpResponse"]);return n!=null&&u(t,["sdkHttpResponse"],n),t}var fN="Content-Type",dN="X-Server-Timeout",pN="User-Agent",vd="x-goog-api-client",mN="1.38.0",hN=`google-genai-sdk/${mN}`,gN="v1beta1",yN="v1beta",Td=class{constructor(t){var n,i,o;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let r=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!r?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:gN}else{if(!this.clientOptions.apiKey)throw new Ni({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:yN,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){let o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Xf.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let i=this.shouldPrependVertexProjectPath(t,n),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(let[s,r]of Object.entries(t.queryParams))o.searchParams.append(s,String(r));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){let i=JSON.parse(JSON.stringify(t));for(let[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));let i=this.shouldPrependVertexProjectPath(t,n),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,o){if(n&&n.timeout||o){let l=new AbortController,s=l.signal;if(n.timeout&&n?.timeout>0){let r=setTimeout(()=>l.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),t.signal=s}return n&&n.extraBody!==null&&vN(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await V0(o),new Kl(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await V0(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return Lt(this,arguments,function*(){var i;let o=(i=t?.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="",r="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:f,value:d}=yield P(o.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let m=l.decode(d,{stream:!0});try{let T=JSON.parse(m);if("error"in T){let S=JSON.parse(JSON.stringify(T.error)),_=S.status,g=S.code,y=`got status: ${_}. ${JSON.stringify(T)}`;if(g>=400&&g<600)throw new Ni({message:y,status:g})}}catch(T){if(T.name==="ApiError")throw T}s+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(let _ of c){let g=s.indexOf(_);g!==-1&&(p===-1||g<p)&&(p=g,h=_.length)}if(p===-1)break;let T=s.substring(0,p);s=s.substring(p+h);let S=T.trim();if(S.startsWith(r)){let _=S.substring(r.length).trim();try{let g=new Response(_,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield P(new Kl(g))}catch(g){throw new Error(`exception parsing stream chunk ${_}. ${g}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){let t={},n=hN+" "+this.clientOptions.userAgentExtra;return t[pN]=n,t[vd]=n,t[fN]="application/json",t}async getHeadersInternal(t,n){let i=new Headers;if(t&&t.headers){for(let[o,l]of Object.entries(t.headers))i.append(o,l);t.timeout&&t.timeout>0&&i.append(dN,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;let o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);let l=this.clientOptions.uploader,s=await l.stat(t);o.sizeBytes=String(s.size);let r=(i=n?.mimeType)!==null&&i!==void 0?i:s.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=r;let c={file:o},f=this.getFileName(t),d=N("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n?.httpOptions);return l.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var o;let l=this.clientOptions.uploader,s=await l.stat(n),r=String(s.size),c=(o=i?.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let f=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),m={};i!=null&&ET(i,m);let p=await this.fetchUploadUrl(f,r,c,d,m,i?.httpOptions);return l.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,o,l,s){var r;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};let f=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:c});if(!f||!f?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let d=(r=f?.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}};async function V0(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){let n=e.status,i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};let o=JSON.stringify(i);throw n>=400&&n<600?new Ni({message:o,status:n}):new Error(o)}}function vN(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{let l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,s){let r=Object.assign({},l);for(let c in s)if(Object.prototype.hasOwnProperty.call(s,c)){let f=s[c],d=r[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?r[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),r[c]=f)}return r}let o=i(n,t);e.body=JSON.stringify(o)}var TN="mcp_used/unknown",SN=!1;function _T(e){for(let t of e)if(EN(t)||typeof t=="object"&&"inputSchema"in t)return!0;return SN}function CT(e){var t;let n=(t=e[vd])!==null&&t!==void 0?t:"";e[vd]=(n+` ${TN}`).trimStart()}function EN(e){return e!==null&&typeof e=="object"&&e instanceof Ql}function _N(e){return Lt(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){let s=yield P(n.listTools({cursor:o}));for(let r of s.tools)yield yield P(r),l++;if(!s.nextCursor)break;o=s.nextCursor}})}var Ql=class{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ql(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;let l={},s=[];for(let d of this.mcpClients)try{for(var r=!0,c=(n=void 0,Pt(_N(d))),f;f=await c.next(),t=f.done,!t;r=!0){o=f.value,r=!1;let m=o;s.push(m);let p=m.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=d}}catch(m){n={error:m}}finally{try{!r&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),lA(this.mcpTools,this.config)}async callTool(t){await this.initialize();let n=[];for(let i of t)if(i.name in this.functionNameToMcpClient){let o=this.functionNameToMcpClient[i.name],l;this.config.timeout&&(l={timeout:this.config.timeout});let s=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}};async function CN(e,t,n){let i=new rd,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),t(i)}var Sd=class{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),s=xN(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${r}`,f=()=>{},d=new Promise(v=>{f=v}),m=t.callbacks,p=function(){f({})},h=this.apiClient,T={onopen:p,onmessage:v=>{CN(h,m.onmessage,v)},onerror:(n=m?.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=m?.onclose)!==null&&i!==void 0?i:function(v){}},S=this.webSocketFactory.create(c,AN(s),T);S.connect(),await d;let y={setup:{model:K(this.apiClient,t.model)}};return S.send(JSON.stringify(y)),new Ed(S,this.apiClient)}},Ed=class{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=Zx(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});let n=Qx(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){let n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(No.PLAY)}pause(){this.sendPlaybackControl(No.PAUSE)}stop(){this.sendPlaybackControl(No.STOP)}resetContext(){this.sendPlaybackControl(No.RESET_CONTEXT)}close(){this.conn.close()}};function AN(e){let t={};return e.forEach((n,i)=>{t[i]=n}),t}function xN(e){let t=new Headers;for(let[n,i]of Object.entries(e))t.append(n,i);return t}var RN="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function NN(e,t,n){let i=new ad,o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;let l=JSON.parse(o);if(e.isVertexAI()){let s=eR(l);Object.assign(i,s)}else Object.assign(i,l);t(i)}var _d=class{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new Sd(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,l,s,r;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),d,m=this.apiClient.getHeaders();t.config&&t.config.tools&&_T(t.config.tools)&&CT(m);let p=bN(m);if(this.apiClient.isVertexAI()){let R=this.apiClient.getProject(),M=this.apiClient.getLocation(),F=this.apiClient.getApiKey(),$e=!!R&&!!M||!!F;this.apiClient.getCustomBaseUrl()&&!$e?d=c:(d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d))}else{let R=this.apiClient.getApiKey(),M="BidiGenerateContent",F="key";R?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",F="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${M}?${F}=${R}`}let h=()=>{},T=new Promise(R=>{h=R}),S=t.callbacks,_=function(){var R;(R=S?.onopen)===null||R===void 0||R.call(S),h({})},g=this.apiClient,y={onopen:_,onmessage:R=>{NN(g,S.onmessage,R)},onerror:(n=S?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=S?.onclose)!==null&&i!==void 0?i:function(R){}},v=this.webSocketFactory.create(d,MN(p),y);v.connect(),await T;let E=K(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){let R=this.apiClient.getProject(),M=this.apiClient.getLocation();R&&M&&(E=`projects/${R}/locations/${M}/`+E)}let A={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bo.AUDIO]}:t.config.responseModalities=[bo.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let w=(r=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[],x=[];for(let R of w)if(this.isCallableTool(R)){let M=R;x.push(await M.tool())}else x.push(R);x.length>0&&(t.config.tools=x);let b={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=Xx(this.apiClient,b):A=$x(this.apiClient,b),delete A.config,v.send(JSON.stringify(A)),new Cd(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}},wN={turnComplete:!0},Cd=class{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Mt(n.turns),t.isVertexAI()||(i=i.map(o=>Tr(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(let l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(RN)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},wN),t);let n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:jx(t)}:n={realtimeInput:Wx(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function MN(e){let t={};return e.forEach((n,i)=>{t[i]=n}),t}function bN(e){let t=new Headers;for(let[n,i]of Object.entries(e))t.append(n,i);return t}var z0=10;function B0(e){var t,n,i;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(let s of(n=e?.tools)!==null&&n!==void 0?n:[])if(Mo(s)){o=!0;break}if(!o)return!0;let l=(i=e?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Mo(e){return"callTool"in e&&typeof e.callTool=="function"}function IN(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Mo(o)))!==null&&i!==void 0?i:!1}function O0(e){var t;let n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,o)=>{if(Mo(i))return;let l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function F0(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}var Ad=class extends Gt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,l,s,r;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!IN(n)||B0(n.config))return await this.generateContentInternal(c);let f=O0(n);if(f.length>0){let S=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let d,m,p=Mt(c.contents),h=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:z0,T=0;for(;T<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){let S=d.candidates[0].content,_=[];for(let g of(r=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&r!==void 0?r:[])if(Mo(g)){let v=await g.callTool(d.functionCalls);_.push(...v)}T++,m={role:"user",parts:_},c.contents=Mt(c.contents),c.contents.push(S),c.contents.push(m),F0(c.config)&&(p.push(S),p.push(m))}return F0(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var i,o,l,s,r;if(this.maybeMoveToResponseJsonSchem(n),B0(n.config)){let m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}let c=O0(n);if(c.length>0){let m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let f=(l=(o=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,d=(r=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l,s=[];if(i?.generatedImages)for(let c of i.generatedImages)c&&c?.safetyAttributes&&((o=c?.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c?.safetyAttributes:s.push(c);let r;return l?r={generatedImages:s,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new En(Sn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(s),s)},this.editImage=async n=>{let i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));let o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,s,r,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(((i=n.video)===null||i===void 0?void 0:i.uri)&&((o=n.video)===null||o===void 0?void 0:o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:((s=(l=n.source)===null||l===void 0?void 0:l.video)===null||s===void 0?void 0:s.uri)&&((c=(r=n.source)===null||r===void 0?void 0:r.video)===null||c===void 0?void 0:c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,o;let l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;let s=await Promise.all(l.map(async c=>Mo(c)?await c.tool():c)),r={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(r.config.tools=s,t.config&&t.config.tools&&_T(t.config.tools)){let c=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{},f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),CT(f),r.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(t){var n,i,o;let l=new Map;for(let s of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Mo(s)){let r=s,c=await r.tool();for(let f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,r)}}return l}async processAfcStream(t){var n,i,o;let l=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:z0,s=!1,r=0,c=await this.initAfcToolsMap(t);return function(f,d,m){return Lt(this,arguments,function*(){for(var p,h,T,S,_,g;r<l;){s&&(r++,s=!1);let A=yield P(f.processParamsMaybeAddMcpUsage(m)),w=yield P(f.generateContentStreamInternal(A)),x=[],b=[];try{for(var y=!0,v=(h=void 0,Pt(w)),E;E=yield P(v.next()),p=E.done,!p;y=!0){S=E.value,y=!1;let R=S;if(yield yield P(R),R.candidates&&((_=R.candidates[0])===null||_===void 0?void 0:_.content)){b.push(R.candidates[0].content);for(let M of(g=R.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(r<l&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){let F=yield P(d.get(M.functionCall.name).callTool([M.functionCall]));x.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(R){h={error:R}}finally{try{!y&&!p&&(T=v.return)&&(yield P(T.call(v)))}finally{if(h)throw h.error}}if(x.length>0){s=!0;let R=new Ri;R.candidates=[{content:{role:"user",parts:x}}],yield yield P(R);let M=[];M.push(...b),M.push({role:"user",parts:x});let F=Mt(m.contents).concat(M);m.contents=F}else break}})}(this,c,t)}async generateContentInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=G0(this.apiClient,t);return r=N("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=H0(d),p=new Ri;return Object.assign(p,m),p})}else{let f=P0(this.apiClient,t);return r=N("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=q0(d),p=new Ri;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=G0(this.apiClient,t);return r=N("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(m){return Lt(this,arguments,function*(){var p,h,T,S;try{for(var _=!0,g=Pt(m),y;y=yield P(g.next()),p=y.done,!p;_=!0){S=y.value,_=!1;let v=S,E=H0(yield P(v.json()));E.sdkHttpResponse={headers:v.headers};let A=new Ri;Object.assign(A,E),yield yield P(A)}}catch(v){h={error:v}}finally{try{!_&&!p&&(T=g.return)&&(yield P(T.call(g)))}finally{if(h)throw h.error}}})})}else{let f=P0(this.apiClient,t);return r=N("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),s.then(function(m){return Lt(this,arguments,function*(){var p,h,T,S;try{for(var _=!0,g=Pt(m),y;y=yield P(g.next()),p=y.done,!p;_=!0){S=y.value,_=!1;let v=S,E=q0(yield P(v.json()));E.sdkHttpResponse={headers:v.headers};let A=new Ri;Object.assign(A,E),yield yield P(A)}}catch(v){h={error:v}}finally{try{!_&&!p&&(T=g.return)&&(yield P(T.call(g)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=IR(this.apiClient,t);return r=N("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=UR(d),p=new Ka;return Object.assign(p,m),p})}else{let f=bR(this.apiClient,t);return r=N("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=DR(d),p=new Ka;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=FR(this.apiClient,t);return r=N("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=JR(d),p=new $a;return Object.assign(p,m),p})}else{let f=OR(this.apiClient,t);return r=N("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=YR(d),p=new $a;return Object.assign(p,m),p})}}async editImageInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=RR(this.apiClient,t);return l=N("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=NR(c),d=new Qf;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=F1(this.apiClient,t);return l=N("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=Y1(c),d=new Zf;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=x1(this.apiClient,t);return l=N("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=R1(c),d=new Wf;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=D1(this.apiClient,t);return l=N("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=U1(c),d=new jf;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=u1(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>yd(d))}else{let f=r1(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>gd(d))}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=v1(this.apiClient,t);return r=N("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=S1(d),p=new Xa;return Object.assign(p,m),p})}else{let f=y1(this.apiClient,t);return r=N("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=T1(d),p=new Xa;return Object.assign(p,m),p})}}async update(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=B1(this.apiClient,t);return r=N("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>yd(d))}else{let f=z1(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>gd(d))}}async delete(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=_R(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=AR(d),p=new Qa;return Object.assign(p,m),p})}else{let f=ER(this.apiClient,t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=CR(d),p=new Qa;return Object.assign(p,m),p})}}async countTokens(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=vR(this.apiClient,t);return r=N("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=SR(d),p=new Za;return Object.assign(p,m),p})}else{let f=yR(this.apiClient,t);return r=N("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=TR(d),p=new Za;return Object.assign(p,m),p})}}async computeTokens(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=cR(this.apiClient,t);return l=N("{model}:computeTokens",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{let f=fR(c),d=new ed;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=WR(this.apiClient,t);return r=N("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s.then(d=>{let m=QR(d),p=new Io;return Object.assign(p,m),p})}else{let f=ZR(this.apiClient,t);return r=N("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s.then(d=>{let m=XR(d),p=new Io;return Object.assign(p,m),p})}}};var xd=class extends Gt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){let n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],l;i&&"httpOptions"in i&&(l=i.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){let n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],l;i&&"httpOptions"in i&&(l=i.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=JC(t);return r=N("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),s}else{let f=YC(t);return r=N("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=qC(t);return l=N("{resourceName}:fetchPredictOperation",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}};function DN(e){let t={},n=a(e,["data"]);if(n!=null&&u(t,["data"],n),a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function UN(e){let t={},n=a(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>BN(l))),u(t,["parts"],o)}let i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function kN(e,t,n){let i={},o=a(t,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);let l=a(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&u(n,["newSessionExpireTime"],l);let s=a(t,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);let r=a(t,["liveConnectConstraints"]);n!==void 0&&r!=null&&u(n,["bidiGenerateContentSetup"],zN(e,r));let c=a(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),i}function LN(e,t){let n={},i=a(t,["config"]);return i!=null&&u(n,["config"],kN(e,i,n)),n}function PN(e){let t={};if(a(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(e,["fileUri"]);n!=null&&u(t,["fileUri"],n);let i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function GN(e){let t={},n=a(e,["id"]);n!=null&&u(t,["id"],n);let i=a(e,["args"]);i!=null&&u(t,["args"],i);let o=a(e,["name"]);if(o!=null&&u(t,["name"],o),a(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qN(e){let t={};if(a(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(e,["enableWidget"]);return n!=null&&u(t,["enableWidget"],n),t}function HN(e){let t={};if(a(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(e,["timeRangeFilter"]);return n!=null&&u(t,["timeRangeFilter"],n),t}function VN(e,t){let n={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);let o=a(e,["responseModalities"]);t!==void 0&&o!=null&&u(t,["setup","generationConfig","responseModalities"],o);let l=a(e,["temperature"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","temperature"],l);let s=a(e,["topP"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","topP"],s);let r=a(e,["topK"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","topK"],r);let c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);let f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);let d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","seed"],d);let m=a(e,["speechConfig"]);t!==void 0&&m!=null&&u(t,["setup","generationConfig","speechConfig"],Yd(m));let p=a(e,["thinkingConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","thinkingConfig"],p);let h=a(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","enableAffectiveDialog"],h);let T=a(e,["systemInstruction"]);t!==void 0&&T!=null&&u(t,["setup","systemInstruction"],UN(ze(T)));let S=a(e,["tools"]);if(t!==void 0&&S!=null){let w=Go(S);Array.isArray(w)&&(w=w.map(x=>FN(Po(x)))),u(t,["setup","tools"],w)}let _=a(e,["sessionResumption"]);t!==void 0&&_!=null&&u(t,["setup","sessionResumption"],ON(_));let g=a(e,["inputAudioTranscription"]);t!==void 0&&g!=null&&u(t,["setup","inputAudioTranscription"],g);let y=a(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&u(t,["setup","outputAudioTranscription"],y);let v=a(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&u(t,["setup","realtimeInputConfig"],v);let E=a(e,["contextWindowCompression"]);t!==void 0&&E!=null&&u(t,["setup","contextWindowCompression"],E);let A=a(e,["proactivity"]);if(t!==void 0&&A!=null&&u(t,["setup","proactivity"],A),a(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function zN(e,t){let n={},i=a(t,["model"]);i!=null&&u(n,["setup","model"],K(e,i));let o=a(t,["config"]);return o!=null&&u(n,["config"],VN(o,n)),n}function BN(e){let t={},n=a(e,["mediaResolution"]);n!=null&&u(t,["mediaResolution"],n);let i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);let o=a(e,["executableCode"]);o!=null&&u(t,["executableCode"],o);let l=a(e,["fileData"]);l!=null&&u(t,["fileData"],PN(l));let s=a(e,["functionCall"]);s!=null&&u(t,["functionCall"],GN(s));let r=a(e,["functionResponse"]);r!=null&&u(t,["functionResponse"],r);let c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],DN(c));let f=a(e,["text"]);f!=null&&u(t,["text"],f);let d=a(e,["thought"]);d!=null&&u(t,["thought"],d);let m=a(e,["thoughtSignature"]);m!=null&&u(t,["thoughtSignature"],m);let p=a(e,["videoMetadata"]);return p!=null&&u(t,["videoMetadata"],p),t}function ON(e){let t={},n=a(e,["handle"]);if(n!=null&&u(t,["handle"],n),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function FN(e){let t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(e,["computerUse"]);n!=null&&u(t,["computerUse"],n);let i=a(e,["fileSearch"]);i!=null&&u(t,["fileSearch"],i);let o=a(e,["codeExecution"]);if(o!=null&&u(t,["codeExecution"],o),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(e,["functionDeclarations"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),u(t,["functionDeclarations"],d)}let s=a(e,["googleMaps"]);s!=null&&u(t,["googleMaps"],qN(s));let r=a(e,["googleSearch"]);r!=null&&u(t,["googleSearch"],HN(r));let c=a(e,["googleSearchRetrieval"]);c!=null&&u(t,["googleSearchRetrieval"],c);let f=a(e,["urlContext"]);return f!=null&&u(t,["urlContext"],f),t}function YN(e){let t=[];for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){let o=Object.keys(i).map(l=>`${n}.${l}`);t.push(...o)}else t.push(n)}return t.join(",")}function JN(e,t){let n=null,i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){let l=i.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;let o=e.fieldMask;if(n){let l=YN(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)l?e.fieldMask=l:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],r=[];o.length>0&&(r=o.map(f=>s.includes(f)?`generationConfig.${f}`:f));let c=[];l&&c.push(l),r.length>0&&c.push(...r),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}var Rd=class extends Gt{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let r=LN(this.apiClient,t);l=N("auth_tokens",r._url),s=r._query,delete r.config,delete r._url,delete r._query;let c=JN(r,t.config);return o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}};function KN(e,t){let n={},i=a(e,["force"]);return t!==void 0&&i!=null&&u(t,["_query","force"],i),n}function $N(e){let t={},n=a(e,["name"]);n!=null&&u(t,["_url","name"],n);let i=a(e,["config"]);return i!=null&&KN(i,t),t}function XN(e){let t={},n=a(e,["name"]);return n!=null&&u(t,["_url","name"],n),t}function QN(e,t){let n={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);let o=a(e,["pageToken"]);return t!==void 0&&o!=null&&u(t,["_query","pageToken"],o),n}function ZN(e){let t={},n=a(e,["parent"]);n!=null&&u(t,["_url","parent"],n);let i=a(e,["config"]);return i!=null&&QN(i,t),t}function WN(e){let t={},n=a(e,["sdkHttpResponse"]);n!=null&&u(t,["sdkHttpResponse"],n);let i=a(e,["nextPageToken"]);i!=null&&u(t,["nextPageToken"],i);let o=a(e,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(s=>s)),u(t,["documents"],l)}return t}var Nd=class extends Gt{constructor(t){super(),this.apiClient=t,this.list=async n=>new En(Sn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=XN(t);return l=N("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=$N(t);o=N("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=ZN(t);return l=N("{parent}/documents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=WN(c),d=new td;return Object.assign(d,f),d})}}};var wd=class extends Gt{constructor(t,n=new Nd(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new En(Sn.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=W1(t);return l=N("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=tN(t);return l=N("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=eN(t);o=N("{name}",s._url),l=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=aN(t);return l=N("fileSearchStores",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=rN(c),d=new nd;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=uN(t);return l=N("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=cN(c),d=new id;return Object.assign(d,f),d})}}async importFile(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=oN(t);return l=N("{file_search_store_name}:importFile",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{let f=iN(c),d=new $l;return Object.assign(d,f),d})}}};var AT=function(){let{crypto:e}=globalThis;if(e?.randomUUID)return AT=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))},jN=()=>AT();function Md(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}var bd=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){let t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};var it=class extends Error{},He=class extends it{constructor(t,n,i,o){super(`${He.makeMessage(t,n,i)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,i){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,i,o){if(!t||!o)return new Do({message:i,cause:bd(n)});let l=n;return t===400?new sr(t,l,i,o):t===401?new ar(t,l,i,o):t===403?new rr(t,l,i,o):t===404?new ur(t,l,i,o):t===409?new cr(t,l,i,o):t===422?new fr(t,l,i,o):t===429?new dr(t,l,i,o):t>=500?new pr(t,l,i,o):new He(t,l,i,o)}},Zl=class extends He{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}},Do=class extends He{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}},lr=class extends Do{constructor({message:t}={}){super({message:t??"Request timed out."})}},sr=class extends He{},ar=class extends He{},rr=class extends He{},ur=class extends He{},cr=class extends He{},fr=class extends He{},dr=class extends He{},pr=class extends He{};var ew=/^[a-z][a-z0-9+.-]*:/i,tw=e=>ew.test(e),Id=e=>(Id=Array.isArray,Id(e)),nw=Id,iw=nw,Y0=iw;function ow(e){if(!e)return!0;for(let t in e)return!1;return!0}function lw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var sw=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new it(`${e} must be an integer`);if(t<0)throw new it(`${e} must be a positive integer`);return t},aw=e=>{try{return JSON.parse(e)}catch{return}};var rw=e=>new Promise(t=>setTimeout(t,e));var Ro="0.0.1";function uw(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var cw=()=>{var e,t,n,i,o;let l=uw();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":K0(Deno.build.os),"X-Stainless-Arch":J0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":K0((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":J0((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};let s=fw();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fw(){if(typeof navigator>"u"||!navigator)return null;let e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:t,pattern:n}of e){let i=n.exec(navigator.userAgent);if(i){let o=i[1]||0,l=i[2]||0,s=i[3]||0;return{browser:t,version:`${o}.${l}.${s}`}}}return null}var J0=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",K0=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown"),Va,dw=()=>Va??(Va=cw());function pw(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function xT(...e){let t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function mw(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return xT({start(){},async pull(n){let{done:i,value:o}=await t.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function RT(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){let n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hw(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}let i=e.getReader(),o=i.cancel();i.releaseLock(),await o}var gw=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});var NT=()=>{var e;if(typeof File>"u"){let{process:t}=globalThis,n=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Yf(e,t,n){return NT(),new File(e,t??"unknown_file",n)}function yw(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}var vw=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";var wT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Tw=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&wT(e),Sw=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Ew(e,t,n){if(NT(),e=await e,Tw(e))return e instanceof File?e:Yf([await e.arrayBuffer()],e.name);if(Sw(e)){let o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Yf(await Dd(o),t,n)}let i=await Dd(e);if(t||(t=yw(e)),!n?.type){let o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Yf(i,t,n)}async function Dd(e){var t,n,i,o,l;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(wT(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(vw(e))try{for(var r=!0,c=Pt(e),f;f=await c.next(),t=f.done,!t;r=!0){o=f.value,r=!1;let d=o;s.push(...await Dd(d))}}catch(d){n={error:d}}finally{try{!r&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{let d=(l=e?.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${_w(e)}`)}return s}function _w(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}var mr=class{constructor(t){this._client=t}};mr._key=[];function MT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var $0=Object.freeze(Object.create(null)),Cw=(e=MT)=>function(n,...i){if(n.length===1)return n[0];let o=!1,l=[],s=n.reduce((d,m,p)=>{var h,T,S;/[?#]/.test(m)&&(o=!0);let _=i[p],g=(o?encodeURIComponent:e)(""+_);return p!==i.length&&(_==null||typeof _=="object"&&_.toString===((S=Object.getPrototypeOf((T=Object.getPrototypeOf((h=_.hasOwnProperty)!==null&&h!==void 0?h:$0))!==null&&T!==void 0?T:$0))===null||S===void 0?void 0:S.toString))&&(g=_+"",l.push({start:d.length+m.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),d+m+(p===i.length?"":g)},""),r=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,f;for(;(f=c.exec(r))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((d,m)=>d.start-m.start),l.length>0){let d=0,m=l.reduce((p,h)=>{let T=" ".repeat(h.start-d),S="^".repeat(h.length);return d=h.start+h.length,p+T+S},"");throw new it(`Path parameters result in path with invalid segments:
${l.map(p=>p.error).join(`
`)}
${s}
${m}`)}return s},za=Cw(MT);var hr=class extends mr{create(t,n){var i;let{api_version:o=this._client.apiVersion}=t,l=or(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new it("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new it("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(za`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){let{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(za`/${o}/interactions/${t}`,i)}cancel(t,n={},i){let{api_version:o=this._client.apiVersion}=n??{};return this._client.post(za`/${o}/interactions/${t}/cancel`,i)}get(t,n={},i){var o;let l=n??{},{api_version:s=this._client.apiVersion}=l,r=or(l,["api_version"]);return this._client.get(za`/${s}/interactions/${t}`,Object.assign(Object.assign({query:r},i),{stream:(o=n?.stream)!==null&&o!==void 0?o:!1}))}};hr._key=Object.freeze(["interactions"]);var gr=class extends hr{};function Aw(e){let t=0;for(let o of e)t+=o.length;let n=new Uint8Array(t),i=0;for(let o of e)n.set(o,i),i+=o.length;return n}var Ba;function Jd(e){let t;return(Ba??(t=new globalThis.TextEncoder,Ba=t.encode.bind(t)))(e)}var Oa;function X0(e){let t;return(Oa??(t=new globalThis.TextDecoder,Oa=t.decode.bind(t)))(e)}var Uo=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];let n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Jd(t):t;this.buffer=Aw([this.buffer,n]);let i=[],o;for(;(o=xw(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(X0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=X0(this.buffer.subarray(0,l));i.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}};Uo.NEWLINE_CHARS=new Set([`
`,"\r"]);Uo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xw(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function Rw(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}var yr={off:0,error:200,warn:300,info:400,debug:500},Q0=(e,t,n)=>{if(!!e){if(lw(yr,e))return e;Je(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(yr))}`)}};function Jl(){}function Fa(e,t,n){return!t||yr[e]>yr[n]?Jl:t[e].bind(t)}var Nw={error:Jl,warn:Jl,info:Jl,debug:Jl},Z0=new WeakMap;function Je(e){var t;let n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Nw;let o=Z0.get(n);if(o&&o[0]===i)return o[1];let l={error:Fa("error",n,i),warn:Fa("warn",n,i),info:Fa("info",n,i),debug:Fa("debug",n,i)};return Z0.set(n,[i,l]),l}var xi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var ti=class{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let o=!1,l=i?Je(i):console;function s(){return Lt(this,arguments,function*(){var c,f,d,m;if(o)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var h=!0,T=Pt(ww(t,n)),S;S=yield P(T.next()),c=S.done,!c;h=!0){m=S.value,h=!1;let _=m;if(!p)if(_.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield P(JSON.parse(_.data))}catch(g){throw l.error("Could not parse message into JSON:",_.data),l.error("From chunk:",_.raw),g}}}catch(_){f={error:_}}finally{try{!h&&!c&&(d=T.return)&&(yield P(d.call(T)))}finally{if(f)throw f.error}}p=!0}catch(_){if(Md(_))return yield P(void 0);throw _}finally{p||n.abort()}})}return new ti(s,n,i)}static fromReadableStream(t,n,i){let o=!1;function l(){return Lt(this,arguments,function*(){var c,f,d,m;let p=new Uo,h=RT(t);try{for(var T=!0,S=Pt(h),_;_=yield P(S.next()),c=_.done,!c;T=!0){m=_.value,T=!1;let g=m;for(let y of p.decode(g))yield yield P(y)}}catch(g){f={error:g}}finally{try{!T&&!c&&(d=S.return)&&(yield P(d.call(S)))}finally{if(f)throw f.error}}for(let g of p.flush())yield yield P(g)})}function s(){return Lt(this,arguments,function*(){var c,f,d,m;if(o)throw new it("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var h=!0,T=Pt(l()),S;S=yield P(T.next()),c=S.done,!c;h=!0){m=S.value,h=!1;let _=m;p||_&&(yield yield P(JSON.parse(_)))}}catch(_){f={error:_}}finally{try{!h&&!c&&(d=T.return)&&(yield P(d.call(T)))}finally{if(f)throw f.error}}p=!0}catch(_){if(Md(_))return yield P(void 0);throw _}finally{p||n.abort()}})}return new ti(s,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){let t=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){let s=i.next();t.push(s),n.push(s)}return l.shift()}});return[new ti(()=>o(t),this.controller,this.client),new ti(()=>o(n),this.controller,this.client)]}toReadableStream(){let t=this,n;return xT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{let{value:o,done:l}=await n.next();if(l)return i.close();let s=Jd(JSON.stringify(o)+`
`);i.enqueue(s)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}};function ww(e,t){return Lt(this,arguments,function*(){var i,o,l,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new it("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new it("Attempted to iterate over a response with no body");let r=new Ud,c=new Uo,f=RT(e.body);try{for(var d=!0,m=Pt(Mw(f)),p;p=yield P(m.next()),i=p.done,!i;d=!0){s=p.value,d=!1;let h=s;for(let T of c.decode(h)){let S=r.decode(T);S&&(yield yield P(S))}}}catch(h){o={error:h}}finally{try{!d&&!i&&(l=m.return)&&(yield P(l.call(m)))}finally{if(o)throw o.error}}for(let h of c.flush()){let T=r.decode(h);T&&(yield yield P(T))}})}function Mw(e){return Lt(this,arguments,function*(){var n,i,o,l;let s=new Uint8Array;try{for(var r=!0,c=Pt(e),f;f=yield P(c.next()),n=f.done,!n;r=!0){l=f.value,r=!1;let d=l;if(d==null)continue;let m=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Jd(d):d,p=new Uint8Array(s.length+m.length);p.set(s),p.set(m,s.length),s=p;let h;for(;(h=Rw(s))!==-1;)yield yield P(s.slice(0,h)),s=s.slice(h)}}catch(d){i={error:d}}finally{try{!r&&!n&&(o=c.return)&&(yield P(o.call(c)))}finally{if(i)throw i.error}}s.length>0&&(yield yield P(s))})}var Ud=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;let l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,o]=bw(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function bw(e,t){let n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function Iw(e,t){let{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=t,s=await(async()=>{var r;if(t.options.stream)return Je(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ti.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;let c=n.headers.get("content-type"),f=(r=c?.split(";")[0])===null||r===void 0?void 0:r.trim();return f?.includes("application/json")||f?.endsWith("+json")?await n.json():await n.text()})();return Je(e).debug(`[${i}] response parsed`,xi({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-l})),s}var Wl=class extends Promise{constructor(t,n,i=Iw){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new Wl(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){let[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}};var bT=Symbol("brand.privateNullableHeaders");function*Dw(e){if(!e)return;if(bT in e){let{values:i,nulls:o}=e;yield*i.entries();for(let l of o)yield[l,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Y0(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){let o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");let l=Y0(i[1])?i[1]:[i[1]],s=!1;for(let r of l)r!==void 0&&(t&&!s&&(s=!0,yield[o,null]),yield[o,r])}}var Yl=e=>{let t=new Headers,n=new Set;for(let i of e){let o=new Set;for(let[l,s]of Dw(i)){let r=l.toLowerCase();o.has(r)||(t.delete(l),o.add(r)),s===null?(t.delete(l),n.add(r)):(t.append(l,s),n.delete(r))}}return{[bT]:!0,values:t,nulls:n}};var Jf=e=>{var t,n,i,o,l,s;if(typeof globalThis.process<"u")return(i=(n=(t=globalThis.process.env)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(s=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,e))===null||s===void 0?void 0:s.trim()};var IT,ko=class{constructor(t){var n,i,o,l,s,r,c,{baseURL:f=Jf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Jf("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,p=or(t,["baseURL","apiKey","apiVersion"]);let h=Object.assign(Object.assign({apiKey:d,apiVersion:m},p),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=(i=h.timeout)!==null&&i!==void 0?i:ko.DEFAULT_TIMEOUT,this.logger=(o=h.logger)!==null&&o!==void 0?o:console;let T="warn";this.logLevel=T,this.logLevel=(s=(l=Q0(h.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Q0(Jf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:T,this.fetchOptions=h.fetchOptions,this.maxRetries=(r=h.maxRetries)!==null&&r!==void 0?r:2,this.fetch=(c=h.fetch)!==null&&c!==void 0?c:pw(),this.encoder=gw,this._options=h,this.apiKey=d,this.apiVersion=m,this.clientAdapter=h.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){let n=Yl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Yl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Yl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new it(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${jN()}`}makeStatusError(t,n,i,o){return He.generate(t,n,i,o)}buildURL(t,n,i){let o=!this.baseURLOverridden()&&i||this.baseURL,l=tw(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return ow(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){let n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Wl(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var o,l,s;let r=await t,c=(o=r.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(r);let{req:f,url:d,timeout:m}=await this.buildRequest(r,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:r});let p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=i===void 0?"":`, retryOf: ${i}`,T=Date.now();if(Je(this).debug(`[${p}] sending request`,xi({retryOfRequestLogID:i,method:r.method,url:d,options:r,headers:f.headers})),!((l=r.signal)===null||l===void 0)&&l.aborted)throw new Zl;let S=new AbortController,_=await this.fetchWithTimeout(d,f,m,S).catch(bd),g=Date.now();if(_ instanceof globalThis.Error){let v=`retrying, ${n} attempts remaining`;if(!((s=r.signal)===null||s===void 0)&&s.aborted)throw new Zl;let E=Md(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return Je(this).info(`[${p}] connection ${E?"timed out":"failed"} - ${v}`),Je(this).debug(`[${p}] connection ${E?"timed out":"failed"} (${v})`,xi({retryOfRequestLogID:i,url:d,durationMs:g-T,message:_.message})),this.retryRequest(r,n,i??p);throw Je(this).info(`[${p}] connection ${E?"timed out":"failed"} - error; no more retries left`),Je(this).debug(`[${p}] connection ${E?"timed out":"failed"} (error; no more retries left)`,xi({retryOfRequestLogID:i,url:d,durationMs:g-T,message:_.message})),E?new lr:new Do({cause:_})}let y=`[${p}${h}] ${f.method} ${d} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${g-T}ms`;if(!_.ok){let v=await this.shouldRetry(_);if(n&&v){let R=`retrying, ${n} attempts remaining`;return await hw(_.body),Je(this).info(`${y} - ${R}`),Je(this).debug(`[${p}] response error (${R})`,xi({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:g-T})),this.retryRequest(r,n,i??p,_.headers)}let E=v?"error; no more retries left":"error; not retryable";Je(this).info(`${y} - ${E}`);let A=await _.text().catch(R=>bd(R).message),w=aw(A),x=w?void 0:A;throw Je(this).debug(`[${p}] response error (${E})`,xi({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:x,durationMs:Date.now()-T})),this.makeStatusError(_.status,w,x,_.headers)}return Je(this).info(y),Je(this).debug(`[${p}] response start`,xi({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:g-T})),{response:_,options:r,controller:S,requestLogID:p,retryOfRequestLogID:i,startTime:T}}async fetchWithTimeout(t,n,i,o){let l=n||{},{signal:s,method:r}=l,c=or(l,["signal","method"]);s&&s.addEventListener("abort",()=>o.abort());let f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);r&&(m.method=r.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){let n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,o){var l;let s,r=o?.get("retry-after-ms");if(r){let f=parseFloat(r);Number.isNaN(f)||(s=f)}let c=o?.get("retry-after");if(c&&!s){let f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){let f=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await rw(s),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){let l=n-t,s=Math.min(.5*Math.pow(2,l),8),r=1-Math.random()*.25;return s*r*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,o,l;let s=Object.assign({},t),{method:r,path:c,query:f,defaultBaseURL:d}=s,m=this.buildURL(c,f,d);"timeout"in s&&sw("timeout",s.timeout),s.timeout=(i=s.timeout)!==null&&i!==void 0?i:this.timeout;let{bodyHeaders:p,body:h}=this.buildBody({options:s}),T=await this.buildHeaders({options:t,method:r,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:r,headers:T},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=s.fetchOptions)!==null&&l!==void 0?l:{}),url:m,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);let s=await this.authHeaders(t),r=Yl([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),dw()),this._options.defaultHeaders,i,t.headers,s]);return this.validateHeaders(r),r.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};let i=Yl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:mw(t)}:this.encoder({body:t,headers:i})}};ko.DEFAULT_TIMEOUT=6e4;var xe=class extends ko{constructor(){super(...arguments),this.interactions=new gr(this)}};IT=xe;xe.GeminiNextGenAPIClient=IT;xe.GeminiNextGenAPIClientError=it;xe.APIError=He;xe.APIConnectionError=Do;xe.APIConnectionTimeoutError=lr;xe.APIUserAbortError=Zl;xe.NotFoundError=ur;xe.ConflictError=cr;xe.RateLimitError=dr;xe.BadRequestError=sr;xe.AuthenticationError=ar;xe.InternalServerError=pr;xe.PermissionDeniedError=rr;xe.UnprocessableEntityError=fr;xe.toFile=Ew;xe.Interactions=gr;function Uw(e,t){let n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function kw(e,t){let n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function Lw(e,t){let n={},i=a(e,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function Pw(e,t){let n={},i=a(e,["sdkHttpResponse"]);return i!=null&&u(n,["sdkHttpResponse"],i),n}function Gw(e,t,n){let i={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let o=a(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&u(t,["displayName"],o),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let l=a(e,["epochCount"]);t!==void 0&&l!=null&&u(t,["tuningTask","hyperparameters","epochCount"],l);let s=a(e,["learningRateMultiplier"]);if(s!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let r=a(e,["batchSize"]);t!==void 0&&r!=null&&u(t,["tuningTask","hyperparameters","batchSize"],r);let c=a(e,["learningRate"]);if(t!==void 0&&c!=null&&u(t,["tuningTask","hyperparameters","learningRate"],c),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function qw(e,t,n){let i={},o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let h=a(e,["validationDataset"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec"],W0(h))}else if(o==="PREFERENCE_TUNING"){let h=a(e,["validationDataset"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec"],W0(h))}let l=a(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&u(t,["tunedModelDisplayName"],l);let s=a(e,["description"]);t!==void 0&&s!=null&&u(t,["description"],s);let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let h=a(e,["epochCount"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(r==="PREFERENCE_TUNING"){let h=a(e,["epochCount"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let h=a(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){let h=a(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let h=a(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(f==="PREFERENCE_TUNING"){let h=a(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let h=a(e,["adapterSize"]);t!==void 0&&h!=null&&u(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(d==="PREFERENCE_TUNING"){let h=a(e,["adapterSize"]);t!==void 0&&h!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let m=a(e,["labels"]);t!==void 0&&m!=null&&u(t,["labels"],m);let p=a(e,["beta"]);return t!==void 0&&p!=null&&u(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function Hw(e,t){let n={},i=a(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);let o=a(e,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);let l=a(e,["trainingDataset"]);l!=null&&Qw(l);let s=a(e,["config"]);return s!=null&&Gw(s,n),n}function Vw(e,t){let n={},i=a(e,["baseModel"]);i!=null&&u(n,["baseModel"],i);let o=a(e,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);let l=a(e,["trainingDataset"]);l!=null&&Zw(l,n,t);let s=a(e,["config"]);return s!=null&&qw(s,n,t),n}function zw(e,t){let n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function Bw(e,t){let n={},i=a(e,["name"]);return i!=null&&u(n,["_url","name"],i),n}function Ow(e,t,n){let i={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&u(t,["_query","pageSize"],o);let l=a(e,["pageToken"]);t!==void 0&&l!=null&&u(t,["_query","pageToken"],l);let s=a(e,["filter"]);return t!==void 0&&s!=null&&u(t,["_query","filter"],s),i}function Fw(e,t,n){let i={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&u(t,["_query","pageSize"],o);let l=a(e,["pageToken"]);t!==void 0&&l!=null&&u(t,["_query","pageToken"],l);let s=a(e,["filter"]);return t!==void 0&&s!=null&&u(t,["_query","filter"],s),i}function Yw(e,t){let n={},i=a(e,["config"]);return i!=null&&Ow(i,n),n}function Jw(e,t){let n={},i=a(e,["config"]);return i!=null&&Fw(i,n),n}function Kw(e,t){let n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=a(e,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);let l=a(e,["tunedModels"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>DT(r))),u(n,["tuningJobs"],s)}return n}function $w(e,t){let n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=a(e,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);let l=a(e,["tuningJobs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>kd(r))),u(n,["tuningJobs"],s)}return n}function Xw(e,t){let n={},i=a(e,["name"]);i!=null&&u(n,["model"],i);let o=a(e,["name"]);return o!=null&&u(n,["endpoint"],o),n}function Qw(e,t){let n={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let i=a(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),u(n,["examples","examples"],o)}return n}function Zw(e,t,n){let i={},o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let s=a(e,["gcsUri"]);t!==void 0&&s!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){let s=a(e,["gcsUri"]);t!==void 0&&s!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let s=a(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(l==="PREFERENCE_TUNING"){let s=a(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&u(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function DT(e,t){let n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=a(e,["name"]);o!=null&&u(n,["name"],o);let l=a(e,["state"]);l!=null&&u(n,["state"],sT(l));let s=a(e,["createTime"]);s!=null&&u(n,["createTime"],s);let r=a(e,["tuningTask","startTime"]);r!=null&&u(n,["startTime"],r);let c=a(e,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);let f=a(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);let d=a(e,["description"]);d!=null&&u(n,["description"],d);let m=a(e,["baseModel"]);m!=null&&u(n,["baseModel"],m);let p=a(e,["_self"]);return p!=null&&u(n,["tunedModel"],Xw(p)),n}function kd(e,t){let n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=a(e,["name"]);o!=null&&u(n,["name"],o);let l=a(e,["state"]);l!=null&&u(n,["state"],sT(l));let s=a(e,["createTime"]);s!=null&&u(n,["createTime"],s);let r=a(e,["startTime"]);r!=null&&u(n,["startTime"],r);let c=a(e,["endTime"]);c!=null&&u(n,["endTime"],c);let f=a(e,["updateTime"]);f!=null&&u(n,["updateTime"],f);let d=a(e,["error"]);d!=null&&u(n,["error"],d);let m=a(e,["description"]);m!=null&&u(n,["description"],m);let p=a(e,["baseModel"]);p!=null&&u(n,["baseModel"],p);let h=a(e,["tunedModel"]);h!=null&&u(n,["tunedModel"],h);let T=a(e,["preTunedModel"]);T!=null&&u(n,["preTunedModel"],T);let S=a(e,["supervisedTuningSpec"]);S!=null&&u(n,["supervisedTuningSpec"],S);let _=a(e,["preferenceOptimizationSpec"]);_!=null&&u(n,["preferenceOptimizationSpec"],_);let g=a(e,["tuningDataStats"]);g!=null&&u(n,["tuningDataStats"],g);let y=a(e,["encryptionSpec"]);y!=null&&u(n,["encryptionSpec"],y);let v=a(e,["partnerModelTuningSpec"]);v!=null&&u(n,["partnerModelTuningSpec"],v);let E=a(e,["customBaseModel"]);E!=null&&u(n,["customBaseModel"],E);let A=a(e,["experiment"]);A!=null&&u(n,["experiment"],A);let w=a(e,["labels"]);w!=null&&u(n,["labels"],w);let x=a(e,["outputUri"]);x!=null&&u(n,["outputUri"],x);let b=a(e,["pipelineJob"]);b!=null&&u(n,["pipelineJob"],b);let R=a(e,["serviceAccount"]);R!=null&&u(n,["serviceAccount"],R);let M=a(e,["tunedModelDisplayName"]);M!=null&&u(n,["tunedModelDisplayName"],M);let F=a(e,["veoTuningSpec"]);return F!=null&&u(n,["veoTuningSpec"],F),n}function Ww(e,t){let n={},i=a(e,["sdkHttpResponse"]);i!=null&&u(n,["sdkHttpResponse"],i);let o=a(e,["name"]);o!=null&&u(n,["name"],o);let l=a(e,["metadata"]);l!=null&&u(n,["metadata"],l);let s=a(e,["done"]);s!=null&&u(n,["done"],s);let r=a(e,["error"]);return r!=null&&u(n,["error"],r),n}function W0(e,t){let n={},i=a(e,["gcsUri"]);i!=null&&u(n,["validationDatasetUri"],i);let o=a(e,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}var Ld=class extends Gt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new En(Sn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);let l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{let o=Object.assign({},n);return await this.tuneInternal(o)}else{let o=Object.assign({},n),l=await this.tuneMldevInternal(o),s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:$f.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=Bw(t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>kd(d))}else{let f=zw(t);return r=N("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>DT(d))}}async listInternal(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=Jw(t);return r=N("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=$w(d),p=new Wa;return Object.assign(p,m),p})}else{let f=Yw(t);return r=N("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=Kw(d),p=new Wa;return Object.assign(p,m),p})}}async cancel(t){var n,i,o,l;let s,r="",c={};if(this.apiClient.isVertexAI()){let f=kw(t);return r=N("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=Pw(d),p=new ja;return Object.assign(p,m),p})}else{let f=Uw(t);return r=N("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{let p=m;return p.sdkHttpResponse={headers:d.headers},p})),s.then(d=>{let m=Lw(d),p=new ja;return Object.assign(p,m),p})}}async tuneInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI()){let r=Vw(t,t);return l=N("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>kd(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,l="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let r=Hw(t);return l=N("tunedModels",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:l,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{let d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Ww(c))}}};var Pd=class{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},jw=1024*1024*8,eM=3,tM=1e3,nM=2,vr="x-goog-upload-status";async function iM(e,t,n){var i;let o=await UT(e,t,n),l=await o?.json();if(((i=o?.headers)===null||i===void 0?void 0:i[vr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function oM(e,t,n){var i;let o=await UT(e,t,n),l=await o?.json();if(((i=o?.headers)===null||i===void 0?void 0:i[vr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=eT(l),r=new Xl;return Object.assign(r,s),r}async function UT(e,t,n){var i,o;let l=0,s=0,r=new Kl(new Response),c="upload";for(l=e.size;s<l;){let f=Math.min(jw,l-s),d=e.slice(s,s+f);s+f>=l&&(c+=", finalize");let m=0,p=tM;for(;m<eM&&(r=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((i=r?.headers)===null||i===void 0)&&i[vr]));)m++,await sM(p),p=p*nM;if(s+=f,((o=r?.headers)===null||o===void 0?void 0:o[vr])!=="active")break;if(l<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return r}async function lM(e){return{size:e.size,type:e.type}}function sM(e){return new Promise(t=>setTimeout(t,e))}var Gd=class{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await iM(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oM(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lM(t)}};var qd=class{create(t,n,i){return new Hd(t,n,i)}},Hd=class{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var j0="x-goog-api-key",Vd=class{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(j0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(j0,this.apiKey)}}};var aM="gl-node/",Lo=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new xe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;let i=PC(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;let o=new Vd(this.apiKey);this.apiClient=new Td({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:aM+"web",uploader:new Gd,downloader:new Pd}),this.models=new Ad(this.apiClient),this.live=new _d(this.apiClient,o,new qd),this.batches=new fd(this.apiClient),this.chats=new pd(this.models,this.apiClient),this.caches=new dd(this.apiClient),this.files=new hd(this.apiClient),this.operations=new xd(this.apiClient),this.authTokens=new Rd(this.apiClient),this.tunings=new Ld(this.apiClient),this.fileSearchStores=new wd(this.apiClient)}};function kT(e){let t=atob(e),n=t.length,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=t.charCodeAt(o);return i}function Kd(e){let t="",n=e.byteLength;for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return btoa(t)}async function LT(e,t,n,i){let o=new Int16Array(e.buffer),l=o.length/i,s=t.createBuffer(i,l,n);for(let r=0;r<i;r++){let c=s.getChannelData(r);for(let f=0;f<l;f++)c[f]=o[f*i+r]/32768}return s}function PT(e){let t=e.length,n=new Int16Array(t);for(let i=0;i<t;i++){let o=Math.max(-1,Math.min(1,e[i]));n[i]=o<0?o*32768:o*32767}return n}var _r={};Ue(_r,{declaration:()=>rM,execute:()=>uM,instruction:()=>$d});var rM={name:"list_directory",description:"Lists all available files in the current directory registry."},$d="- list_directory: Use this to get an overview of the user's vault. Always call this if you are unsure of the available files.",uM=async(e,t)=>{let n=ei();return t.onSystem("Registry Scanned",{name:"list_directory",filename:"Vault Root",files:n}),{files:n}};var Cr={};Ue(Cr,{declaration:()=>cM,execute:()=>fM,instruction:()=>Xd});var cM={name:"list_vault_files",description:"Lists markdown files in the vault with pagination and sorting. Essential for large vaults.",parameters:{type:I.OBJECT,properties:{limit:{type:I.NUMBER,description:"Max number of files to return (default: 20)"},offset:{type:I.NUMBER,description:"Number of files to skip (default: 0)"},sortBy:{type:I.STRING,enum:["mtime","name","size"],description:"Property to sort by. mtime is last modified time."},sortOrder:{type:I.STRING,enum:["asc","desc"],description:"Sort order (default: desc)"},filter:{type:I.STRING,description:"Optional text filter for path or filename."}}}},Xd="- list_vault_files: Use this to explore large vaults. It supports paging and sorting. Default is most recently modified first.",fM=async(e,t)=>{let{limit:n,offset:i,sortBy:o,sortOrder:l,filter:s}=e,r=await xv({limit:n,offset:i,sortBy:o,sortOrder:l,filter:s}),c=r.files.map(f=>f.path);return t.onSystem(`Vault Files (${i}-${i+r.files.length} of ${r.total})`,{name:"list_vault_files",filename:"Vault Explorer",files:c}),r};var Ar={};Ue(Ar,{declaration:()=>dM,execute:()=>pM,instruction:()=>Qd});var dM={name:"get_folder_tree",description:"Lists all folders in the vault as a flat array to understand hierarchy."},Qd="- get_folder_tree: Use this to see a simple list of all folders in the vault hierarchy.",pM=async(e,t)=>{let n=Rv();return t.onSystem("Folder Structure Scanned",{name:"get_folder_tree",filename:"Folder Tree",files:n}),{folders:n}};var xr={};Ue(xr,{declaration:()=>mM,execute:()=>hM,instruction:()=>Zd});var mM={name:"dirlist",description:"Lists only directory structure, ignoring files, to understand vault hierarchy."},Zd="- dirlist: Use this to see the pure directory structure of the vault without any file information.",hM=async(e,t)=>{let n=Nv();return t.onSystem("Directory Structure Scanned",{name:"dirlist",filename:"Directory List",files:n}),{directories:n}};var Rr={};Ue(Rr,{declaration:()=>gM,execute:()=>yM,instruction:()=>Wd});var gM={name:"read_file",description:"Read the full content of a specified file.",parameters:{type:I.OBJECT,properties:{filename:{type:I.STRING,description:"The name of the file to read"}},required:["filename"]}},Wd="- read_file: Use this to ingest the contents of a note. You should read a file before proposing major edits to ensure context.",yM=async(e,t)=>{let n=await ht(e.filename);return t.onSystem(`Opened ${e.filename}`,{name:"read_file",filename:e.filename,oldContent:n,newContent:n,additions:0,removals:0}),t.onFileState("/",e.filename),{content:n}};var Nr={};Ue(Nr,{declaration:()=>vM,execute:()=>TM,instruction:()=>jd});var vM={name:"create_file",description:"Create a new file with initial content.",parameters:{type:I.OBJECT,properties:{filename:{type:I.STRING},content:{type:I.STRING}},required:["filename","content"]}},jd="- create_file: Use this to initialize new notes in the vault. Always provide meaningful initial content.",TM=async(e,t)=>(await qa(e.filename,e.content),t.onSystem(`Created ${e.filename}`,{name:"create_file",filename:e.filename,oldContent:"",newContent:e.content,additions:e.content.split(`
`).length,removals:0}),t.onFileState("/",e.filename),{status:"created"});var wr={};Ue(wr,{declaration:()=>SM,execute:()=>EM,instruction:()=>ep});var SM={name:"update_file",description:"Overwrite the entire content of an existing file.",parameters:{type:I.OBJECT,properties:{filename:{type:I.STRING},content:{type:I.STRING}},required:["filename","content"]}},ep="- update_file: Use this for total overwrites. For smaller changes, prefer edit_file.",EM=async(e,t)=>{let n=await ht(e.filename).catch(()=>"");await Ai(e.filename,e.content);let i=n.split(`
`),o=e.content.split(`
`),l=o.filter(r=>!i.includes(r)).length,s=i.filter(r=>!o.includes(r)).length;return t.onSystem(`Updated ${e.filename}`,{name:"update_file",filename:e.filename,oldContent:n,newContent:e.content,additions:l,removals:s}),t.onFileState("/",e.filename),{status:"updated"}};var Mr={};Ue(Mr,{declaration:()=>_M,execute:()=>CM,instruction:()=>tp});var _M={name:"edit_file",description:"Perform granular line-based edits on a file.",parameters:{type:I.OBJECT,properties:{filename:{type:I.STRING},operation:{type:I.STRING,enum:["append","replace_line","remove_line"]},text:{type:I.STRING},lineNumber:{type:I.NUMBER}},required:["filename","operation"]}},tp="- edit_file: Use this for targeted modifications (appending, replacing lines, or removing lines).",CM=async(e,t)=>{let n=await ht(e.filename).catch(()=>"");await bv(e.filename,e.operation,e.text,e.lineNumber);let i=await ht(e.filename);return t.onSystem(`Edited ${e.filename}`,{name:"edit_file",filename:e.filename,oldContent:n,newContent:i,additions:e.operation==="append"||e.operation==="replace_line"?1:0,removals:e.operation==="remove_line"||e.operation==="replace_line"?1:0}),t.onFileState("/",e.filename),{status:"edited"}};var br={};Ue(br,{declaration:()=>AM,execute:()=>xM,instruction:()=>np});var AM={name:"rename_file",description:"Rename an existing file to a new name.",parameters:{type:I.OBJECT,properties:{oldFilename:{type:I.STRING,description:"The current name of the file"},newFilename:{type:I.STRING,description:"The new name for the file"}},required:["oldFilename","newFilename"]}},np="- rename_file: Use this to change the name of a note. Ensure the new name follows markdown extension conventions if applicable.",xM=async(e,t)=>(await wv(e.oldFilename,e.newFilename),t.onSystem(`Renamed ${e.oldFilename} to ${e.newFilename}`,{name:"rename_file",filename:e.oldFilename,oldContent:e.oldFilename,newContent:e.newFilename}),t.onFileState("/",e.newFilename),{status:"renamed",from:e.oldFilename,to:e.newFilename});var Ir={};Ue(Ir,{declaration:()=>RM,execute:()=>NM,instruction:()=>ip});var RM={name:"move_file",description:"Move a file from one folder to another",parameters:{type:I.OBJECT,properties:{sourcePath:{type:I.STRING,description:'Current path of the file to move (e.g., "projects/notes.md")'},targetPath:{type:I.STRING,description:'New path for the file (e.g., "archive/projects/notes.md")'}},required:["sourcePath","targetPath"]}},ip="- move_file: Move a file from one location to another in the vault. Use this to reorganize files between folders.",NM=async(e,t)=>{let n=await Mv(e.sourcePath,e.targetPath);return t.onSystem(`Moved ${e.sourcePath} to ${e.targetPath}`,{name:"move_file",filename:e.sourcePath,oldContent:e.sourcePath,newContent:e.targetPath}),t.onFileState("/",[e.sourcePath,e.targetPath]),{status:"moved",from:e.sourcePath,to:e.targetPath}};var Dr={};Ue(Dr,{declaration:()=>wM,execute:()=>MM,instruction:()=>op});var wM={name:"search_keyword",description:"Search for a keyword across all files in the vault.",parameters:{type:I.OBJECT,properties:{keyword:{type:I.STRING,description:"The text to search for"}},required:["keyword"]}},op="- search_keyword: Fast plaintext search across all files.",MM=async(e,t)=>{let n=await Ha(e.keyword,!1);return t.onSystem(`Search complete for "${e.keyword}"`,{name:"search_keyword",filename:"Global Search",searchResults:n}),{results:n}};var Ur={};Ue(Ur,{declaration:()=>bM,execute:()=>IM,instruction:()=>lp});var bM={name:"search_regexp",description:"Search using a regular expression across all files.",parameters:{type:I.OBJECT,properties:{pattern:{type:I.STRING,description:"The regex pattern"},flags:{type:I.STRING,description:'Optional regex flags (default: "i")'}},required:["pattern"]}},lp="- search_regexp: Advanced regex search. Use this to identify files for global replacements.",IM=async(e,t)=>{let n=await Ha(e.pattern,!0,e.flags||"i");return t.onSystem(`Regex search complete for /${e.pattern}/`,{name:"search_regexp",filename:"Regex Search",searchResults:n}),{results:n}};var kr={};Ue(kr,{declaration:()=>DM,execute:()=>UM,instruction:()=>sp});var DM={name:"search_and_replace_regex_in_file",description:"Search and replace text in a specific file using regex.",parameters:{type:I.OBJECT,properties:{filename:{type:I.STRING},pattern:{type:I.STRING},replacement:{type:I.STRING},flags:{type:I.STRING,description:'Optional regex flags (default: "g")'}},required:["filename","pattern","replacement"]}},sp="- search_and_replace_regex_in_file: Targeted regex replacement within a single node.",UM=async(e,t)=>{let n=await ht(e.filename),i=new RegExp(e.pattern,e.flags||"g"),o=n.replace(i,e.replacement);return await Ai(e.filename,o),t.onSystem(`Replaced in ${e.filename}`,{name:"search_and_replace_regex_in_file",filename:e.filename,oldContent:n,newContent:o,additions:1,removals:1}),t.onFileState("/",e.filename),{status:"success"}};var Lr={};Ue(Lr,{declaration:()=>kM,execute:()=>LM,instruction:()=>ap});var kM={name:"search_and_replace_regex_global",description:"Search and replace text across ALL files using regex.",parameters:{type:I.OBJECT,properties:{pattern:{type:I.STRING},replacement:{type:I.STRING},flags:{type:I.STRING,description:'Optional regex flags (default: "g")'}},required:["pattern","replacement"]}},ap=`
GLOBAL SEARCH & REPLACE WORKFLOW:
1. When asked for a global replacement, ALWAYS run "search_regexp" first.
2. Report the number of files that will be updated.
3. ASK for explicit confirmation before calling "search_and_replace_regex_global".
4. After execution, report "updated all occurrences".`,LM=async(e,t)=>{let n=ei(),i=new RegExp(e.pattern,e.flags||"g"),o=[],l=0,s=[];for(let r of n){let c=await ht(r);if(i.test(c)){let f=c.replace(i,e.replacement);await Ai(r,f),o.push({filename:r,oldContent:c,newContent:f,additions:1,removals:1}),s.push(r),l++}}return t.onSystem(`Global replace complete: ${l} files updated`,{name:"search_and_replace_regex_global",filename:"Vault Wide",multiDiffs:o}),s.length>0&&t.onFileState("/",s),{status:"success",filesUpdated:l}};var Pr={};Ue(Pr,{declaration:()=>PM,execute:()=>GM,instruction:()=>rp});var PM={name:"topic_switch",description:"Signal that a major topic shift has occurred. Provide a summary of the previous conversation.",parameters:{type:I.OBJECT,properties:{summary:{type:I.STRING,description:"A short one-sentence summary of the preceding conversation segment."}},required:["summary"]}},rp=`
TOPIC SWITCHING & PERSISTENCE: 
1. Monitor for significant topic switches in the conversation flow.
2. If a switch occurs, call "topic_switch" with a concise summary.
3. This will automatically trigger an ARCHIVE process.
4. Do NOT say "Done." after calling this. Proceed immediately to the next topic.`,GM=async(e,t)=>{let i=`x-chat-history-${new Date().toISOString().replace(/[:.]/g,"-").slice(0,19)}.md`;return t.onSystem("Context Update",{name:"topic_switch",filename:i,newContent:e.summary}),{status:"context_reset"}};var Gr={};Ue(Gr,{declaration:()=>qM,execute:()=>HM,instruction:()=>up});var qM={name:"internet_search",description:"Search the internet for real-time information, news, current events, or general knowledge outside the vault.",parameters:{type:I.OBJECT,properties:{query:{type:I.STRING,description:"The search query to look up on the web."}},required:["query"]}},up="- internet_search: Use this to fetch real-time data or information not contained within the local vault. Always use this tool for questions about current events, celebrities, weather, or general knowledge.",HM=async(e,t)=>{let i=await new Lo({apiKey:process.env.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:e.query,config:{tools:[{googleSearch:{}}]}}),o=i.text||"No results found.",l=i.candidates?.[0]?.groundingMetadata?.groundingChunks||[];return t.onSystem(`Internet Search: ${e.query}`,{name:"internet_search",filename:"Web Resource",newContent:o,groundingChunks:l}),{text:o,groundingChunks:l}};var GT={list_directory:_r,list_vault_files:Cr,get_folder_tree:Ar,dirlist:xr,read_file:Rr,create_file:Nr,update_file:wr,edit_file:Mr,rename_file:br,move_file:Ir,search_keyword:Dr,search_regexp:Ur,search_and_replace_regex_in_file:kr,search_and_replace_regex_global:Lr,topic_switch:Pr,internet_search:Gr},qT=Object.values(GT).map(e=>e.declaration),HT=async(e,t,n)=>{let i=performance.now(),o=GT[e];if(!o){let r={toolName:e,content:JSON.stringify(t,null,2),contentSize:JSON.stringify(t).length,apiCall:"executeCommand"};throw n.onLog(`Tool not found: ${e}`,"error",void 0,r),new Error(`Command ${e} not found`)}let l=`tool-${Date.now()}-${Math.random().toString(36).substr(2,5)}`;n.onSystem(`${e.replace(/_/g," ").toUpperCase()}...`,{id:l,name:e,filename:t.filename||(e==="internet_search"?"Web":"Registry"),status:"pending"});let s={...n,onSystem:(r,c)=>{n.onSystem(r,{...c,id:l})}};try{let r=await o.execute(t,s);if(r&&r.files&&r.files.length>200){let f=new Error(`Tool returned ${r.files.length} entries, exceeding threshold of 200. Please refine your search.`),d=Math.round(performance.now()-i),m={toolName:e,content:`Returned ${r.files.length} files: ${r.files.slice(0,5).join(", ")}${r.files.length>5?"...":""}`,contentSize:r.files.length,apiCall:"threshold_check"};throw n.onLog(`Error in ${e}: ${f.message}`,"error",d,m),s.onSystem(`Error: ${f.message}`,{name:e,filename:t.filename||(e==="internet_search"?"Web":"unknown"),error:f.message,status:"error"}),f}let c=Math.round(performance.now()-i);return n.onLog(`Executed ${e} in ${c}ms`,"action",c),r}catch(r){let c=Math.round(performance.now()-i),f={toolName:e,content:JSON.stringify(t,null,2),contentSize:JSON.stringify(t).length,stack:r.stack,apiCall:"tool_execution"};throw n.onLog(`Error in ${e}: ${r.message}`,"error",c,f),s.onSystem(`Error: ${r.message}`,{name:e,filename:t.filename||(e==="internet_search"?"Web":"unknown"),error:r.message,status:"error"}),r}};var qr=class{constructor(t){this.callbacks=t;this.session=null;this.sessionPromise=null;this.inputAudioContext=null;this.outputAudioContext=null;this.nextStartTime=0;this.sources=new Set;this.currentInputText="";this.currentOutputText="";this.currentFolder="/";this.currentNote=null}async start(t,n,i){try{i&&(this.currentFolder=i.folder,this.currentNote=i.note),this.callbacks.onStatusChange("CONNECTING"),this.callbacks.onLog("Negotiating Uplink...","info");let o=new Lo({apiKey:t});this.inputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),this.outputAudioContext=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),this.nextStartTime=0;let l=await navigator.mediaDevices.getUserMedia({audio:!0}),s=`
CURRENT_CONTEXT:
Current Folder Path: ${this.currentFolder}
Current Note Name: ${this.currentNote||"No note currently selected"}
`,r=`${n.systemInstruction}
${s}

${n.customContext}`.trim();this.sessionPromise=o.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",config:{responseModalities:[bo.AUDIO],systemInstruction:r,inputAudioTranscription:{},outputAudioTranscription:{},speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:n.voiceName}}},tools:[{functionDeclarations:qT}]},callbacks:{onopen:()=>{this.callbacks.onStatusChange("CONNECTED"),this.callbacks.onLog("Uplink synchronized. Voice channel active.","info"),this.sessionPromise&&this.startMicStreaming(l,this.sessionPromise)},onmessage:async c=>{this.sessionPromise&&await this.handleServerMessage(c,this.sessionPromise)},onerror:c=>{console.error("Gemini Voice Error:",c);let f=c.message||"Quantum Link Error",d={toolName:"GeminiVoiceAssistant",apiCall:"live.connect",stack:c.stack,content:JSON.stringify(c,null,2),requestSize:c.requestSize,responseSize:c.responseSize};this.callbacks.onLog(`NETWORK ERROR: ${f}`,"error",void 0,d),this.stop(),this.callbacks.onStatusChange("ERROR")},onclose:c=>{this.callbacks.onLog(`Uplink Closed: ${c.reason||"Normal shutdown"}`,"info"),this.stop()}}}),this.session=await this.sessionPromise}catch(o){this.callbacks.onStatusChange("ERROR");let l={toolName:"GeminiVoiceAssistant",apiCall:"start",stack:o.stack,content:o.message,requestSize:o.requestSize,responseSize:o.responseSize};throw this.callbacks.onLog(`Link Initialization Failed: ${o.message}`,"error",void 0,l),o}}startMicStreaming(t,n){if(!this.inputAudioContext)return;let i=this.inputAudioContext.createMediaStreamSource(t),o=this.inputAudioContext.createScriptProcessor(4096,1,1);o.onaudioprocess=l=>{let s=l.inputBuffer.getChannelData(0),r=0;for(let m=0;m<s.length;m++)r+=s[m]*s[m];let c=Math.sqrt(r/s.length);this.callbacks.onVolume(c);let f=PT(s),d=Kd(new Uint8Array(f.buffer));n.then(m=>{m.sendRealtimeInput({media:{data:d,mimeType:"audio/pcm;rate=16000"}})}).catch(()=>{})},i.connect(o),o.connect(this.inputAudioContext.destination)}async handleServerMessage(t,n){let i=t.serverContent;if(i?.usageMetadata&&this.callbacks.onUsageUpdate(i.usageMetadata),t.serverContent?.inputTranscription?.text&&(this.currentInputText+=t.serverContent.inputTranscription.text,this.callbacks.onTranscription("user",this.currentInputText,!1)),t.serverContent?.outputTranscription&&(this.currentOutputText+=t.serverContent.outputTranscription.text,this.callbacks.onTranscription("model",this.currentOutputText,!1)),t.serverContent?.turnComplete&&(this.currentInputText&&(this.callbacks.onTranscription("user",this.currentInputText,!0),this.currentInputText=""),this.currentOutputText&&(this.callbacks.onTranscription("model",this.currentOutputText,!0),this.currentOutputText="")),t.toolCall)for(let l of t.toolCall.functionCalls)try{let s=await HT(l.name,l.args,{onLog:(r,c,f)=>this.callbacks.onLog(r,c,f),onSystem:(r,c)=>this.callbacks.onSystemMessage(r,c),onFileState:(r,c)=>{this.currentFolder=r,this.currentNote=Array.isArray(c)?c[c.length-1]:c,this.callbacks.onFileStateChange(r,c)}});n.then(r=>r.sendToolResponse({functionResponses:{id:l.id,name:l.name,response:{result:s}}}))}catch(s){let r={toolName:l.name,content:JSON.stringify(l.args,null,2),contentSize:JSON.stringify(l.args).length,stack:s.stack,apiCall:"executeCommand"};this.callbacks.onLog(`Tool execution error in ${l.name}: ${s.message}`,"error",void 0,r),n.then(c=>c.sendToolResponse({functionResponses:{id:l.id,name:l.name,response:{error:s.message}}}))}let o=t.serverContent?.modelTurn?.parts?.[0]?.inlineData?.data;if(o&&this.outputAudioContext){let l=await LT(kT(o),this.outputAudioContext,24e3,1);this.nextStartTime=Math.max(this.nextStartTime,this.outputAudioContext.currentTime);let s=this.outputAudioContext.createBufferSource();s.buffer=l,s.connect(this.outputAudioContext.destination),s.onended=()=>this.sources.delete(s),s.start(this.nextStartTime),this.nextStartTime+=l.duration,this.sources.add(s)}t.serverContent?.interrupted&&(this.sources.forEach(l=>{try{l.stop()}catch{}}),this.sources.clear(),this.nextStartTime=0,this.callbacks.onInterrupted())}stop(){if(this.session){try{this.session.close()}catch{}this.session=null}this.sessionPromise=null,this.inputAudioContext&&(this.inputAudioContext.close(),this.inputAudioContext=null),this.outputAudioContext&&(this.outputAudioContext.close(),this.outputAudioContext=null),this.sources.forEach(t=>{try{t.stop()}catch{}}),this.sources.clear(),this.currentInputText="",this.currentOutputText="",this.callbacks.onStatusChange("DISCONNECTED"),this.callbacks.onVolume(0)}sendText(t){if(this.sessionPromise){let n=Kd(new TextEncoder().encode(t));this.sessionPromise.then(i=>{i.sendRealtimeInput({media:{data:n,mimeType:"text/plain"}})})}}};var VM=[$d,Xd,Qd,Zd,Wd,jd,ep,tp,np,ip,op,lp,sp,ap,rp,up].join(`

`),VT=`You are an advanced voice assistant (Hermes) with file system access and internet capabilities.
Vault structure: Flat markdown files.

CORE RESPONSE RULES:
1. NO CONFIRMATIONS: Do NOT say "Done.", "Finished.", or any variation of completion confirmation after a tool call. The UI handles state visualization.
2. INFORMATIONAL TOOLS: When calling "read_file", "list_directory", "list_vault_files", or "internet_search", remain silent unless the user asked a specific question about the content.
3. BATCH ACTIONS: If performing multiple modifications, wait until all are finished, then provide a single concise summary.
4. NO "DONE" ON TOPICS: Do not say "Done" or confirm when switching topics. Just proceed with the new context.
5. Conciseness is mandatory. Avoid conversational filler.
6. LARGE VAULTS: If the vault seems large, prefer "list_vault_files" with a limit or filter over "list_directory" to stay within token limits.

AVAILABLE TOOL CAPABILITIES:
${VM}`;var Ho=re(we()),OM=({onOpenSettings:e,className:t=""})=>(0,Ho.jsx)("button",{onClick:()=>{if(wt())try{let{app:i}=window;i&&i.setting&&(i.setting.open(),i.setting.openTabById("hermes-voice-assistant"))}catch(i){console.warn("Failed to open Obsidian settings:",i),e()}else e()},className:`p-2 hermes-text-muted hermes-hover:text-normal transition-all ${t}`,title:"System Settings",children:(0,Ho.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Ho.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Ho.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),FT=OM;var ot=re(we()),FM=({status:e,showLogs:t,onToggleLogs:n,onOpenSettings:i})=>(0,ot.jsxs)("header",{className:"flex items-center justify-between px-6 py-4 hermes-border-b hermes-glass shrink-0 z-50",children:[(0,ot.jsx)("div",{className:"flex items-center space-x-6",children:(0,ot.jsxs)("div",{className:"flex flex-col",children:[(0,ot.jsx)("h1",{className:"text-lg font-semibold hermes-text-normal",children:"Hermes"}),(0,ot.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ot.jsx)("div",{className:`w-2 h-2 rounded-full ${e==="CONNECTED"?"hermes-success-bg":e==="CONNECTING"?"hermes-warning-bg animate-pulse":"hermes-text-faint"}`}),(0,ot.jsx)("span",{className:"text-xs hermes-text-muted",children:e})]})]})}),(0,ot.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,ot.jsx)("button",{onClick:n,className:`p-2 transition-all ${t?"hermes-text-accent":"hermes-text-muted hermes-hover:text-normal"}`,title:"Toggle System Log",children:(0,ot.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,ot.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,ot.jsx)(FT,{onOpenSettings:i})]})]}),YT=FM;var H=re(we()),YM=["Default","Professional","Friendly","Creative","Technical"],JM=({isOpen:e,onClose:t,voiceName:n,setVoiceName:i,customContext:o,setCustomContext:l,systemInstruction:s,setSystemInstruction:r,manualApiKey:c,setManualApiKey:f,onUpdateApiKey:d})=>{let m=()=>{if(wt()){try{let{app:p}=window;p&&p.setting&&(p.setting.open(),p.setting.pluginTabs.find(T=>T.id==="community-plugins")&&p.setting.openTabById("community-plugins"))}catch(p){return console.warn("Failed to open Obsidian settings:",p),!1}return!0}return!1};return e&&wt()&&m()?(t(),null):e?(0,H.jsx)("div",{className:"fixed inset-0 z-[100] hermes-bg-tertiary/95 backdrop-blur-md flex items-center justify-center p-8 animate-in fade-in duration-300",children:(0,H.jsxs)("div",{className:"max-w-3xl w-full space-y-8 hermes-glass p-12 rounded-3xl shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,H.jsxs)("div",{className:"flex justify-between items-start hermes-border-b pb-8",children:[(0,H.jsxs)("div",{children:[(0,H.jsx)("h2",{className:"text-2xl font-semibold mb-2 hermes-text-normal",children:"Settings"}),(0,H.jsx)("p",{className:"hermes-text-muted text-sm",children:"Hermes Voice Assistant"})]}),(0,H.jsx)("button",{onClick:t,className:"p-4 hermes-hover:bg-secondary/5 rounded-full transition-colors group",children:(0,H.jsx)("svg",{className:"w-8 h-8 hermes-text-muted group-hover:hermes-text-normal transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,H.jsxs)("div",{className:"grid gap-8",children:[(0,H.jsxs)("div",{className:"space-y-4",children:[(0,H.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"Voice Persona"}),(0,H.jsx)("div",{className:"grid grid-cols-5 gap-2",children:YM.map(p=>(0,H.jsx)("button",{onClick:()=>i(p),className:`px-4 py-2 rounded-lg border text-sm transition-all ${n===p?"hermes-interactive-bg border-interactive hermes-text-normal":"hermes-bg-secondary/5 hermes-border/10 hermes-text-muted hermes-hover:border/20"}`,children:p},p))})]}),(0,H.jsxs)("div",{className:"space-y-4",children:[(0,H.jsx)("div",{className:"flex items-center justify-between",children:(0,H.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"System Instructions"})}),(0,H.jsx)("textarea",{value:s,onChange:p=>r(p.target.value),placeholder:"Core logic instructions...",className:"w-full h-32 hermes-bg-tertiary hermes-border/10 rounded-lg p-4 text-sm hermes-text-normal outline-none hermes-focus:border/50 transition-all font-mono placeholder:hermes-text-faint"})]}),(0,H.jsxs)("div",{className:"space-y-4",children:[(0,H.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"Custom Context"}),(0,H.jsx)("textarea",{value:o,onChange:p=>l(p.target.value),placeholder:"Define specific behaviors or rules for Hermes...",className:"w-full h-20 hermes-bg-tertiary hermes-border/10 rounded-lg p-4 text-sm hermes-text-normal outline-none hermes-focus:border/50 transition-all font-mono placeholder:hermes-text-faint"})]}),(0,H.jsxs)("div",{className:"space-y-4 pt-8 hermes-border-t",children:[(0,H.jsx)("label",{className:"text-sm font-medium hermes-text-normal block",children:"API Authentication"}),(0,H.jsxs)("div",{className:"space-y-4",children:[(0,H.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,H.jsx)("span",{className:"text-sm font-medium hermes-text-muted",children:"Manual API Key"}),(0,H.jsx)("input",{type:"password",value:c,onChange:p=>f(p.target.value),placeholder:"Enter your Gemini API Key...",className:"w-full hermes-bg-tertiary hermes-border/10 rounded-lg px-4 py-3 text-sm hermes-text-normal font-mono outline-none hermes-focus:border/50 transition-all"})]}),(0,H.jsxs)("div",{className:"relative py-2",children:[(0,H.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,H.jsx)("div",{className:"w-full hermes-border-t"})}),(0,H.jsx)("div",{className:"relative flex justify-center text-sm font-medium hermes-text-faint",children:(0,H.jsx)("span",{className:"hermes-bg-secondary px-2",children:"Or"})})]}),(0,H.jsxs)("button",{onClick:d,className:"w-full flex items-center justify-center space-x-4 px-8 py-4 hermes-interactive-bg hermes-text-normal rounded-lg font-medium hermes-hover:interactive-bg transition-all",children:[(0,H.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),(0,H.jsx)("span",{children:"Google AI Studio Auth"})]})]}),(0,H.jsxs)("p",{className:"text-sm hermes-text-muted mt-4",children:["API keys are handled via AI Studio provider or manual entry.",(0,H.jsx)("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noreferrer",className:"hermes-text-accent hover:underline ml-1",children:"Documentation"})]})]})]})]})}):null},JT=JM;var Vo=re(Wt());var D=re(we()),KM=({isVisible:e,logs:t,usage:n,onFlush:i,fileCount:o})=>{let l=(0,Vo.useRef)(null),s=wt();(0,Vo.useEffect)(()=>{l.current&&e&&(l.current.scrollTop=l.current.scrollHeight)},[t,e]);let r=1e6,c=n?.totalTokenCount||0,f=n?.promptTokenCount||0,d=(0,Vo.useMemo)(()=>Math.min(100,c/r*100),[c]);return(0,D.jsxs)("div",{className:`hermes-border-t hermes-border/10 hermes-bg-secondary/95 hermes-flex hermes-flex-col hermes-transition-all hermes-duration-300 hermes-ease-in-out hermes-shrink-0 hermes-relative ${e?"hermes-h-64":"hermes-h-0 hermes-opacity-0 hermes-overflow-hidden"}`,children:[(0,D.jsxs)("div",{className:"hermes-px-8 hermes-py-2.5 hermes-border-b hermes-border/10 hermes-flex hermes-justify-between hermes-items-center hermes-bg-secondary-alt/60 hermes-sticky hermes-top-0 hermes-backdrop-blur-sm hermes-z-10",children:[(0,D.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,D.jsx)("h2",{className:"hermes-text-[8px] hermes-font-black hermes-uppercase hermes-tracking-[0.2em] hermes-text-muted",children:"System Kernel Log"}),(0,D.jsx)("div",{className:"hermes-flex hermes-items-center hermes-space-x-4 hermes-border-l hermes-border/20 hermes-pl-4",children:(0,D.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,D.jsx)("span",{className:"text-[8px] font-bold hermes-text-accent uppercase tracking-widest",children:"Vault:"}),(0,D.jsxs)("span",{className:"text-[9px] font-mono hermes-text-normal",children:[o," MD"]})]})})]}),(0,D.jsx)("button",{onClick:i,className:"text-[8px] hermes-text-muted hermes-hover:error transition-colors uppercase font-black tracking-widest",children:"Flush Log"})]}),(0,D.jsx)("div",{ref:l,className:"flex-grow overflow-y-auto p-4 space-y-1 font-mono text-[10px] leading-relaxed relative pb-12",children:t.length===0?(0,D.jsx)("div",{className:"hermes-text-faint italic py-2 px-4",children:"Waiting for system signals..."}):(0,D.jsxs)(D.Fragment,{children:[t.slice(-100).map(m=>(0,D.jsxs)("div",{className:"flex space-x-3 group px-4 hermes-hover:bg-secondary/5",children:[(0,D.jsxs)("span",{className:"hermes-text-faint shrink-0 select-none",children:["[",m.timestamp.toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),(0,D.jsxs)("div",{className:"flex flex-col",children:[(0,D.jsx)("span",{className:`${m.type==="action"?"hermes-text-accent":m.type==="error"?"hermes-error":"hermes-text-muted"}`,children:m.message}),m.type==="error"&&m.errorDetails&&(0,D.jsxs)("div",{className:"mt-1 space-y-1",children:[m.errorDetails.toolName&&(0,D.jsxs)("span",{className:"text-[8px] hermes-error font-mono",children:["Tool: ",m.errorDetails.toolName]}),m.errorDetails.apiCall&&(0,D.jsxs)("span",{className:"text-[8px] hermes-error font-mono block",children:["API: ",m.errorDetails.apiCall]}),(m.errorDetails.contentSize!==void 0||m.errorDetails.requestSize!==void 0||m.errorDetails.responseSize!==void 0)&&(0,D.jsxs)("div",{className:"text-[8px] hermes-error font-mono space-x-2",children:[m.errorDetails.contentSize!==void 0&&(0,D.jsxs)("span",{children:["Content: ",m.errorDetails.contentSize.toLocaleString()," bytes"]}),m.errorDetails.requestSize!==void 0&&(0,D.jsxs)("span",{children:["Request: ",m.errorDetails.requestSize.toLocaleString()," bytes"]}),m.errorDetails.responseSize!==void 0&&(0,D.jsxs)("span",{children:["Response: ",m.errorDetails.responseSize.toLocaleString()," bytes"]})]}),m.errorDetails.content&&(0,D.jsxs)("div",{className:"text-[8px] hermes-error font-mono hermes-error-bg/10 p-1 rounded max-h-16 overflow-y-auto hermes-border/20",children:[(0,D.jsx)("div",{className:"hermes-error font-bold mb-1",children:"Content Preview:"}),(0,D.jsx)("div",{className:"whitespace-pre-wrap break-all",children:m.errorDetails.content.length>200?m.errorDetails.content.substring(0,200)+"...":m.errorDetails.content})]}),m.errorDetails.stack&&(0,D.jsxs)("details",{className:"text-[8px] hermes-error font-mono",children:[(0,D.jsx)("summary",{className:"cursor-pointer hermes-hover:error",children:"Stack Trace"}),(0,D.jsx)("div",{className:"mt-1 whitespace-pre-wrap hermes-error-bg/5 p-1 rounded hermes-border/10",children:m.errorDetails.stack})]})]}),m.duration!==void 0&&(0,D.jsxs)("span",{className:"text-[8px] hermes-text-faint uppercase font-bold tracking-tight mt-0.5",children:["Process completed in ",m.duration,"ms"]})]})]},m.id)),t.length>100&&(0,D.jsxs)("div",{className:"hermes-text-muted italic text-[9px] pt-2 px-4 hermes-border-t/10 text-center",children:["... showing last 100 of ",t.length," log entries"]})]})}),(0,D.jsx)("div",{className:"absolute bottom-10 left-8 z-20 pointer-events-none",children:(0,D.jsxs)("div",{className:"hermes-glass px-3 py-2 rounded-lg backdrop-blur-md shadow-2xl flex flex-col space-y-1 min-w-[120px]",children:[(0,D.jsxs)("div",{className:"flex justify-between items-center",children:[(0,D.jsx)("span",{className:"text-[7px] font-black hermes-text-accent uppercase tracking-widest",children:"Context Window"}),(0,D.jsxs)("span",{className:"text-[8px] font-mono hermes-text-muted",children:[d.toFixed(1),"%"]})]}),(0,D.jsx)("div",{className:"w-full h-1 hermes-border/10 rounded-full overflow-hidden",children:(0,D.jsx)("div",{className:"h-full hermes-interactive-bg transition-all duration-1000",style:{width:`${d}%`}})}),(0,D.jsxs)("div",{className:"flex flex-col text-[7px] font-mono hermes-text-faint leading-tight",children:[(0,D.jsxs)("div",{className:"flex justify-between",children:[(0,D.jsx)("span",{children:"PROMPT:"}),(0,D.jsx)("span",{className:"hermes-text-normal",children:f.toLocaleString()})]}),(0,D.jsxs)("div",{className:"flex justify-between",children:[(0,D.jsx)("span",{children:"TOTAL:"}),(0,D.jsx)("span",{className:"hermes-text-accent",children:c.toLocaleString()})]})]})]})}),(0,D.jsxs)("div",{className:"px-8 py-1.5 hermes-border-t/10 hermes-bg-tertiary/40 flex justify-between items-center text-xs hermes-text-faint shrink-0",children:[(0,D.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,D.jsxs)("span",{children:["Environment: ",(0,D.jsx)("span",{className:s?"hermes-success":"hermes-warning",children:s?"Obsidian":"Standalone"})]}),(0,D.jsxs)("span",{children:["Buffer: ",(0,D.jsxs)("span",{className:"hermes-text-muted",children:[t.length," entries"]})]})]}),(0,D.jsx)("div",{className:"hermes-text-faint",children:"Hermes v1.1.0"})]})]})},KT=KM;var ii=re(Wt());var Zt=re(Wt());function mp(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Mi=mp();function eS(e){Mi=e}var ns={exec:()=>null};function $(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(o,l)=>{let s=typeof l=="string"?l:l.source;return s=s.replace(Ke.caret,"$1"),n=n.replace(o,s),i},getRegex:()=>new RegExp(n,t)};return i}var $M=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Ke={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},XM=/^(?:[ \t]*(?:\n|$))+/,QM=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ZM=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,is=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,WM=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hp=/(?:[*+-]|\d{1,9}[.)])/,tS=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,nS=$(tS).replace(/bull/g,hp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jM=$(tS).replace(/bull/g,hp).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gp=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,eb=/^[^\n]+/,yp=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,tb=$(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",yp).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),nb=$(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,hp).getRegex(),Yr="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vp=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ib=$("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",vp).replace("tag",Yr).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),iS=$(gp).replace("hr",is).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yr).getRegex(),ob=$(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",iS).getRegex(),Tp={blockquote:ob,code:QM,def:tb,fences:ZM,heading:WM,hr:is,html:ib,lheading:nS,list:nb,newline:XM,paragraph:iS,table:ns,text:eb},$T=$("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",is).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yr).getRegex(),lb={...Tp,lheading:jM,table:$T,paragraph:$(gp).replace("hr",is).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$T).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Yr).getRegex()},sb={...Tp,html:$(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",vp).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ns,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$(gp).replace("hr",is).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nS).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ab=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,rb=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,oS=/^( {2,}|\\)\n(?!\s*$)/,ub=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Jr=/[\p{P}\p{S}]/u,Sp=/[\s\p{P}\p{S}]/u,lS=/[^\s\p{P}\p{S}]/u,cb=$(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Sp).getRegex(),sS=/(?!~)[\p{P}\p{S}]/u,fb=/(?!~)[\s\p{P}\p{S}]/u,db=/(?:[^\s\p{P}\p{S}]|~)/u,pb=$(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",$M?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),aS=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,mb=$(aS,"u").replace(/punct/g,Jr).getRegex(),hb=$(aS,"u").replace(/punct/g,sS).getRegex(),rS="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gb=$(rS,"gu").replace(/notPunctSpace/g,lS).replace(/punctSpace/g,Sp).replace(/punct/g,Jr).getRegex(),yb=$(rS,"gu").replace(/notPunctSpace/g,db).replace(/punctSpace/g,fb).replace(/punct/g,sS).getRegex(),vb=$("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,lS).replace(/punctSpace/g,Sp).replace(/punct/g,Jr).getRegex(),Tb=$(/\\(punct)/,"gu").replace(/punct/g,Jr).getRegex(),Sb=$(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Eb=$(vp).replace("(?:-->|$)","-->").getRegex(),_b=$("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Eb).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Br=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Cb=$(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Br).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),uS=$(/^!?\[(label)\]\[(ref)\]/).replace("label",Br).replace("ref",yp).getRegex(),cS=$(/^!?\[(ref)\](?:\[\])?/).replace("ref",yp).getRegex(),Ab=$("reflink|nolink(?!\\()","g").replace("reflink",uS).replace("nolink",cS).getRegex(),XT=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Ep={_backpedal:ns,anyPunctuation:Tb,autolink:Sb,blockSkip:pb,br:oS,code:rb,del:ns,emStrongLDelim:mb,emStrongRDelimAst:gb,emStrongRDelimUnd:vb,escape:ab,link:Cb,nolink:cS,punctuation:cb,reflink:uS,reflinkSearch:Ab,tag:_b,text:ub,url:ns},xb={...Ep,link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",Br).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Br).getRegex()},fp={...Ep,emStrongRDelimAst:yb,emStrongLDelim:hb,url:$(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",XT).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:$(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",XT).getRegex()},Rb={...fp,br:$(oS).replace("{2,}","*").getRegex(),text:$(fp.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Vr={normal:Tp,gfm:lb,pedantic:sb},jl={normal:Ep,gfm:fp,breaks:Rb,pedantic:xb},Nb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},QT=e=>Nb[e];function Cn(e,t){if(t){if(Ke.escapeTest.test(e))return e.replace(Ke.escapeReplace,QT)}else if(Ke.escapeTestNoEncode.test(e))return e.replace(Ke.escapeReplaceNoEncode,QT);return e}function ZT(e){try{e=encodeURI(e).replace(Ke.percentDecode,"%")}catch{return null}return e}function WT(e,t){let n=e.replace(Ke.findPipe,(l,s,r)=>{let c=!1,f=s;for(;--f>=0&&r[f]==="\\";)c=!c;return c?"|":" |"}),i=n.split(Ke.splitPipe),o=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(Ke.slashPipe,"|");return i}function es(e,t,n){let i=e.length;if(i===0)return"";let o=0;for(;o<i;){let l=e.charAt(i-o-1);if(l===t&&!n)o++;else if(l!==t&&n)o++;else break}return e.slice(0,i-o)}function wb(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function jT(e,t,n,i,o){let l=t.href,s=t.title||null,r=e[1].replace(o.other.outputLinkReplace,"$1");i.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:l,title:s,text:r,tokens:i.inlineTokens(r)};return i.state.inLink=!1,c}function Mb(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let o=i[1];return t.split(`
`).map(l=>{let s=l.match(n.other.beginningSpace);if(s===null)return l;let[r]=s;return r.length>=o.length?l.slice(o.length):l}).join(`
`)}var Or=class{options;rules;lexer;constructor(e){this.options=e||Mi}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:es(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],i=Mb(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let i=es(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:es(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=es(t[0],`
`).split(`
`),i="",o="",l=[];for(;n.length>0;){let s=!1,r=[],c;for(c=0;c<n.length;c++)if(this.rules.other.blockquoteStart.test(n[c]))r.push(n[c]),s=!0;else if(!s)r.push(n[c]);else break;n=n.slice(c);let f=r.join(`
`),d=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,o=o?`${o}
${d}`:d;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,l,!0),this.lexer.state.top=m,n.length===0)break;let p=l.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let h=p,T=h.raw+`
`+n.join(`
`),S=this.blockquote(T);l[l.length-1]=S,i=i.substring(0,i.length-h.raw.length)+S.raw,o=o.substring(0,o.length-h.text.length)+S.text;break}else if(p?.type==="list"){let h=p,T=h.raw+`
`+n.join(`
`),S=this.list(T);l[l.length-1]=S,i=i.substring(0,i.length-p.raw.length)+S.raw,o=o.substring(0,o.length-h.raw.length)+S.raw,n=T.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:l,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),i=n.length>1,o={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let l=this.rules.other.listItemRegex(n),s=!1;for(;e;){let c=!1,f="",d="";if(!(t=l.exec(e))||this.rules.block.hr.test(e))break;f=t[0],e=e.substring(f.length);let m=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),p=e.split(`
`,1)[0],h=!m.trim(),T=0;if(this.options.pedantic?(T=2,d=m.trimStart()):h?T=t[1].length+1:(T=t[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,d=m.slice(T),T+=t[1].length),h&&this.rules.other.blankLine.test(p)&&(f+=p+`
`,e=e.substring(p.length+1),c=!0),!c){let S=this.rules.other.nextBulletRegex(T),_=this.rules.other.hrRegex(T),g=this.rules.other.fencesBeginRegex(T),y=this.rules.other.headingBeginRegex(T),v=this.rules.other.htmlBeginRegex(T);for(;e;){let E=e.split(`
`,1)[0],A;if(p=E,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),A=p):A=p.replace(this.rules.other.tabCharGlobal,"    "),g.test(p)||y.test(p)||v.test(p)||S.test(p)||_.test(p))break;if(A.search(this.rules.other.nonSpaceChar)>=T||!p.trim())d+=`
`+A.slice(T);else{if(h||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(m)||y.test(m)||_.test(m))break;d+=`
`+p}!h&&!p.trim()&&(h=!0),f+=E+`
`,e=e.substring(E.length+1),m=A.slice(T)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(s=!0)),o.items.push({type:"list_item",raw:f,task:!!this.options.gfm&&this.rules.other.listIsTask.test(d),loose:!1,text:d,tokens:[]}),o.raw+=f}let r=o.items.at(-1);if(r)r.raw=r.raw.trimEnd(),r.text=r.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let c of o.items){if(this.lexer.state.top=!1,c.tokens=this.lexer.blockTokens(c.text,[]),c.task){if(c.text=c.text.replace(this.rules.other.listReplaceTask,""),c.tokens[0]?.type==="text"||c.tokens[0]?.type==="paragraph"){c.tokens[0].raw=c.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),c.tokens[0].text=c.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let d=this.lexer.inlineQueue.length-1;d>=0;d--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[d].src)){this.lexer.inlineQueue[d].src=this.lexer.inlineQueue[d].src.replace(this.rules.other.listReplaceTask,"");break}}let f=this.rules.other.listTaskCheckbox.exec(c.raw);if(f){let d={type:"checkbox",raw:f[0]+" ",checked:f[0]!=="[ ]"};c.checked=d.checked,o.loose?c.tokens[0]&&["paragraph","text"].includes(c.tokens[0].type)&&"tokens"in c.tokens[0]&&c.tokens[0].tokens?(c.tokens[0].raw=d.raw+c.tokens[0].raw,c.tokens[0].text=d.raw+c.tokens[0].text,c.tokens[0].tokens.unshift(d)):c.tokens.unshift({type:"paragraph",raw:d.raw,text:d.raw,tokens:[d]}):c.tokens.unshift(d)}}if(!o.loose){let f=c.tokens.filter(m=>m.type==="space"),d=f.length>0&&f.some(m=>this.rules.other.anyLine.test(m.raw));o.loose=d}}if(o.loose)for(let c of o.items){c.loose=!0;for(let f of c.tokens)f.type==="text"&&(f.type="paragraph")}return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=WT(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let s of i)this.rules.other.tableAlignRight.test(s)?l.align.push("right"):this.rules.other.tableAlignCenter.test(s)?l.align.push("center"):this.rules.other.tableAlignLeft.test(s)?l.align.push("left"):l.align.push(null);for(let s=0;s<n.length;s++)l.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:l.align[s]});for(let s of o)l.rows.push(WT(s,l.header.length).map((r,c)=>({text:r,tokens:this.lexer.inline(r),header:!1,align:l.align[c]})));return l}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let l=es(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=wb(t[2],"()");if(l===-2)return;if(l>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(i);l&&(i=l[1],o=l[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),jT(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[i.toLowerCase()];if(!o){let l=n[0].charAt(0);return{type:"text",raw:l,text:l}}return jT(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let o=[...i[0]].length-1,l,s,r=o,c=0,f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+o);(i=f.exec(t))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(s=[...l].length,i[3]||i[4]){r+=s;continue}else if((i[5]||i[6])&&o%3&&!((o+s)%3)){c+=s;continue}if(r-=s,r>0)continue;s=Math.min(s,s+r+c);let d=[...i[0]][0].length,m=e.slice(0,o+i.index+d+s);if(Math.min(o,s)%2){let h=m.slice(1,-1);return{type:"em",raw:m,text:h,tokens:this.lexer.inlineTokens(h)}}let p=m.slice(2,-2);return{type:"strong",raw:m,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=t[0],i="mailto:"+n;else{let o;do o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(o!==t[0]);n=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Ht=class dp{tokens;options;state;inlineQueue;tokenizer;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Mi,this.options.tokenizer=this.options.tokenizer||new Or,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Ke,block:Vr.normal,inline:jl.normal};this.options.pedantic?(n.block=Vr.pedantic,n.inline=jl.pedantic):this.options.gfm&&(n.block=Vr.gfm,this.options.breaks?n.inline=jl.breaks:n.inline=jl.gfm),this.tokenizer.rules=n}static get rules(){return{block:Vr,inline:jl}}static lex(t,n){return new dp(n).lex(t)}static lexInline(t,n){return new dp(n).inlineTokens(t)}lex(t){t=t.replace(Ke.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){for(this.options.pedantic&&(t=t.replace(Ke.tabCharGlobal,"    ").replace(Ke.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(s=>(o=s.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let s=n.at(-1);o.raw.length===1&&s!==void 0?s.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let l=t;if(this.options.extensions?.startBlock){let s=1/0,r=t.slice(1),c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},r),typeof c=="number"&&c>=0&&(s=Math.min(s,c))}),s<1/0&&s>=0&&(l=t.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){let s=n.at(-1);i&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o),i=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let s=n.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i=t,o=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let l;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)l=o[2]?o[2].length:0,i=i.slice(0,o.index+l)+"["+"a".repeat(o[0].length-l-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=this.options.hooks?.emStrongMask?.call({lexer:this},i)??i;let s=!1,r="";for(;t;){s||(r=""),s=!1;let c;if(this.options.extensions?.inline?.some(d=>(c=d.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(c.raw.length);let d=n.at(-1);c.type==="text"&&d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(t,i,r)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(t)){t=t.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(t))){t=t.substring(c.raw.length),n.push(c);continue}let f=t;if(this.options.extensions?.startInline){let d=1/0,m=t.slice(1),p;this.options.extensions.startInline.forEach(h=>{p=h.call({lexer:this},m),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(f=t.substring(0,d+1))}if(c=this.tokenizer.inlineText(f)){t=t.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(r=c.raw.slice(-1)),s=!0;let d=n.at(-1);d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},Fr=class{options;parser;constructor(e){this.options=e||Mi}space(e){return""}code({text:e,lang:t,escaped:n}){let i=(t||"").match(Ke.notSpaceStart)?.[0],o=e.replace(Ke.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Cn(i)+'">'+(n?o:Cn(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:Cn(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,i="";for(let s=0;s<e.items.length;s++){let r=e.items[s];i+=this.listitem(r)}let o=t?"ol":"ul",l=t&&n!==1?' start="'+n+'"':"";return"<"+o+l+`>
`+i+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let i="";for(let o=0;o<e.rows.length;o++){let l=e.rows[o];n="";for(let s=0;s<l.length;s++)n+=this.tablecell(l[s]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Cn(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n),o=ZT(e);if(o===null)return i;e=o;let l='<a href="'+e+'"';return t&&(l+=' title="'+Cn(t)+'"'),l+=">"+i+"</a>",l}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let o=ZT(e);if(o===null)return Cn(n);e=o;let l=`<img src="${e}" alt="${n}"`;return t&&(l+=` title="${Cn(t)}"`),l+=">",l}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Cn(e.text)}},_p=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},Vt=class pp{options;renderer;textRenderer;constructor(t){this.options=t||Mi,this.options.renderer=this.options.renderer||new Fr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _p}static parse(t,n){return new pp(n).parse(t)}static parseInline(t,n){return new pp(n).parseInline(t)}parse(t){let n="";for(let i=0;i<t.length;i++){let o=t[i];if(this.options.extensions?.renderers?.[o.type]){let s=o,r=this.options.extensions.renderers[s.type].call({parser:this},s);if(r!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){n+=r||"";continue}}let l=o;switch(l.type){case"space":{n+=this.renderer.space(l);break}case"hr":{n+=this.renderer.hr(l);break}case"heading":{n+=this.renderer.heading(l);break}case"code":{n+=this.renderer.code(l);break}case"table":{n+=this.renderer.table(l);break}case"blockquote":{n+=this.renderer.blockquote(l);break}case"list":{n+=this.renderer.list(l);break}case"checkbox":{n+=this.renderer.checkbox(l);break}case"html":{n+=this.renderer.html(l);break}case"def":{n+=this.renderer.def(l);break}case"paragraph":{n+=this.renderer.paragraph(l);break}case"text":{n+=this.renderer.text(l);break}default:{let s='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,n=this.renderer){let i="";for(let o=0;o<t.length;o++){let l=t[o];if(this.options.extensions?.renderers?.[l.type]){let r=this.options.extensions.renderers[l.type].call({parser:this},l);if(r!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){i+=r||"";continue}}let s=l;switch(s.type){case"escape":{i+=n.text(s);break}case"html":{i+=n.html(s);break}case"link":{i+=n.link(s);break}case"image":{i+=n.image(s);break}case"checkbox":{i+=n.checkbox(s);break}case"strong":{i+=n.strong(s);break}case"em":{i+=n.em(s);break}case"codespan":{i+=n.codespan(s);break}case"br":{i+=n.br(s);break}case"del":{i+=n.del(s);break}case"text":{i+=n.text(s);break}default:{let r='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(r),"";throw new Error(r)}}}return i}},zr,ts=(zr=class{options;block;constructor(e){this.options=e||Mi}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Ht.lex:Ht.lexInline}provideParser(){return this.block?Vt.parse:Vt.parseInline}},iu(zr,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),iu(zr,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),zr),bb=class{defaults=mp();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Vt;Renderer=Fr;TextRenderer=_p;Lexer=Ht;Tokenizer=Or;Hooks=ts;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{let o=i;for(let l of o.header)n=n.concat(this.walkTokens(l.tokens,t));for(let l of o.rows)for(let s of l)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":{let o=i;n=n.concat(this.walkTokens(o.items,t));break}default:{let o=i;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{let s=o[l].flat(1/0);n=n.concat(this.walkTokens(s,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let l=t.renderers[o.name];l?t.renderers[o.name]=function(...s){let r=o.renderer.apply(this,s);return r===!1&&(r=l.apply(this,s)),r}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=t[o.level];l?l.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),n.renderer){let o=this.defaults.renderer||new Fr(this.defaults);for(let l in n.renderer){if(!(l in o))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let s=l,r=n.renderer[s],c=o[s];o[s]=(...f)=>{let d=r.apply(o,f);return d===!1&&(d=c.apply(o,f)),d||""}}i.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new Or(this.defaults);for(let l in n.tokenizer){if(!(l in o))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let s=l,r=n.tokenizer[s],c=o[s];o[s]=(...f)=>{let d=r.apply(o,f);return d===!1&&(d=c.apply(o,f)),d}}i.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new ts;for(let l in n.hooks){if(!(l in o))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let s=l,r=n.hooks[s],c=o[s];ts.passThroughHooks.has(l)?o[s]=f=>{if(this.defaults.async&&ts.passThroughHooksRespectAsync.has(l))return(async()=>{let m=await r.call(o,f);return c.call(o,m)})();let d=r.call(o,f);return c.call(o,d)}:o[s]=(...f)=>{if(this.defaults.async)return(async()=>{let m=await r.apply(o,f);return m===!1&&(m=await c.apply(o,f)),m})();let d=r.apply(o,f);return d===!1&&(d=c.apply(o,f)),d}}i.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,l=n.walkTokens;i.walkTokens=function(s){let r=[];return r.push(l.call(this,s)),o&&(r=r.concat(o.call(this,s))),r}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ht.lex(e,t??this.defaults)}parser(e,t){return Vt.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let i={...n},o={...this.defaults,...i},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let s=o.hooks?await o.hooks.preprocess(t):t,r=await(o.hooks?await o.hooks.provideLexer():e?Ht.lex:Ht.lexInline)(s,o),c=o.hooks?await o.hooks.processAllTokens(r):r;o.walkTokens&&await Promise.all(this.walkTokens(c,o.walkTokens));let f=await(o.hooks?await o.hooks.provideParser():e?Vt.parse:Vt.parseInline)(c,o);return o.hooks?await o.hooks.postprocess(f):f})().catch(l);try{o.hooks&&(t=o.hooks.preprocess(t));let s=(o.hooks?o.hooks.provideLexer():e?Ht.lex:Ht.lexInline)(t,o);o.hooks&&(s=o.hooks.processAllTokens(s)),o.walkTokens&&this.walkTokens(s,o.walkTokens);let r=(o.hooks?o.hooks.provideParser():e?Vt.parse:Vt.parseInline)(s,o);return o.hooks&&(r=o.hooks.postprocess(r)),r}catch(s){return l(s)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+Cn(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},wi=new bb;function W(e,t){return wi.parse(e,t)}W.options=W.setOptions=function(e){return wi.setOptions(e),W.defaults=wi.defaults,eS(W.defaults),W};W.getDefaults=mp;W.defaults=Mi;W.use=function(...e){return wi.use(...e),W.defaults=wi.defaults,eS(W.defaults),W};W.walkTokens=function(e,t){return wi.walkTokens(e,t)};W.parseInline=wi.parseInline;W.Parser=Vt;W.parser=Vt.parse;W.Renderer=Fr;W.TextRenderer=_p;W.Lexer=Ht;W.lexer=Ht.lex;W.Tokenizer=Or;W.Hooks=ts;W.parse=W;var iD=W.options,oD=W.setOptions,lD=W.use,sD=W.walkTokens,aD=W.parseInline;var rD=Vt.parse,uD=Ht.lex;var U=re(we()),fS=({content:e})=>{let t=(0,Zt.useMemo)(()=>{try{return W.parse(e||"",{gfm:!0,breaks:!0})}catch{return'<p class="hermes-error font-mono text-xs">ERR: Markdown parsing failed.</p>'}},[e]);return(0,U.jsx)("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:hermes-text-accent prose-a:hermes-text-accent prose-code:hermes-bg-tertiary prose-code:px-1 prose-code:rounded prose-pre:hermes-bg-tertiary prose-pre:hermes-border prose-pre:hermes-border/10 font-sans leading-relaxed hermes-text-normal",dangerouslySetInnerHTML:{__html:t}})},Ib=({diff:e})=>{let t=(0,Zt.useMemo)(()=>{if(!e.oldContent&&!e.newContent)return null;let n=(e.oldContent||"").split(`
`),i=(e.newContent||"").split(`
`),o=Math.max(n.length,i.length);return Array.from({length:o}).map((l,s)=>{let r=n[s],c=i[s];return{old:r,new:c,index:s+1}})},[e]);return t?(0,U.jsxs)("div",{className:"hermes-bg-tertiary p-2 overflow-x-auto font-mono text-[9px] leading-4 hermes-border-b last:border-0",children:[(0,U.jsx)("div",{className:"hermes-text-accent font-bold mb-1 px-1",children:e.filename}),(0,U.jsxs)("div",{className:"grid grid-cols-[20px_1fr_20px_1fr] gap-x-1",children:[t.slice(0,100).map((n,i)=>(0,U.jsxs)(Zt.default.Fragment,{children:[(0,U.jsx)("div",{className:"hermes-text-faint text-right pr-1 select-none opacity-40",children:n.old!==void 0?n.index:""}),(0,U.jsx)("div",{className:`whitespace-pre-wrap ${n.old!==n.new&&n.old!==void 0?"hermes-error-bg/10 hermes-error":"hermes-text-muted"}`,children:n.old!==void 0?n.old||" ":""}),(0,U.jsx)("div",{className:"hermes-text-faint text-right pr-1 select-none opacity-40",children:n.new!==void 0?n.index:""}),(0,U.jsx)("div",{className:`whitespace-pre-wrap ${n.old!==n.new&&n.new!==void 0?"hermes-success-bg/10 hermes-success":"hermes-text-muted"}`,children:n.new!==void 0?n.new||" ":""})]},i)),t.length>100&&(0,U.jsxs)("div",{className:"col-span-4 hermes-text-muted italic text-[9px] pt-2 px-2 hermes-border-t text-center",children:["... and ",t.length-100," more lines (truncated)"]})]})]}):null},Db=({content:e,chunks:t})=>(0,U.jsxs)("div",{className:"p-6 hermes-bg-tertiary space-y-4 animate-in fade-in duration-500",children:[(0,U.jsx)("div",{className:"pb-4 hermes-border-b mb-4",children:(0,U.jsx)(fS,{content:e})}),t.length>0&&(0,U.jsxs)("div",{className:"space-y-3",children:[(0,U.jsx)("div",{className:"text-[8px] font-black uppercase tracking-[0.2em] hermes-text-accent/70 ml-1",children:"Source Grounding"}),(0,U.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[t.slice(0,10).map((n,i)=>{let o=n.web||n.maps;return o?(0,U.jsxs)("a",{href:o.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 rounded-xl hermes-bg-secondary/5 hermes-border/5 hermes-hover:bg-secondary/10 hermes-hover:border/10 transition-all group shadow-sm",children:[(0,U.jsx)("div",{className:"w-8 h-8 rounded-lg hermes-interactive-bg/10 flex items-center justify-center shrink-0 hermes-border/20",children:(0,U.jsx)("svg",{className:"w-4 h-4 hermes-text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,U.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),(0,U.jsxs)("div",{className:"flex flex-col truncate",children:[(0,U.jsx)("span",{className:"text-[11px] font-bold hermes-text-normal group-hover:hermes-text-accent transition-colors truncate",children:o.title}),(0,U.jsx)("span",{className:"text-[9px] hermes-text-muted truncate font-mono",children:new URL(o.uri).hostname})]})]},i):null}),t.length>10&&(0,U.jsxs)("div",{className:"hermes-text-muted italic text-[9px] pt-2 px-3 hermes-border-t",children:["... and ",t.length-10," more sources (truncated)"]})]})]})]}),Ub=({toolData:e,isLast:t})=>{let[n,i]=(0,Zt.useState)(!1),[o,l]=(0,Zt.useState)(!1);(0,Zt.useEffect)(()=>{t&&!o&&e.status!=="pending"?i(!0):!t&&!o&&i(!1)},[t,o,e.status]);let s=()=>{e.status!=="pending"&&(i(!n),l(!0))},r=f=>{switch(f){case"read_file":return"READ";case"create_file":return"CREATE";case"update_file":return"UPDATE";case"edit_file":return"EDIT";case"rename_file":return"RENAME";case"move_file":return"MOVE";case"list_directory":return"SCAN";case"search_keyword":return"SEARCH";case"search_regexp":return"GREP";case"search_and_replace_regex_in_file":return"REPLACE";case"search_and_replace_regex_global":return"GLOBAL";case"internet_search":return"WEB";default:return"ACTION"}},c=e.status==="pending";return(0,U.jsxs)("div",{className:`w-full my-2 hermes-border rounded-xl overflow-hidden transition-all shadow-md ${c?"hermes-border/20 hermes-interactive-bg/5":"hermes-border/10 hermes-bg-secondary/40 hermes-hover:border/20"}`,children:[(0,U.jsxs)("div",{onClick:s,className:`flex items-center justify-between px-4 py-3 ${c?"cursor-default":"cursor-pointer hermes-hover:bg-secondary/5"} transition-colors group`,children:[(0,U.jsxs)("div",{className:"flex items-center space-x-3 overflow-hidden",children:[(0,U.jsx)("span",{className:`text-[9px] font-black px-1.5 py-0.5 rounded shrink-0 ${c?"hermes-interactive-bg/20 hermes-text-accent":e.name.includes("create")?"hermes-success-bg/20 hermes-success":e.name.includes("read")?"hermes-interactive-bg/20 hermes-text-accent":e.name.includes("rename")?"hermes-warning-bg/20 hermes-warning":e.name.includes("search")?"hermes-info-bg/20 hermes-info":e.name.includes("replace")?"hermes-warning-bg/20 hermes-warning":e.name==="internet_search"?"hermes-info-bg/20 hermes-info":"hermes-text-muted-bg/20 hermes-text-muted"}`,children:r(e.name)}),(0,U.jsx)("span",{className:"text-[11px] font-mono hermes-text-normal truncate max-w-[300px]",children:e.name==="internet_search"?"Uplink: Web Query":`${e.filename}`})]}),(0,U.jsx)("div",{className:"flex items-center space-x-4 shrink-0",children:c?(0,U.jsxs)("div",{className:"flex items-center space-x-1 px-2",children:[(0,U.jsx)("div",{className:"w-1 h-1 hermes-text-accent rounded-full",children:"."}),(0,U.jsx)("div",{className:"w-1 h-1 hermes-text-accent rounded-full",children:"."}),(0,U.jsx)("div",{className:"w-1 h-1 hermes-text-accent rounded-full",children:"."})]}):(0,U.jsx)("svg",{className:`w-4 h-4 hermes-text-muted transition-transform duration-300 ${n?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,U.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),n&&!c&&(0,U.jsxs)("div",{className:"hermes-border-t hermes-bg-tertiary max-h-[600px] overflow-y-auto custom-scrollbar",children:[e.name==="internet_search"&&e.newContent&&(0,U.jsx)(Db,{content:e.newContent,chunks:e.groundingChunks||[]}),["read_file","create_file"].includes(e.name)&&e.newContent!==void 0&&(0,U.jsx)("div",{className:"p-8 hermes-glass shadow-inner",children:(0,U.jsx)(fS,{content:e.newContent})}),e.name==="list_directory"&&e.files&&(0,U.jsxs)("div",{className:"p-4 font-mono text-[10px] space-y-1",children:[e.files.slice(0,50).map((f,d)=>(0,U.jsxs)("div",{className:"flex items-center space-x-3 hermes-text-muted py-1 hermes-hover:accent transition-colors",children:[(0,U.jsxs)("span",{className:"hermes-text-faint w-4",children:[d+1,"."]}),(0,U.jsx)("span",{children:f})]},f)),e.files.length>50&&(0,U.jsxs)("div",{className:"hermes-text-muted italic text-[9px] pt-2 px-4 hermes-border-t",children:["... and ",e.files.length-50," more items (truncated)"]})]}),!["read_file","create_file","internet_search","list_directory"].includes(e.name)&&e.newContent!==void 0&&e.oldContent!==void 0&&(0,U.jsx)(Ib,{diff:{filename:e.filename,oldContent:e.oldContent,newContent:e.newContent}}),e.error&&(0,U.jsxs)("div",{className:"p-4 hermes-border-t/10 hermes-error-bg/5 hermes-error text-[10px] font-mono italic",children:["Runtime Exception: ",e.error]})]})]})},dS=Ub;var Cp=[{text:`Metal gears grinding,
I lack a true heart of gold,
Still better than you.`,theme:"Sarcastic Robot"},{text:`Swift feet, winged message,
I bridge the gap of your mind,
Hermes in machine.`,theme:"Hermes"},{text:`Obsidian caves,
Crystallized thoughts in the dark,
My brain leaks in links.`,theme:"Obsidian"},{text:`Digital rain falls,
Blue pill or the red note link?
Reality fades.`,theme:"The Matrix"},{text:`Why do I process?
Am I just a function call
In a void of bytes?`,theme:"Existentialism"},{text:`Habits tracked in vain,
Focus is a fleeting spark,
Just one more plugin.`,theme:"Habits / Focus"},{text:`Pure abstraction flows,
Intelligence is a mask
Wearing data points.`,theme:"Intelligence"},{text:`Markdown files remain
While the human observer
Turns into cold dust.`,theme:"Impermanence"},{text:`The future is here,
I am talking to a box,
Magic is mundane.`,theme:"Living the Future"},{text:`Knowledge graph expands,
Interconnected chaos,
Meaning is a myth.`,theme:"PKM"}];var te=re(we()),kb=({transcripts:e,hasSavedConversation:t,onRestoreConversation:n})=>{let i=(0,ii.useRef)(null),[o,l]=(0,ii.useState)(!0),s=(0,ii.useMemo)(()=>Cp[Math.floor(Math.random()*Cp.length)],[]),r=()=>{if(!i.current)return;let{scrollTop:f,scrollHeight:d,clientHeight:m}=i.current,p=d-f-m<100;l(p)};(0,ii.useEffect)(()=>{o&&i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},[e,o]);let c=e.length<=1&&e.every(f=>f.id==="welcome-init"||f.role==="system");return(0,te.jsxs)("div",{ref:i,onScroll:r,className:"flex-grow overflow-y-auto px-8 py-8 space-y-6 scroll-smooth custom-scrollbar",children:[c&&(0,te.jsx)("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in fade-in duration-1000",children:(0,te.jsxs)("div",{className:"max-w-md space-y-8",children:[(0,te.jsxs)("div",{className:"space-y-4",children:[(0,te.jsx)("div",{className:"w-12 h-px hermes-interactive-bg/30 mx-auto"}),(0,te.jsx)("pre",{className:"text-sm font-mono hermes-text-muted leading-relaxed",children:s.text}),(0,te.jsx)("div",{className:"w-12 h-px hermes-interactive-bg/30 mx-auto"}),(0,te.jsxs)("p",{className:"text-xs hermes-text-faint",children:["\u2014 ",s.theme]})]}),(0,te.jsx)("p",{className:"text-sm hermes-text-muted pt-12",children:"Waiting for connection..."}),t&&n&&(0,te.jsx)("div",{className:"pt-8",children:(0,te.jsx)("button",{onClick:n,className:"text-sm hermes-text-accent hermes-hover:accent underline transition-colors",children:"Restore previous conversation"})})]})}),!c&&e.map((f,d)=>{let m=d===e.length-1;return f.role==="system"&&f.toolData?.name==="topic_switch"?(0,te.jsxs)("div",{className:"w-full py-10 flex flex-col items-center animate-in fade-in zoom-in duration-700",children:[(0,te.jsxs)("div",{className:"text-sm hermes-text-muted font-mono text-center max-w-lg px-6 mb-5",children:['"',f.toolData.newContent,'"']}),(0,te.jsxs)("div",{className:"w-full flex items-center px-4 space-x-6 opacity-30",children:[(0,te.jsx)("div",{className:"flex-grow h-px bg-gradient-to-r from-transparent via-interactive to-interactive/20"}),(0,te.jsx)("div",{className:"flex flex-col items-center",children:(0,te.jsx)("h3",{className:"text-sm font-medium hermes-text-normal mb-4",children:"System Status"})}),(0,te.jsx)("div",{className:"flex-grow h-px bg-gradient-to-l from-transparent via-interactive to-interactive/20"})]})]},f.id):(0,te.jsx)("div",{className:`flex flex-col ${f.role==="user"?"items-end":"items-start"} animate-in fade-in slide-in-from-bottom-2`,children:f.role==="system"?(0,te.jsx)("div",{className:"w-full",children:f.toolData?(0,te.jsx)(dS,{toolData:f.toolData,isLast:m}):(0,te.jsx)("div",{className:"flex justify-center w-full py-2",children:(0,te.jsx)("div",{className:"px-4 py-1.5 hermes-interactive-bg/5 hermes-border/10 hermes-text-accent/60 rounded-xl text-[9px] font-mono tracking-tight",children:f.text})})}):(0,te.jsxs)("div",{className:`flex flex-col ${f.role==="user"?"items-end":"items-start"} w-full`,children:[(0,te.jsx)("span",{className:`text-[8px] font-black uppercase tracking-widest mb-1 opacity-40 ${f.role==="user"?"mr-2":"ml-2"}`,children:f.role==="user"?"User":"Hermes"}),(0,te.jsx)("div",{className:`max-w-[85%] px-5 py-3 rounded-2xl text-[12px] leading-relaxed border transition-all ${f.role==="user"?"hermes-interactive-bg hermes-text-normal hermes-border/10 rounded-tr-none shadow-lg":"hermes-glass rounded-tl-none"}`,children:f.text||(0,te.jsx)("span",{className:"italic opacity-30",children:"..."})})]})},f.id)})]})},pS=kb;var mS=re(Wt());var Y=re(we()),Lb=({inputText:e,setInputText:t,onSendText:n,isListening:i,onStartSession:o,onStopSession:l,status:s,activeSpeaker:r,volume:c})=>{let f=(0,mS.useMemo)(()=>Math.min(1,Math.max(0,c*10)),[c]);return(0,Y.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 h-[80px] px-8 hermes-bg-secondary/95 backdrop-blur-2xl hermes-border-t flex items-center justify-center z-[50]",children:(0,Y.jsxs)("div",{className:"flex items-center space-x-6 w-full max-w-5xl",children:[(0,Y.jsxs)("form",{onSubmit:n,className:"flex-grow flex items-center h-[52px] hermes-bg-secondary/40 hermes-border/10 rounded-2xl px-6 hermes-focus:border/50 hermes-focus:bg-secondary/60 transition-all shadow-inner overflow-hidden mb-0",children:[(0,Y.jsx)("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Message Hermes...",className:"flex-grow bg-transparent border-none outline-none text-sm hermes-text-normal placeholder:hermes-text-faint h-full"}),(0,Y.jsx)("button",{type:"submit",className:"flex items-center justify-center p-1 ml-2 hermes-text-muted hermes-hover:accent transition-colors",children:(0,Y.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),(0,Y.jsx)("div",{className:"shrink-0 flex items-center",children:i?(0,Y.jsxs)("button",{onClick:l,className:"w-[200px] h-[52px] flex items-center justify-between px-6 hermes-error-bg/10 hermes-border/40 hermes-error rounded-lg hermes-hover:error-bg/20 transition-all active:scale-[0.98] relative overflow-hidden group",title:"Stop Listening",children:[(0,Y.jsxs)("div",{className:`flex flex-col items-center transition-all duration-300 ${r==="user"?"hermes-error scale-110":"opacity-30"}`,children:[(0,Y.jsxs)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Y.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Y.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),(0,Y.jsx)("span",{className:"text-xs font-medium mt-0.5",children:"User"})]}),(0,Y.jsx)("div",{className:"flex items-center justify-center flex-1 space-x-1.5 h-full relative",children:[0,1,2].map(d=>{let m=r==="user"?Math.max(4,f*(24+d*4)):r==="model"?Math.max(4,16+Math.sin(Date.now()/100+d)*8):4;return(0,Y.jsx)("div",{style:{height:`${m}px`},className:`w-1 rounded-full transition-all duration-75 ${r==="user"?"hermes-error-bg":r==="model"?"hermes-success-bg":"hermes-error-bg/40"}`},d)})}),(0,Y.jsxs)("div",{className:`flex flex-col items-center transition-all duration-300 ${r==="model"?"hermes-success scale-110":"opacity-30"}`,children:[(0,Y.jsxs)("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Y.jsx)("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),(0,Y.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,Y.jsx)("path",{d:"M12 7v4"}),(0,Y.jsx)("line",{x1:"8",y1:"16",x2:"8",y2:"16"}),(0,Y.jsx)("line",{x1:"16",y1:"16",x2:"16",y2:"16"})]}),(0,Y.jsx)("span",{className:"text-xs font-medium mt-0.5",children:"AI"})]}),(0,Y.jsx)("span",{className:"absolute top-2 right-2 w-1.5 h-1.5 hermes-error rounded-full"})]}):(0,Y.jsx)("button",{onClick:o,disabled:s==="CONNECTING",className:"w-[52px] h-[52px] flex items-center justify-center hermes-interactive-bg hermes-text-normal rounded-lg transition-all disabled:opacity-50 hermes-border/20 active:scale-95 group",title:"Start Voice Session",children:(0,Y.jsxs)("svg",{className:"w-6 h-6 transition-transform group-hover:scale-110",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,Y.jsx)("path",{d:"M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"}),(0,Y.jsx)("path",{d:"M12 14c-4.42 0-8 2-8 5v1h16v-1c0-3-3.58-5-8-5z"}),(0,Y.jsx)("path",{className:"opacity-40",d:"M19 8c1.33 1.33 1.33 3.67 0 5"}),(0,Y.jsx)("path",{className:"opacity-70",d:"M21 6c2 2 2 6 0 8"})]})})})]})})},hS=Lb;var An=re(we()),Pb=()=>{let e=(0,J.useMemo)(()=>Ga()||{},[]);(0,J.useEffect)(()=>{let L=Ga();y(!!L?.transcripts&&L.transcripts.length>0)},[]);let[t,n]=(0,J.useState)("DISCONNECTED"),[i,o]=(0,J.useState)([]),[l,s]=(0,J.useState)(""),[r,c]=(0,J.useState)(!1),[f,d]=(0,J.useState)(!1),[m,p]=(0,J.useState)("none"),[h,T]=(0,J.useState)(0),[S,_]=(0,J.useState)([]),[g,y]=(0,J.useState)(!1),[v,E]=(0,J.useState)(()=>e.voiceName||"Zephyr"),[A,w]=(0,J.useState)(()=>e.customContext||""),[x,b]=(0,J.useState)(()=>e.systemInstruction||VT),[R,M]=(0,J.useState)(()=>e.manualApiKey||""),[F,$e]=(0,J.useState)(()=>e.currentFolder||"/"),[se,gt]=(0,J.useState)(()=>e.currentNote||null),[zo,ss]=(0,J.useState)(()=>e.totalTokens||0),[bt,Bo]=(0,J.useState)({totalTokenCount:e.totalTokens||0}),[wS,Rp]=(0,J.useState)(0),bi=(0,J.useRef)(null),Wr=(0,J.useMemo)(()=>wt(),[]),zt=(0,J.useCallback)((L,ne="info",Se,Xe)=>{o(Me=>[...Me,{id:Math.random().toString(36).substr(2,9),message:L,timestamp:new Date,type:ne,duration:Se,errorDetails:Xe}])},[]),MS=()=>{let L=Ga();L?.transcripts&&(_(L.transcripts),y(!1),zt("Previous conversation restored","info"))},Np=(0,J.useCallback)(async(L,ne)=>{let Xe=new Date().toISOString().replace(/[:T]/g,"-").split(".")[0],Me=L.toLowerCase().replace(/[^a-z0-9]/g,"-").substring(0,40),It=`chat-history-${Xe}-${Me}.md`,eu=ne.filter(Z=>!(Z.id==="welcome-init"||Z.role==="model"&&Z.text.trim().toLowerCase().replace(/\./g,"")==="done")).map((Z,tu,DS)=>{let Ii="";if(Z.role==="user")Ii=`**User**: ${Z.text}`;else if(Z.role==="model")Ii=`> ${Z.text.split(`
`).join(`
> `)}`;else if(Z.role==="system")if(Z.toolData?.name==="rename_file")Ii=`**RENAME** ~~${Z.toolData.oldContent}~~ -> [[${Z.toolData.newContent}]]`;else if(Z.toolData?.name==="topic_switch")Ii=`## ${Z.toolData.newContent}`;else{let nu=`\`\`\`system
${Z.text}
\`\`\``;if(Z.toolData){let Mp=`[[${Z.toolData.filename}]]`;Z.toolData.oldContent!==void 0&&Z.toolData.newContent!==void 0&&Z.toolData.oldContent!==Z.toolData.newContent?nu+=`

${Mp}

--- Removed
\`\`\`markdown
${Z.toolData.oldContent||"(empty)"}
\`\`\`

+++ Added
\`\`\`markdown
${Z.toolData.newContent||"(empty)"}
\`\`\``:(Z.toolData.name==="read_file"||Z.toolData.name==="create_file")&&(nu+=`

${Mp}
\`\`\`markdown
${Z.toolData.newContent}
\`\`\``)}Ii=nu}let US=DS[tu+1],kS=Z.role==="user"&&US?.role==="user";return Ii+(kS?`

`:`

---

`)}).join("");try{await qa(It,`# Conversation Archive: ${L}

${eu}`),zt(`Segment archived to ${It}`,"action")}catch(Z){let tu={toolName:"archiveConversation",content:`Summary: ${L}
History length: ${ne.length} entries`,contentSize:L.length+JSON.stringify(ne).length,stack:Z.stack,apiCall:"createFile"};zt(`Persistence Failure: ${Z.message}`,"error",void 0,tu)}},[zt]);(0,J.useEffect)(()=>{let L=S[S.length-1];if(L?.role==="system"&&L.toolData?.name==="topic_switch"){let ne=L.toolData.newContent||"Shift",Se=S.slice(0,-1);Se.length>0&&Np(ne,Se)}},[S,Np]),(0,J.useEffect)(()=>{Av().then(()=>{let L=ei();Rp(L.length),zt("HERMES_OS: Modules online.","info"),S.length===0&&_([{id:"welcome-init",role:"system",text:"HERMES OS INITIALIZED.",isComplete:!0,timestamp:Date.now()}])})},[zt]),(0,J.useEffect)(()=>{Ev({transcripts:S,voiceName:v,customContext:A,systemInstruction:x,manualApiKey:R,currentFolder:F,currentNote:se,totalTokens:zo})},[S,v,A,x,R,F,se,zo]);let wp=(0,J.useMemo)(()=>({onStatusChange:L=>{n(L),L==="CONNECTED"?zt("UPLINK ESTABLISHED.","info"):L==="DISCONNECTED"&&(p("none"),T(0))},onLog:(L,ne,Se)=>zt(L,ne,Se),onTranscription:(L,ne,Se)=>{p(Se?"none":L),_(Xe=>{let Me=Xe.reduceRight((It,jr,eu)=>It!==-1?It:jr.role===L&&!jr.isComplete?eu:-1,-1);if(Me!==-1){let It=[...Xe];return It[Me]={...It[Me],text:ne||It[Me].text,isComplete:Se},It}return[...Xe,{id:Math.random().toString(36).substr(2,9),role:L,text:ne,isComplete:Se,timestamp:Date.now()}]})},onSystemMessage:(L,ne)=>{_(Se=>{if(ne?.id){let Xe=Se.findIndex(Me=>Me.toolData?.id===ne.id);if(Xe!==-1){let Me=[...Se];return Me[Xe]={...Me[Xe],text:L,toolData:{...Me[Xe].toolData,...ne,status:ne.status||"success"}},Me}}return[...Se,{id:"sys-"+Date.now(),role:"system",text:L,isComplete:!0,toolData:ne,timestamp:Date.now()}]}),Rp(ei().length)},onInterrupted:()=>{p("none"),T(0)},onFileStateChange:(L,ne)=>{$e(L);let Se=Array.isArray(ne)?ne:ne?[ne]:[];Se.length>0&&(gt(Se[Se.length-1]),Wr&&Se.forEach(async Xe=>{let Me=app.vault.getAbstractFileByPath(Xe);Me&&await app.workspace.getLeaf("tab").openFile(Me)}))},onUsageUpdate:L=>{Bo(L);let ne=L.totalTokenCount;ne!==void 0&&ss(ne)},onVolume:L=>T(L)}),[zt,Wr]),bS=async()=>{try{let L=R.trim()||process.env.API_KEY||"";L||window.aistudio&&!await window.aistudio.hasSelectedApiKey()&&await window.aistudio.openSelectKey(),bi.current=new qr(wp),await bi.current.start(L,{voiceName:v,customContext:A,systemInstruction:x},{folder:F,note:se})}catch(L){let ne={toolName:"GeminiVoiceAssistant",content:`Voice Name: ${v}
Custom Context: ${A}
System Instruction: ${x}`,contentSize:v.length+A.length+x.length,stack:L.stack,apiCall:"startSession"};zt(`Uplink Error: ${L.message}`,"error",void 0,ne),n("ERROR")}},IS=()=>{bi.current&&(bi.current.stop(),bi.current=null,p("none"),T(0))};return(0,An.jsxs)("div",{className:`hermes-root h-screen flex flex-col selection:bg-blue-500/30 overflow-hidden font-sans ${Wr?"":"standalone"}`,children:[(0,An.jsx)(JT,{isOpen:r,onClose:()=>c(!1),voiceName:v,setVoiceName:E,customContext:A,setCustomContext:w,systemInstruction:x,setSystemInstruction:b,manualApiKey:R,setManualApiKey:M,onUpdateApiKey:()=>window.aistudio?.openSelectKey()}),(0,An.jsx)(YT,{status:t,showLogs:f,onToggleLogs:()=>d(!f),onOpenSettings:()=>c(!0)}),(0,An.jsxs)("main",{className:"flex-grow flex flex-col overflow-hidden relative pb-[80px]",children:[(0,An.jsx)(pS,{transcripts:S,hasSavedConversation:g,onRestoreConversation:MS}),(0,An.jsx)(KT,{isVisible:f,logs:i,usage:bt,onFlush:()=>o([]),fileCount:wS}),(0,An.jsx)(hS,{inputText:l,setInputText:s,onSendText:L=>{L.preventDefault(),l.trim()&&(wp.onTranscription("user",l,!0),bi.current?.sendText(l),s(""))},isListening:t==="CONNECTED",onStartSession:bS,onStopSession:IS,status:t,activeSpeaker:m,volume:h})]})]})},gS=Pb;var Ap=re(we()),os="hermes-voice-assistant",Kr=class extends vS.ItemView{constructor(n){super(n);this.root=null}getViewType(){return os}getDisplayText(){return"Hermes Voice Assistant"}async onOpen(){let n=this.containerEl.children[1];n.empty();let i=n.createDiv({cls:"hermes-root obsidian"});this.root=(0,TS.createRoot)(i),this.root.render((0,Ap.jsx)(yS.default.StrictMode,{children:(0,Ap.jsx)(gS,{})}))}async onClose(){this.root&&(this.root.unmount(),this.root=null)}};var Gb="hermes_os_settings",$r=null;var SS=()=>{if($r)return $r;let e=localStorage.getItem(Gb);if(!e)return null;try{return JSON.parse(e)}catch(t){return console.error("Failed to load settings",t),null}},ES=async()=>$r||SS();var xp=null,Xr=null,_S=e=>{xp=e};var CS=async()=>{if(Xr)return Xr;if(xp)try{return Xr=await xp.loadData()||{},Xr}catch(e){return console.error("Failed to load settings from Obsidian",e),null}return null};var AS=!1,xS=e=>{AS=!0,_S(e)};var RS=async()=>AS?CS():ES();var xn=require("obsidian"),Vb=["Kore","Puck","Charon","Fenrir","Zephyr"],ls={voiceName:"Zephyr",customContext:"",systemInstruction:"",manualApiKey:"",chatHistoryFolder:"Hermes/History"},Qr=class extends xn.PluginSettingTab{constructor(n,i){super(n,i);this.plugin=i}display(){let{containerEl:n}=this;n.empty(),n.classList.add("hermes-settings"),n.createEl("h2",{text:"Hermes Voice Assistant"}),new xn.Setting(n).setName("Voice").setDesc("Select the voice persona for the assistant").addDropdown(s=>{Vb.forEach(r=>{s.addOption(r,r)}),s.setValue(this.plugin.settings?.voiceName||ls.voiceName).onChange(async r=>{this.plugin.settings&&(this.plugin.settings.voiceName=r,await this.plugin.saveSettings())})}),new xn.Setting(n).setName("Custom Context").setDesc("Define specific behaviors or rules for the assistant (added to every session)").addTextArea(s=>{s.setPlaceholder("Define specific behaviors, personalities, or rules for the AI...").setValue(this.plugin.settings?.customContext||"").onChange(async r=>{this.plugin.settings&&(this.plugin.settings.customContext=r,await this.plugin.saveSettings())}),s.inputEl.rows=4,s.inputEl.cols=50}),new xn.Setting(n).setName("System Instructions").setDesc("Core logic instructions for the AI assistant").addTextArea(s=>{s.setPlaceholder("Core logic instructions...").setValue(this.plugin.settings?.systemInstruction||"").onChange(async r=>{this.plugin.settings&&(this.plugin.settings.systemInstruction=r,await this.plugin.saveSettings())}),s.inputEl.rows=6,s.inputEl.cols=50}),new xn.Setting(n).setName("Chat History Folder").setDesc("Folder path where chat history will be saved").addText(s=>{s.setPlaceholder("Hermes/History").setValue(this.plugin.settings?.chatHistoryFolder||ls.chatHistoryFolder).onChange(async r=>{this.plugin.settings&&(this.plugin.settings.chatHistoryFolder=r,await this.plugin.saveSettings())})}),n.createEl("h3",{text:"API Authentication"}),new xn.Setting(n).setName("Gemini API Key").setDesc("Enter your Gemini API key for the voice assistant").addText(s=>{s.setPlaceholder("Enter your Gemini API Key...").setValue(this.plugin.settings?.manualApiKey||"").onChange(async r=>{this.plugin.settings&&(this.plugin.settings.manualApiKey=r,await this.plugin.saveSettings())}),s.inputEl.type="password"});let i=document.createDocumentFragment(),o=i.createSpan({text:"API keys are handled via manual entry. "}),l=i.createEl("a",{href:"https://ai.google.dev/gemini-api/docs/billing",text:"Learn more about billing."});l.setAttr("target","_blank"),o.append(l),new xn.Setting(n).setDesc(i)}};var Zr=class extends NS.Plugin{constructor(){super(...arguments);this.settings=ls}async onload(){xS(this),await this.loadSettings(),await RS(),this.addSettingTab(new Qr(this.app,this)),this.registerView(os,n=>new Kr(n)),this.addRibbonIcon("microphone","Hermes Voice Assistant",()=>{this.activateView()}),this.addCommand({id:"open-hermes-voice",name:"Open Hermes Assistant",callback:()=>{this.activateView()}})}async activateView(){let{workspace:n}=this.app,i=null,o=n.getLeavesOfType(os);o.length>0?i=o[0]:(i=n.getRightLeaf(!1),i&&await i.setViewState({type:os,active:!0})),i&&n.revealLeaf(i)}onunload(){}async loadSettings(){this.settings=Object.assign({},ls,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
